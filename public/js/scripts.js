"use strict";$(function(){var e=$(".wrapper"),a=$("body"),t=$(".header-bottom .wrapper-inner"),s=$(".header-nav"),i=$(".header-burger"),n=$(".header .contacts"),o=$(".header .address-hours"),l=$(".header-search"),c=$(".header-cart"),r=$(".footer-subscribe"),d=$(".footer-copyrights"),h=$(".footer-social"),u=$(".chooser"),m=$(".chooser.chooser-color"),f=$(".color-list li"),v=$(".btn-catalog"),p=$(".btn-category"),g=$(".categories");function w(){$(".header-catalog-menu-item.active .header-catalog-submenu .first-item").detach(),$(".header-catalog-menu-item.active .header-catalog-submenu").fadeOut(300),$(".header-catalog-menu-item.active").removeClass("active")}function b(e){var t=$(".header-catalog > .header-catalog-submenu.desktop-active");$(e).removeClass("hovered"),$(e).removeClass("with-submenu"),t.removeClass("desktop-active"),t.appendTo($(e)),t.css("top","auto")}function C(){$(window).width()<768?(l.insertBefore(c),n.appendTo(s),o.appendTo(s),g.insertAfter(p),r.insertAfter(d)):($(window).width()<1200?(l.insertBefore(c),n.appendTo(t),o.appendTo(s),g.insertAfter(p)):(l.removeClass("active"),$(".header").removeClass("menu-opened"),l.appendTo(t),n.appendTo(t),o.appendTo(t),g.appendTo($(".wrapper-sidebar ")),w()),r.insertBefore(h))}setTimeout(function(){e.animate({opacity:1},500)},500),C(),f.each(function(){$(this).attr("data-background",$(this).css("background-color"))}),$(window).on("resize",function(){C()}),$("[data-removable-close]").on("click",function(){$(this).parents("[data-removable]").fadeOut(400,function(){$(this).detach()})}),$('.header-search button[type="submit"]').on("click",function(e){e.preventDefault();var t=$(this).parents(".header-search");$(window).width()<1200?t.hasClass("active")?t.submit():t.addClass("active"):t.submit()}),$(".field-rate-list i").on("click",function(){var s=$(this).index()+1;$(this).parents(".field-rate").find('input[type="hidden"]').val(s),$(this).parents(".field-rate-list").find("i").each(function(e,t){s<=e?$(t).removeClass("fa-red").addClass("fa-grey"):$(t).removeClass("fa-grey").addClass("fa-red")})}),$('.field-file input[type="file"]').on("change",function(){var e=$(this).val().split("\\");$(this).siblings(".field-file-text").text(e[e.length-1])}),$('input[type="tel"]').mask("+7 (999) 999-999-99"),i.on("click",function(){$(this).parents(".header").toggleClass("menu-opened")}),$("[data-call-modal]").on("click",function(){var e=$(this).attr("data-call-modal"),t=$(window).scrollTop(),s=$('[data-modal="'.concat(e,'"]'));a.addClass("modal-opened"),s.fadeIn(300).css({display:"flex",top:"".concat(t,"px")}),$(document).on("touchmove",function(e){e.preventDefault()})}),$(".modal").on("click",function(e){var t=$(e.target);!t.hasClass("modal-close")&&t.closest(".modal-inner").length||($(this).fadeOut(300),a.removeClass("modal-opened"),$(document).off("touchmove"))}),$("[data-select-control]").on("click",function(){$(this).parents("[data-select]").hasClass("active")?$(this).parents("[data-select]").removeClass("active"):($("[data-select]").removeClass("active"),$(this).parents("[data-select]").addClass("active"))}),$("[data-select] ul li").on("click",function(){if(!$(this).hasClass("active")){var e=$(this).text();$(this).addClass("active"),$(this).siblings(".active").removeClass("active"),$(this).parents("ul").siblings("[data-select-control]").text(e),$(this).parents("ul").siblings("input").val(e),$(this).parents("[data-select]").removeClass("active")}}),$(".amount-chooser-control").on("click",function(){var e=$(this).siblings("input"),t=parseInt(e.val());$(this).hasClass("amount-chooser-minus")?1<t&&e.val(t-1):$(this).hasClass("amount-chooser-plus")&&e.val(t+1),e.trigger("change")}),$(".amount-chooser input").on("change",function(){var e=$(this).parents(".amount-chooser").siblings(".card-cost").children(".card-cost-value"),t=parseInt($(this).val()),s=parseInt($(this).parents(".amount-chooser").attr("data-cost"));e.text(t*s+" руб.")}),$(".categories-handle").on("click",function(){$(this).parents(".categories").toggleClass("dropped-down")}),f.on("click",function(){$(this).hasClass("active")||($(this).addClass("active"),$(this).siblings().removeClass("active"))}),u.find(".chooser-value").on("click",function(){if($(this).closest(".catalog-brands").length&&767<$(window).width()||$(this).closest(".chooser-color").length&&767<$(window).width())return console.log("hello"),!1;$(this).parents(".chooser").hasClass("active")?$(this).parents(".chooser").removeClass("active"):(u.removeClass("active"),$(this).parents(".chooser").addClass("active"))}),u.find("ul li").on("click",function(){if(!$(this).hasClass("active")&&0===$(this).closest(".catalog-brands").length){var e=$(this).html();$(this).siblings().removeClass("active"),$(this).addClass("active"),$(this).parents(".chooser").removeClass("active"),$(this).closest(".chooser-color").length?($(window).width()<768&&$(this).parents("ul").siblings(".chooser-value").html(e),$(this).parents("ul").siblings("input").val($(this).find(".chooser-color-text").text())):($(this).parents("ul").siblings(".chooser-value").html(e),$(this).parents("ul").siblings("input").val(e))}}),m.find("ul li").on("click",function(e){if(e.preventDefault(),!$(this).hasClass("active")){var t=$(this).find(".chooser-color-text").text();$(this).parents("ul").siblings("input").val(t)}}),$(document).on("click",function(e){var t=$(e.target);0===t.closest("[data-select]").length&&$(".active[data-select]").removeClass("active"),0===t.closest(".header-search").length&&$(".header-search").removeClass("active"),0===t.closest(".chooser").length&&u.removeClass("active"),1199<$(window).width()&&0===t.closest(".header-catalog").length&&0===t.closest(".btn-catalog").length&&(v.removeClass("active"),$(".header-catalog").fadeOut(300),$(".header-catalog-menu-item.active .header-catalog-submenu .first-item").detach(),$(".header-catalog-menu-item.active .header-catalog-submenu").fadeOut(300),$(".header-catalog-menu-item.active").removeClass("active"))}),v.on("click",function(){$(this).toggleClass("active"),$(".header-catalog").fadeToggle(300),w($(this))}),p.on("click",function(){$(window).width()<1200&&($(this).toggleClass("active"),$(".categories").fadeToggle(300),$(".categories .categories-submenu .first-item").detach(),$(".categories ul li.active .categories-submenu").fadeOut(300),$(".categories ul li.active").removeClass("active"))}),$(".header-catalog-menu-handle").on("click",function(){$(window).width()<1200&&function(e){$(e).parents(".header-catalog-menu-item").addClass("active"),$('<li class="header-catalog-submenu-item first-item"><i class="fa fa-angle-left"></i>Вернуться назад</li>').prependTo($(e).siblings(".header-catalog-submenu")),$(e).siblings(".header-catalog-submenu").fadeIn(300)}($(this))}),$(".categories-menu-handle").on("click",function(){$(window).width()<1200&&($(this).parents(".categories ul li").addClass("active"),$('<li class="categories-submenu-item first-item"><i class="fa fa-angle-left"></i>Вернуться назад</li>').prependTo($(this).siblings(".categories-submenu")),$(this).siblings(".categories-submenu").fadeIn(300))}),$(".header-catalog").on("click",".header-catalog-submenu-item.first-item",function(){$(window).width()<1200&&($(this).parents(".header-catalog-menu-item").removeClass("active"),$(this).parents(".header-catalog-submenu").fadeOut(300),$(this).detach())}),$(".header-catalog-menu-item").hover(function(){if(1199<$(window).width()){$(this).addClass("hovered");var e=$(this).find(".header-catalog-submenu");e.length&&!$(".header-catalog > .header-catalog-submenu.desktop-active").length&&(e.appendTo($(".header-catalog")),$(this).addClass("with-submenu"),e.addClass("desktop-active"),e.css("top",$(this).position().top+"px"),console.log($(this).position().top,e.css("top")))}},function(){1199<$(window).width()&&($(this).hasClass("with-submenu")?$(".header-catalog > .header-catalog-submenu.desktop-active").is(":hover")||b($(this)):$(this).removeClass("hovered"))}),$(".header-catalog-submenu").hover(function(){},function(){var e=$(".header-catalog-menu-item.hovered.with-submenu");e.is(":hover")||b(e)}),g.on("click",".categories-submenu li.first-item",function(){$(window).width()<1200&&($(this).parents(".categories-submenu li").removeClass("active"),$(this).parents(".categories-submenu").fadeOut(300),$(this).detach())})}),$(function(){var e=$("body"),t=$(".catalog-filter"),s=$(".catalog-articles"),a=$(".catalog-banner"),i=$(".breadcrumbs"),n=$(".catalog-aside"),o=document.getElementById("filter-cost"),l=[document.getElementById("filter-cost-from"),document.getElementById("filter-cost-to")];function c(){$(window).width()<1200?function(){i.prependTo($(".header").next(".wrapper-inner")),0===t.find(".modal-close").length&&$('<div class="modal-close"></div>').prependTo(t);t.appendTo('.modal[data-modal="filter"]'),s.insertAfter(".pagination"),a.insertAfter(s)}():function(){i.prependTo($(".catalog-content")),e.removeClass("modal-opened"),$('.modal[data-modal="filter"]').css({display:"none",top:"auto"}),t.find(".modal-close").length&&$(t.find(".modal-close")).detach();t.prependTo(n),s.appendTo(n),a.appendTo(n)}()}c(),$(".chooser-color li").each(function(){$(this).attr("data-background",$(this).find("span").eq(0).css("background-color"))}),o&&(noUiSlider.create(o,{start:[1e3,5e3],step:100,margin:1e3,connect:!0,range:{min:0,max:8e3}}),l.forEach(function(e,t){e.addEventListener("change",function(){o.noUiSlider.setHandle(t,l[t].value)})}),o.noUiSlider.on("update",function(e,t){l[t].value=Math.trunc(e[t])})),$(window).on("resize",function(){c()})}),$(function(){var e=$(".hero");e.length&&e.slick({dots:!0,arrows:!1,fade:!0,autoplay:!0,autoplaySpeed:5e3})}),$(function(){var e=$(".item-image-large"),t=$(".item-image-small"),s=$(".item-params"),a=$(".chooser.chooser-color ul"),i=$(".item .item-list"),n=$(".item-image"),o=$(".item-form-header"),l=$(".item-delivery"),c=$(".item-form");function r(e){$(window).width()<768?$(e).each(function(){$(this).hasClass("slick-slider")&&$(this).slick("unslick")}):$(e).each(function(){$(this).hasClass("slick-slider")||$(this).slick({slidesToShow:3,infinite:!1})})}function d(){$(window).width()<768?(i.insertAfter(o),l.insertAfter(c)):$(window).width()<1200?(i.appendTo(n),l.insertAfter(c)):(i.appendTo(n),l.appendTo(c))}d(),r(a),s.length&&s.slick({slidesToShow:3,responsive:[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:2}}]}),e.length&&t.length&&(e.slick({arrows:!1,fade:!0,asNavFor:".item-image-small"}),t.slick({slidesToShow:4,focusOnSelect:!0,asNavFor:".item-image-large",responsive:[{breakpoint:1200,settings:{slidesToShow:2}}]})),$(window).on("resize",function(){r(a),d()}),$(".item-tab-header li").on("click",function(){if($(this).hasClass("active"))$(window).width()<768&&$(this).parents(".item-tab-header").toggleClass("active");else{var e=$(this).attr("data-tab");$(".item-tab-content > li").fadeOut(0),$(".item-tab-content").find('li[data-tab="'+e+'"]').fadeIn(),$(this).siblings().removeClass("active"),$(this).addClass("active"),$(window).width()<768&&$(this).parents(".item-tab-header").removeClass("active")}}),$(".item-list-all").on("click",function(){$("html, body").animate({scrollTop:$(".item-tab-content").offset().top-120},400,function(){$('.item-tab-header li[data-tab="params"]').addClass("active").siblings().removeClass("active"),$('.item-tab-content li[data-tab="params"]').fadeIn().siblings().fadeOut(0)})})}),$(function(){var e=$(".advantages ul, .reviews-rate");function t(e){$(window).width()<768?$(e).each(function(){$(this).hasClass("slick-slider")||$(this).slick()}):$(e).each(function(){$(this).hasClass("slick-slider")&&$(this).slick("unslick")})}t(e),$(window).on("resize",function(){t(e)})}),$(function(){$(".reviews-result-percent").each(function(){var e=parseInt($(this).attr("data-result-percent")),t=$(this).find(".reviews-result-percent-value");$('<div class="reviews-result-percent-color"></div>').appendTo(t).css("width",e+"%")}),$(".reviews-list .reviews-card p .show-all").on("click",function(){$(this).siblings(".all-text").css("display","inline"),$(this).siblings(".dots").css("display","none"),$(this).css("display","none")})}),$(function(){var e=$(".certificates-list, .product-list, .articles-list, .reviews-slider");e.length&&(e.each(function(){$(this).hasClass("product-list")||$(this).hasClass("certificates-list")?$(this).slick({slidesToShow:4,infinite:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:3,infinite:!1}},{breakpoint:930,settings:{slidesToShow:2,infinite:!1}},{breakpoint:768,settings:{infinite:!0,slidesToShow:1}}]}):$(this).slick({slidesToShow:2,vertical:!1,infinite:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2,infinite:!1,vertical:!0}},{breakpoint:768,settings:{slidesToShow:1,infinite:!0,vertical:!1}}]}),$(this).find(".slick-prev").addClass("disabled")}),e.on("beforeChange",function(e,t,s,a){!function(e,t){var s=$(e).find(".slick-prev"),a=$(e).find(".slick-next"),i=$(e).find(".slick-slide").length,n=$(e).find(".slick-slide.slick-active").length,o=n+1===i;0===t?(s.addClass("disabled"),a.removeClass("disabled")):s.removeClass("disabled");o?i<=t+n?(a.addClass("disabled"),s.removeClass("disabled")):a.removeClass("disabled"):i-1<t+n?(a.addClass("disabled"),s.removeClass("disabled")):a.removeClass("disabled")}($(this),a)}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJjYXRhbG9nLmpzIiwiaGVyby5qcyIsIml0ZW0uanMiLCJtb2JpbGVTbGlkZXIuanMiLCJyZXZpZXdzLmpzIiwic2xpZGVycy5qcyJdLCJuYW1lcyI6WyIkIiwid3JhcHBlciIsImJvZHkiLCJoZWFkZXJCb3R0b20iLCJoZWFkZXJOYXYiLCJidXJnZXIiLCJoZWFkZXJDb250YWN0cyIsImhlYWRlckFkZHJlc3MiLCJoZWFkZXJTZWFyY2giLCJoZWFkZXJDYXJ0IiwiZm9vdGVyU3Vic2NyaWJlIiwiZm9vdGVyQ29weXJpZ2h0cyIsImZvb3RlclNvY2lhbCIsImNob29zZXIiLCJjaG9vc2VyQ29sb3IiLCJjb2xvckl0ZW0iLCJidG5DYXRhbG9nIiwiYnRuQ2F0ZWdvcnkiLCJjYXRlZ29yaWVzIiwiYnRuQ2F0YWxvZ0NsaWNrZWQiLCJkZXRhY2giLCJmYWRlT3V0IiwicmVtb3ZlQ2xhc3MiLCJtZW51SXRlbVVuaG92ZXJlZCIsIm1lbnVJdGVtIiwic3VibWVudSIsImFwcGVuZFRvIiwiY3NzIiwicGFnZVJlcGFpbnQiLCJ3aW5kb3ciLCJ3aWR0aCIsImluc2VydEJlZm9yZSIsImluc2VydEFmdGVyIiwic2V0VGltZW91dCIsImFuaW1hdGUiLCJvcGFjaXR5IiwiZWFjaCIsInRoaXMiLCJhdHRyIiwib24iLCJwYXJlbnRzIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJoYXNDbGFzcyIsInN1Ym1pdCIsImFkZENsYXNzIiwidmFsdWUiLCJpbmRleCIsImZpbmQiLCJ2YWwiLCJlbGVtZW50IiwidmFsQXJyYXkiLCJzcGxpdCIsInNpYmxpbmdzIiwidGV4dCIsImxlbmd0aCIsIm1hc2siLCJ0b2dnbGVDbGFzcyIsInRhcmdldCIsInNjcm9sbFZhbHVlIiwic2Nyb2xsVG9wIiwibW9kYWwiLCJjb25jYXQiLCJmYWRlSW4iLCJkaXNwbGF5IiwidG9wIiwiZG9jdW1lbnQiLCJjbG9zZXN0Iiwib2ZmIiwiYW1vdW50RE9NIiwiYW1vdW50VmFsdWUiLCJwYXJzZUludCIsInRyaWdnZXIiLCJjb3N0RE9NIiwiY2hpbGRyZW4iLCJhbW91bnQiLCJpdGVtQ29zdCIsImNvbnNvbGUiLCJsb2ciLCJodG1sIiwiZmFkZVRvZ2dsZSIsImhhbmRsZSIsInByZXBlbmRUbyIsImNhdGFsb2dNZW51SGFuZGxlQ2xpY2tlZCIsImhvdmVyIiwicG9zaXRpb24iLCJpcyIsInBhcmVudE1lbnVJdGVtIiwiY2F0YWxvZ0ZpbHRlciIsImNhdGFsb2dBcnRpY2xlcyIsImNhdGFsb2dCYW5uZXIiLCJicmVhZGNydW1icyIsImNhdGFsb2dBc2lkZSIsImZpbHRlckNvc3QiLCJnZXRFbGVtZW50QnlJZCIsImZpbHRlckNvc3RIYW5kbGVzIiwiY2F0YWxvZ1JlcGFpbnQiLCJuZXh0IiwicmVuZGVyTW9iaWxlQ2F0YWxvZyIsInJlbmRlckRlc2t0b3BDYXRhbG9nIiwiZXEiLCJub1VpU2xpZGVyIiwiY3JlYXRlIiwic3RhcnQiLCJzdGVwIiwibWFyZ2luIiwiY29ubmVjdCIsInJhbmdlIiwibWluIiwibWF4IiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRIYW5kbGUiLCJ2YWx1ZXMiLCJNYXRoIiwidHJ1bmMiLCJoZXJvIiwic2xpY2siLCJkb3RzIiwiYXJyb3dzIiwiZmFkZSIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCIsIml0ZW1TbGlkZXJMYXJnZSIsIml0ZW1TbGlkZXJTbWFsbCIsInBhcmFtcyIsImNvbG9yU2xpZGVyIiwiaXRlbUxpc3QiLCJpdGVtSW1hZ2UiLCJpdGVtRm9ybUhlYWRlciIsIml0ZW1EZWxpdmVyeSIsIml0ZW1Gb3JtIiwicmVwYWludENvbG9yU2xpZGVyIiwic2xpZGVzVG9TaG93IiwiaW5maW5pdGUiLCJpdGVtUmVwYWludCIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJhc05hdkZvciIsImZvY3VzT25TZWxlY3QiLCJjdXJyZW50Iiwib2Zmc2V0IiwibW9iaWxlU2xpZGVyIiwicmVwYWludE1vYmlsZVNsaWRlciIsInZhbHVlRE9NIiwic2xpZGVycyIsInZlcnRpY2FsIiwiY3VycmVudFNsaWRlIiwibmV4dFNsaWRlIiwic2xpZGVyIiwicHJldiIsInNpemUiLCJ2aXNpYmxlIiwic21hbGxBbW91bnQiLCJzZXRTbGlkZXJBcnJvd3MiXSwibWFwcGluZ3MiOiJhQUFBQSxFQUFFLFdBRUEsSUFBTUMsRUFBVUQsRUFBRSxZQUNaRSxFQUFPRixFQUFFLFFBQ1RHLEVBQWVILEVBQUUsaUNBQ2pCSSxFQUFZSixFQUFFLGVBQ2RLLEVBQVNMLEVBQUUsa0JBQ1hNLEVBQWlCTixFQUFFLHFCQUNuQk8sRUFBZ0JQLEVBQUUsMEJBQ2xCUSxFQUFlUixFQUFFLGtCQUNqQlMsRUFBYVQsRUFBRSxnQkFDZlUsRUFBa0JWLEVBQUUscUJBQ3BCVyxFQUFtQlgsRUFBRSxzQkFDckJZLEVBQWVaLEVBQUUsa0JBQ2pCYSxFQUFVYixFQUFFLFlBQ1pjLEVBQWVkLEVBQUUsMEJBQ2pCZSxFQUFZZixFQUFFLGtCQUNkZ0IsRUFBYWhCLEVBQUUsZ0JBQ2ZpQixFQUFjakIsRUFBRSxpQkFDaEJrQixFQUFhbEIsRUFBRSxlQWtSckIsU0FBU21CLElBQ1BuQixFQUFFLHdFQUF3RW9CLFNBQzFFcEIsRUFBRSw0REFBNERxQixRQUFRLEtBQ3RFckIsRUFBRSxvQ0FBb0NzQixZQUFZLFVBVXBELFNBQVNDLEVBQW1CQyxHQUMxQixJQUFNQyxFQUFVekIsRUFBRSw0REFDbEJBLEVBQUV3QixHQUFVRixZQUFZLFdBQ3hCdEIsRUFBRXdCLEdBQVVGLFlBQVksZ0JBQ3hCRyxFQUFRSCxZQUFZLGtCQUNwQkcsRUFBUUMsU0FBUzFCLEVBQUV3QixJQUNuQkMsRUFBUUUsSUFBSSxNQUFPLFFBR3JCLFNBQVNDLElBQ0g1QixFQUFFNkIsUUFBUUMsUUFBVSxLQWV4QnRCLEVBQWF1QixhQUFhdEIsR0FDMUJILEVBQWVvQixTQUFTdEIsR0FDeEJHLEVBQWNtQixTQUFTdEIsR0FDdkJjLEVBQVdjLFlBQVlmLEdBbUJ2QlAsRUFBZ0JzQixZQUFZckIsS0Fs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ZUgsU0FBUyxjQUd2Q3FHLEVBQVE1RyxHQUFHLGVBQWdCLFNBQVNFLEVBQU82RSxFQUFPK0IsRUFBY0MsSUFNbEUsU0FBMEJDLEVBQVFELEdBQ2hDLElBQU1FLEVBQU94SixFQUFFdUosR0FBUXRHLEtBQUssZUFDdEJpRCxFQUFPbEcsRUFBRXVKLEdBQVF0RyxLQUFLLGVBQ3RCd0csRUFBT3pKLEVBQUV1SixHQUFRdEcsS0FBSyxnQkFBZ0JPLE9BQ3RDa0csRUFBVTFKLEVBQUV1SixHQUFRdEcsS0FBSyw2QkFBNkJPLE9BQ3REbUcsRUFBY0QsRUFBVSxJQUFNRCxFQUNsQixJQUFkSCxHQUNGRSxFQUFLMUcsU0FBUyxZQUNkb0QsRUFBSzVFLFlBQVksYUFFakJrSSxFQUFLbEksWUFBWSxZQUVmcUksRUFDeUJGLEdBQXZCSCxFQUFZSSxHQUNkeEQsRUFBS3BELFNBQVMsWUFDZDBHLEVBQUtsSSxZQUFZLGFBRWpCNEUsRUFBSzVFLFlBQVksWUFHT21JLEVBQU8sRUFBN0JILEVBQVlJLEdBQ2R4RCxFQUFLcEQsU0FBUyxZQUNkMEcsRUFBS2xJLFlBQVksYUFFakI0RSxFQUFLNUUsWUFBWSxZQTdCbkJzSSxDQUFnQjVKLEVBQUVxQyxNQUFPaUgiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCkge1xuXG4gIGNvbnN0IHdyYXBwZXIgPSAkKCcud3JhcHBlcicpO1xuICBjb25zdCBib2R5ID0gJCgnYm9keScpO1xuICBjb25zdCBoZWFkZXJCb3R0b20gPSAkKCcuaGVhZGVyLWJvdHRvbSAud3JhcHBlci1pbm5lcicpO1xuICBjb25zdCBoZWFkZXJOYXYgPSAkKCcuaGVhZGVyLW5hdicpO1xuICBjb25zdCBidXJnZXIgPSAkKCcuaGVhZGVyLWJ1cmdlcicpO1xuICBjb25zdCBoZWFkZXJDb250YWN0cyA9ICQoJy5oZWFkZXIgLmNvbnRhY3RzJyk7XG4gIGNvbnN0IGhlYWRlckFkZHJlc3MgPSAkKCcuaGVhZGVyIC5hZGRyZXNzLWhvdXJzJyk7XG4gIGNvbnN0IGhlYWRlclNlYXJjaCA9ICQoJy5oZWFkZXItc2VhcmNoJyk7XG4gIGNvbnN0IGhlYWRlckNhcnQgPSAkKCcuaGVhZGVyLWNhcnQnKTtcbiAgY29uc3QgZm9vdGVyU3Vic2NyaWJlID0gJCgnLmZvb3Rlci1zdWJzY3JpYmUnKTtcbiAgY29uc3QgZm9vdGVyQ29weXJpZ2h0cyA9ICQoJy5mb290ZXItY29weXJpZ2h0cycpO1xuICBjb25zdCBmb290ZXJTb2NpYWwgPSAkKCcuZm9vdGVyLXNvY2lhbCcpO1xuICBjb25zdCBjaG9vc2VyID0gJCgnLmNob29zZXInKTtcbiAgY29uc3QgY2hvb3NlckNvbG9yID0gJCgnLmNob29zZXIuY2hvb3Nlci1jb2xvcicpO1xuICBjb25zdCBjb2xvckl0ZW0gPSAkKCcuY29sb3ItbGlzdCBsaScpO1xuICBjb25zdCBidG5DYXRhbG9nID0gJCgnLmJ0bi1jYXRhbG9nJyk7XG4gIGNvbnN0IGJ0bkNhdGVnb3J5ID0gJCgnLmJ0bi1jYXRlZ29yeScpO1xuICBjb25zdCBjYXRlZ29yaWVzID0gJCgnLmNhdGVnb3JpZXMnKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB3cmFwcGVyLmFuaW1hdGUoe29wYWNpdHk6IDF9LCA1MDApO1xuICB9LCA1MDApO1xuXG4gIHBhZ2VSZXBhaW50KCk7XG5cbiAgc2V0Q29sb3JzKCk7XG5cbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgcGFnZVJlcGFpbnQoKTtcbiAgfSk7XG5cbiAgJCgnW2RhdGEtcmVtb3ZhYmxlLWNsb3NlXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXJlbW92YWJsZV0nKVxuICAgICAgLmZhZGVPdXQoNDAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuZGV0YWNoKCk7XG4gICAgICB9KTtcbiAgfSk7XG5cbiAgJCgnLmhlYWRlci1zZWFyY2ggYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm0gPSAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXItc2VhcmNoJyk7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xuICAgICAgaWYgKGZvcm0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5maWVsZC1yYXRlLWxpc3QgaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB2YWx1ZSA9ICQodGhpcykuaW5kZXgoKSArIDE7XG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuZmllbGQtcmF0ZScpLmZpbmQoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nKS52YWwodmFsdWUpO1xuICAgICQodGhpcykucGFyZW50cygnLmZpZWxkLXJhdGUtbGlzdCcpLmZpbmQoJ2knKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xuICAgICAgaWYgKGluZGV4ID49IHZhbHVlKSB7XG4gICAgICAgICQoZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2ZhLXJlZCcpLmFkZENsYXNzKCdmYS1ncmV5Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKCdmYS1ncmV5JykuYWRkQ2xhc3MoJ2ZhLXJlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAkKCcuZmllbGQtZmlsZSBpbnB1dFt0eXBlPVwiZmlsZVwiXScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdmFsQXJyYXkgPSAkKHRoaXMpLnZhbCgpLnNwbGl0KCdcXFxcJyk7XG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLmZpZWxkLWZpbGUtdGV4dCcpLnRleHQodmFsQXJyYXlbdmFsQXJyYXkubGVuZ3RoIC0gMV0pO1xuICB9KTtcblxuICAkKCdpbnB1dFt0eXBlPVwidGVsXCJdJykubWFzayhcIis3ICg5OTkpIDk5OS05OTktOTlcIik7XG5cbiAgYnVyZ2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXInKS50b2dnbGVDbGFzcygnbWVudS1vcGVuZWQnKTtcbiAgfSk7XG5cbiAgJCgnW2RhdGEtY2FsbC1tb2RhbF0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gJCh0aGlzKS5hdHRyKCdkYXRhLWNhbGwtbW9kYWwnKTtcbiAgICBjb25zdCBzY3JvbGxWYWx1ZSA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICBjb25zdCBtb2RhbCA9ICQoYFtkYXRhLW1vZGFsPVwiJHt0YXJnZXR9XCJdYCk7XG4gICAgYm9keS5hZGRDbGFzcygnbW9kYWwtb3BlbmVkJyk7XG4gICAgbW9kYWwuZmFkZUluKDMwMCkuY3NzKHtcbiAgICAgICdkaXNwbGF5JzogJ2ZsZXgnLFxuICAgICAgJ3RvcCc6IGAke3Njcm9sbFZhbHVlfXB4YFxuICAgIH0pO1xuICAgICQoZG9jdW1lbnQpLm9uKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gICQoJy5tb2RhbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICBpZiAodGFyZ2V0Lmhhc0NsYXNzKCdtb2RhbC1jbG9zZScpIHx8ICF0YXJnZXQuY2xvc2VzdCgnLm1vZGFsLWlubmVyJykubGVuZ3RoKSB7XG4gICAgICAkKHRoaXMpLmZhZGVPdXQoMzAwKTtcbiAgICAgIGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW5lZCcpO1xuICAgICAgJChkb2N1bWVudCkub2ZmKCd0b3VjaG1vdmUnKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJ1tkYXRhLXNlbGVjdC1jb250cm9sXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcblxuICAkKCdbZGF0YS1zZWxlY3RdIHVsIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykuc2libGluZ3MoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuc2libGluZ3MoJ1tkYXRhLXNlbGVjdC1jb250cm9sXScpLnRleHQodmFsdWUpO1xuICAgICAgJCh0aGlzKS5wYXJlbnRzKCd1bCcpLnNpYmxpbmdzKCdpbnB1dCcpLnZhbCh2YWx1ZSk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcblxuICAkKCcuYW1vdW50LWNob29zZXItY29udHJvbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBhbW91bnRET00gPSAkKHRoaXMpLnNpYmxpbmdzKCdpbnB1dCcpO1xuICAgIGNvbnN0IGFtb3VudFZhbHVlID0gcGFyc2VJbnQoYW1vdW50RE9NLnZhbCgpKTtcbiAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnYW1vdW50LWNob29zZXItbWludXMnKSkge1xuICAgICAgaWYgKGFtb3VudFZhbHVlID4gMSkge1xuICAgICAgICBhbW91bnRET00udmFsKGFtb3VudFZhbHVlIC0gMSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhbW91bnQtY2hvb3Nlci1wbHVzJykpIHtcbiAgICAgIGFtb3VudERPTS52YWwoYW1vdW50VmFsdWUgKyAxKTtcbiAgICB9XG4gICAgYW1vdW50RE9NLnRyaWdnZXIoJ2NoYW5nZScpO1xuICB9KTtcblxuICAkKCcuYW1vdW50LWNob29zZXIgaW5wdXQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNvc3RET00gPSAkKHRoaXMpLnBhcmVudHMoJy5hbW91bnQtY2hvb3NlcicpLnNpYmxpbmdzKCcuY2FyZC1jb3N0JykuY2hpbGRyZW4oJy5jYXJkLWNvc3QtdmFsdWUnKTtcbiAgICBjb25zdCBhbW91bnQgPSBwYXJzZUludCgkKHRoaXMpLnZhbCgpKTtcbiAgICBjb25zdCBpdGVtQ29zdCA9IHBhcnNlSW50KCQodGhpcykucGFyZW50cygnLmFtb3VudC1jaG9vc2VyJykuYXR0cignZGF0YS1jb3N0JykpO1xuICAgIGNvc3RET00udGV4dChhbW91bnQgKiBpdGVtQ29zdCArICcg0YDRg9CxLicpO1xuICB9KTtcblxuICAkKCcuY2F0ZWdvcmllcy1oYW5kbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuY2F0ZWdvcmllcycpLnRvZ2dsZUNsYXNzKCdkcm9wcGVkLWRvd24nKTtcbiAgfSk7XG5cbiAgY29sb3JJdGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcblxuICBjaG9vc2VyLmZpbmQoJy5jaG9vc2VyLXZhbHVlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHRoaXMpLmNsb3Nlc3QoJy5jYXRhbG9nLWJyYW5kcycpLmxlbmd0aCAmJiAkKHdpbmRvdykud2lkdGgoKSA+IDc2N1xuICAgICAgfHwgJCh0aGlzKS5jbG9zZXN0KCcuY2hvb3Nlci1jb2xvcicpLmxlbmd0aCAmJiAkKHdpbmRvdykud2lkdGgoKSA+IDc2Nykge1xuICAgICAgY29uc29sZS5sb2coJ2hlbGxvJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkKHRoaXMpLnBhcmVudHMoJy5jaG9vc2VyJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICQodGhpcykucGFyZW50cygnLmNob29zZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaG9vc2VyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuY2hvb3NlcicpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGNob29zZXIuZmluZCgndWwgbGknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSAmJiAkKHRoaXMpLmNsb3Nlc3QoJy5jYXRhbG9nLWJyYW5kcycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLmh0bWwoKTtcbiAgICAgICQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykucGFyZW50cygnLmNob29zZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICBpZiAoJCh0aGlzKS5jbG9zZXN0KCcuY2hvb3Nlci1jb2xvcicpLmxlbmd0aCkge1xuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuc2libGluZ3MoJy5jaG9vc2VyLXZhbHVlJykuaHRtbCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCd1bCcpLnNpYmxpbmdzKCdpbnB1dCcpLnZhbCgkKHRoaXMpLmZpbmQoJy5jaG9vc2VyLWNvbG9yLXRleHQnKS50ZXh0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCd1bCcpLnNpYmxpbmdzKCcuY2hvb3Nlci12YWx1ZScpLmh0bWwodmFsdWUpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuc2libGluZ3MoJ2lucHV0JykudmFsKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGNob29zZXJDb2xvci5maW5kKCd1bCBsaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLmZpbmQoJy5jaG9vc2VyLWNvbG9yLXRleHQnKS50ZXh0KCk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuc2libGluZ3MoJ2lucHV0JykudmFsKHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXNlbGVjdF0nKS5sZW5ndGggPT09IDApICQoJy5hY3RpdmVbZGF0YS1zZWxlY3RdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmhlYWRlci1zZWFyY2gnKS5sZW5ndGggPT09IDApICQoJy5oZWFkZXItc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmNob29zZXInKS5sZW5ndGggPT09IDApIGNob29zZXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDExOTkpIHtcbiAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmhlYWRlci1jYXRhbG9nJykubGVuZ3RoID09PSAwICYmIHRhcmdldC5jbG9zZXN0KCcuYnRuLWNhdGFsb2cnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYnRuQ2F0YWxvZy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQoJy5oZWFkZXItY2F0YWxvZycpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5hY3RpdmUgLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUgLmZpcnN0LWl0ZW0nKS5kZXRhY2goKTtcbiAgICAgICAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5hY3RpdmUgLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgICQoJy5oZWFkZXItY2F0YWxvZy1tZW51LWl0ZW0uYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgYnRuQ2F0YWxvZy5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCgnLmhlYWRlci1jYXRhbG9nJykuZmFkZVRvZ2dsZSgzMDApO1xuICAgIGJ0bkNhdGFsb2dDbGlja2VkKCQodGhpcykpO1xuICB9KTtcblxuICBidG5DYXRlZ29yeS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xuICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcuY2F0ZWdvcmllcycpLmZhZGVUb2dnbGUoMzAwKTtcbiAgICAgICQoJy5jYXRlZ29yaWVzIC5jYXRlZ29yaWVzLXN1Ym1lbnUgLmZpcnN0LWl0ZW0nKS5kZXRhY2goKTtcbiAgICAgICQoJy5jYXRlZ29yaWVzIHVsIGxpLmFjdGl2ZSAuY2F0ZWdvcmllcy1zdWJtZW51JykuZmFkZU91dCgzMDApO1xuICAgICAgJCgnLmNhdGVnb3JpZXMgdWwgbGkuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaGFuZGxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgIGNhdGFsb2dNZW51SGFuZGxlQ2xpY2tlZCgkKHRoaXMpKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5jYXRlZ29yaWVzLW1lbnUtaGFuZGxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgICQodGhpcykucGFyZW50cygnLmNhdGVnb3JpZXMgdWwgbGknKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCc8bGkgY2xhc3M9XCJjYXRlZ29yaWVzLXN1Ym1lbnUtaXRlbSBmaXJzdC1pdGVtXCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1sZWZ0XCI+PC9pPtCS0LXRgNC90YPRgtGM0YHRjyDQvdCw0LfQsNC0PC9saT4nKVxuICAgICAgICAucHJlcGVuZFRvKCQodGhpcykuc2libGluZ3MoJy5jYXRlZ29yaWVzLXN1Ym1lbnUnKSk7XG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuY2F0ZWdvcmllcy1zdWJtZW51JykuZmFkZUluKDMwMCk7XG4gICAgfVxuICB9KTtcblxuICAkKCcuaGVhZGVyLWNhdGFsb2cnKS5vbignY2xpY2snLCAnLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUtaXRlbS5maXJzdC1pdGVtJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgICQodGhpcykucGFyZW50cygnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykucGFyZW50cygnLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XG4gICAgICAkKHRoaXMpLmRldGFjaCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbScpLmhvdmVyKFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICggJCh3aW5kb3cpLndpZHRoKCkgPiAxMTk5ICkge1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdob3ZlcmVkJyk7XG4gICAgICAgIGNvbnN0IHN1Ym1lbnUgPSAkKHRoaXMpLmZpbmQoJy5oZWFkZXItY2F0YWxvZy1zdWJtZW51Jyk7XG4gICAgICAgIGlmICggc3VibWVudS5sZW5ndGggJiYhJCgnLmhlYWRlci1jYXRhbG9nID4gLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUuZGVza3RvcC1hY3RpdmUnKS5sZW5ndGggICkge1xuICAgICAgICAgIHN1Ym1lbnUuYXBwZW5kVG8oJCgnLmhlYWRlci1jYXRhbG9nJykpO1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3dpdGgtc3VibWVudScpO1xuICAgICAgICAgIHN1Ym1lbnUuYWRkQ2xhc3MoJ2Rlc2t0b3AtYWN0aXZlJyk7XG4gICAgICAgICAgc3VibWVudS5jc3MoJ3RvcCcsICQodGhpcykucG9zaXRpb24oKS50b3AgKyAncHgnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygkKHRoaXMpLnBvc2l0aW9uKCkudG9wLCBzdWJtZW51LmNzcygndG9wJykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoICQod2luZG93KS53aWR0aCgpID4gMTE5OSApIHtcbiAgICAgICAgaWYgKCAkKHRoaXMpLmhhc0NsYXNzKCd3aXRoLXN1Ym1lbnUnKSkge1xuICAgICAgICAgIGNvbnN0IHN1Ym1lbnUgPSAkKCcuaGVhZGVyLWNhdGFsb2cgPiAuaGVhZGVyLWNhdGFsb2ctc3VibWVudS5kZXNrdG9wLWFjdGl2ZScpO1xuICAgICAgICAgIGlmICggIXN1Ym1lbnUuaXMoJzpob3ZlcicpICkge1xuICAgICAgICAgICAgbWVudUl0ZW1VbmhvdmVyZWQoJCh0aGlzKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2hvdmVyZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcblxuICAkKCcuaGVhZGVyLWNhdGFsb2ctc3VibWVudScpLmhvdmVyKFxuICAgIGZ1bmN0aW9uICgpIHt9LFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHBhcmVudE1lbnVJdGVtID0gJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5ob3ZlcmVkLndpdGgtc3VibWVudScpO1xuICAgICAgaWYgKCAhcGFyZW50TWVudUl0ZW0uaXMoJzpob3ZlcicpICkge1xuICAgICAgICBtZW51SXRlbVVuaG92ZXJlZChwYXJlbnRNZW51SXRlbSk7XG4gICAgICB9XG4gICAgfVxuICApO1xuXG4gIGNhdGVnb3JpZXMub24oJ2NsaWNrJywgJy5jYXRlZ29yaWVzLXN1Ym1lbnUgbGkuZmlyc3QtaXRlbScsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCAxMjAwKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5jYXRlZ29yaWVzLXN1Ym1lbnUgbGknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5jYXRlZ29yaWVzLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XG4gICAgICAkKHRoaXMpLmRldGFjaCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gYnRuQ2F0YWxvZ0NsaWNrZWQgKGJ0bikge1xuICAgICQoJy5oZWFkZXItY2F0YWxvZy1tZW51LWl0ZW0uYWN0aXZlIC5oZWFkZXItY2F0YWxvZy1zdWJtZW51IC5maXJzdC1pdGVtJykuZGV0YWNoKCk7XG4gICAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5hY3RpdmUgLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XG4gICAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjYXRhbG9nTWVudUhhbmRsZUNsaWNrZWQgKGhhbmRsZSkge1xuICAgICQoaGFuZGxlKS5wYXJlbnRzKCcuaGVhZGVyLWNhdGFsb2ctbWVudS1pdGVtJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQoJzxsaSBjbGFzcz1cImhlYWRlci1jYXRhbG9nLXN1Ym1lbnUtaXRlbSBmaXJzdC1pdGVtXCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1sZWZ0XCI+PC9pPtCS0LXRgNC90YPRgtGM0YHRjyDQvdCw0LfQsNC0PC9saT4nKVxuICAgICAgLnByZXBlbmRUbygkKGhhbmRsZSkuc2libGluZ3MoJy5oZWFkZXItY2F0YWxvZy1zdWJtZW51JykpO1xuICAgICQoaGFuZGxlKS5zaWJsaW5ncygnLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKS5mYWRlSW4oMzAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lbnVJdGVtVW5ob3ZlcmVkIChtZW51SXRlbSkge1xuICAgIGNvbnN0IHN1Ym1lbnUgPSAkKCcuaGVhZGVyLWNhdGFsb2cgPiAuaGVhZGVyLWNhdGFsb2ctc3VibWVudS5kZXNrdG9wLWFjdGl2ZScpO1xuICAgICQobWVudUl0ZW0pLnJlbW92ZUNsYXNzKCdob3ZlcmVkJyk7XG4gICAgJChtZW51SXRlbSkucmVtb3ZlQ2xhc3MoJ3dpdGgtc3VibWVudScpO1xuICAgIHN1Ym1lbnUucmVtb3ZlQ2xhc3MoJ2Rlc2t0b3AtYWN0aXZlJyk7XG4gICAgc3VibWVudS5hcHBlbmRUbygkKG1lbnVJdGVtKSk7XG4gICAgc3VibWVudS5jc3MoJ3RvcCcsICdhdXRvJyk7XG4gIH1cblxuICBmdW5jdGlvbiBwYWdlUmVwYWludCgpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgIHJlbmRlck1vYmlsZUhlYWRlcigpO1xuICAgICAgcmVuZGVyTW9iaWxlRm9vdGVyKCk7XG4gICAgfSBlbHNlIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgIHJlbmRlclRhYmxldEhlYWRlcigpO1xuICAgICAgcmVuZGVyVGFibGV0Rm9vdGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlclNlYXJjaC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcuaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ21lbnUtb3BlbmVkJyk7XG4gICAgICByZW5kZXJEZXNrdG9wSGVhZGVyKCk7XG4gICAgICByZW5kZXJEZXNrdG9wRm9vdGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyTW9iaWxlSGVhZGVyKCkge1xuICAgIGhlYWRlclNlYXJjaC5pbnNlcnRCZWZvcmUoaGVhZGVyQ2FydCk7XG4gICAgaGVhZGVyQ29udGFjdHMuYXBwZW5kVG8oaGVhZGVyTmF2KTtcbiAgICBoZWFkZXJBZGRyZXNzLmFwcGVuZFRvKGhlYWRlck5hdik7XG4gICAgY2F0ZWdvcmllcy5pbnNlcnRBZnRlcihidG5DYXRlZ29yeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJUYWJsZXRIZWFkZXIoKSB7XG4gICAgaGVhZGVyU2VhcmNoLmluc2VydEJlZm9yZShoZWFkZXJDYXJ0KTtcbiAgICBoZWFkZXJDb250YWN0cy5hcHBlbmRUbyhoZWFkZXJCb3R0b20pO1xuICAgIGhlYWRlckFkZHJlc3MuYXBwZW5kVG8oaGVhZGVyTmF2KTtcbiAgICBjYXRlZ29yaWVzLmluc2VydEFmdGVyKGJ0bkNhdGVnb3J5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckRlc2t0b3BIZWFkZXIoKSB7XG4gICAgaGVhZGVyU2VhcmNoLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XG4gICAgaGVhZGVyQ29udGFjdHMuYXBwZW5kVG8oaGVhZGVyQm90dG9tKTtcbiAgICBoZWFkZXJBZGRyZXNzLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XG4gICAgY2F0ZWdvcmllcy5hcHBlbmRUbygkKCcud3JhcHBlci1zaWRlYmFyICcpKTtcbiAgICBidG5DYXRhbG9nQ2xpY2tlZChidG5DYXRhbG9nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlck1vYmlsZUZvb3RlcigpIHtcbiAgICBmb290ZXJTdWJzY3JpYmUuaW5zZXJ0QWZ0ZXIoZm9vdGVyQ29weXJpZ2h0cyk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJUYWJsZXRGb290ZXIoKSB7XG4gICAgZm9vdGVyU3Vic2NyaWJlLmluc2VydEJlZm9yZShmb290ZXJTb2NpYWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyRGVza3RvcEZvb3RlcigpIHtcbiAgICAgIGZvb3RlclN1YnNjcmliZS5pbnNlcnRCZWZvcmUoZm9vdGVyU29jaWFsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldENvbG9ycyAoKSB7XG4gICAgY29sb3JJdGVtLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWJhY2tncm91bmQnLCAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1jb2xvcicpKTtcbiAgICB9KTtcbiAgfVxuXG59KTtcbiIsIiQoZnVuY3Rpb24gKCkge1xuXG4gIGNvbnN0IGJvZHkgPSAkKCdib2R5Jyk7XG4gIGNvbnN0IGNhdGFsb2dGaWx0ZXIgPSAkKCcuY2F0YWxvZy1maWx0ZXInKTtcbiAgY29uc3QgY2F0YWxvZ0FydGljbGVzID0gJCgnLmNhdGFsb2ctYXJ0aWNsZXMnKTtcbiAgY29uc3QgY2F0YWxvZ0Jhbm5lciA9ICQoJy5jYXRhbG9nLWJhbm5lcicpO1xuICBjb25zdCBicmVhZGNydW1icyA9ICQoJy5icmVhZGNydW1icycpO1xuICBjb25zdCBjYXRhbG9nQXNpZGUgPSAkKCcuY2F0YWxvZy1hc2lkZScpO1xuICBjb25zdCBmaWx0ZXJDb3N0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci1jb3N0Jyk7XG4gIGNvbnN0IGZpbHRlckNvc3RIYW5kbGVzID1bXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci1jb3N0LWZyb20nKSxcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyLWNvc3QtdG8nKVxuICBdO1xuXG4gIGNhdGFsb2dSZXBhaW50KCk7XG5cbiAgc2V0Q2hvb3NlckNvbG9ycygpO1xuXG4gIGlmIChmaWx0ZXJDb3N0KSB7XG4gICAgbm9VaVNsaWRlci5jcmVhdGUoZmlsdGVyQ29zdCwge1xuICAgICAgc3RhcnQ6IFsxMDAwLCA1MDAwXSxcbiAgICAgIHN0ZXA6IDEwMCxcbiAgICAgIG1hcmdpbjogMTAwMCxcbiAgICAgIGNvbm5lY3Q6IHRydWUsXG4gICAgICByYW5nZToge1xuICAgICAgICAnbWluJzogMCxcbiAgICAgICAgJ21heCc6IDgwMDBcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmaWx0ZXJDb3N0SGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZpbHRlckNvc3Qubm9VaVNsaWRlci5zZXRIYW5kbGUoaW5kZXgsIGZpbHRlckNvc3RIYW5kbGVzW2luZGV4XS52YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBmaWx0ZXJDb3N0Lm5vVWlTbGlkZXIub24oJ3VwZGF0ZScsIGZ1bmN0aW9uICh2YWx1ZXMsIGhhbmRsZSkge1xuICAgICAgZmlsdGVyQ29zdEhhbmRsZXNbaGFuZGxlXS52YWx1ZSA9IE1hdGgudHJ1bmModmFsdWVzW2hhbmRsZV0pO1xuICAgIH0pO1xuICB9XG5cbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgY2F0YWxvZ1JlcGFpbnQoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY2F0YWxvZ1JlcGFpbnQgKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgIHJlbmRlck1vYmlsZUNhdGFsb2coKTtcbiAgICB9ICBlbHNlIHtcbiAgICAgIHJlbmRlckRlc2t0b3BDYXRhbG9nKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyTW9iaWxlQ2F0YWxvZyAoKSB7XG4gICAgYnJlYWRjcnVtYnMucHJlcGVuZFRvKCQoJy5oZWFkZXInKS5uZXh0KCcud3JhcHBlci1pbm5lcicpKTtcbiAgICBpZiAoY2F0YWxvZ0ZpbHRlci5maW5kKCcubW9kYWwtY2xvc2UnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1jbG9zZVwiPjwvZGl2PicpLnByZXBlbmRUbyhjYXRhbG9nRmlsdGVyKTtcbiAgICB9XG4gICAgY2F0YWxvZ0ZpbHRlci5hcHBlbmRUbygnLm1vZGFsW2RhdGEtbW9kYWw9XCJmaWx0ZXJcIl0nKTtcbiAgICBjYXRhbG9nQXJ0aWNsZXMuaW5zZXJ0QWZ0ZXIoJy5wYWdpbmF0aW9uJyk7XG4gICAgY2F0YWxvZ0Jhbm5lci5pbnNlcnRBZnRlcihjYXRhbG9nQXJ0aWNsZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyRGVza3RvcENhdGFsb2cgKCkge1xuICAgIGJyZWFkY3J1bWJzLnByZXBlbmRUbygkKCcuY2F0YWxvZy1jb250ZW50JykpO1xuICAgIGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW5lZCcpO1xuICAgICQoJy5tb2RhbFtkYXRhLW1vZGFsPVwiZmlsdGVyXCJdJykuY3NzKHtcbiAgICAgICdkaXNwbGF5JzogJ25vbmUnLFxuICAgICAgJ3RvcCc6ICdhdXRvJ1xuICAgIH0pO1xuICAgIGlmIChjYXRhbG9nRmlsdGVyLmZpbmQoJy5tb2RhbC1jbG9zZScpLmxlbmd0aCkge1xuICAgICAgJChjYXRhbG9nRmlsdGVyLmZpbmQoJy5tb2RhbC1jbG9zZScpKS5kZXRhY2goKTtcbiAgICB9XG4gICAgY2F0YWxvZ0ZpbHRlci5wcmVwZW5kVG8oY2F0YWxvZ0FzaWRlKTtcbiAgICBjYXRhbG9nQXJ0aWNsZXMuYXBwZW5kVG8oY2F0YWxvZ0FzaWRlKTtcbiAgICBjYXRhbG9nQmFubmVyLmFwcGVuZFRvKGNhdGFsb2dBc2lkZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDaG9vc2VyQ29sb3JzICgpIHtcbiAgICAkKCcuY2hvb3Nlci1jb2xvciBsaScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWJhY2tncm91bmQnLCAkKHRoaXMpLmZpbmQoJ3NwYW4nKS5lcSgwKS5jc3MoJ2JhY2tncm91bmQtY29sb3InKSk7XG4gICAgfSk7XG4gIH1cblxufSk7IiwiJChmdW5jdGlvbiAoKSB7XG5cbiAgY29uc3QgaGVybyA9ICQoJy5oZXJvJyk7XG5cbiAgaWYgKGhlcm8ubGVuZ3RoKSB7XG4gICAgaGVyby5zbGljayh7XG4gICAgICBkb3RzOiB0cnVlLFxuICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgIGZhZGU6IHRydWUsXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDBcbiAgICB9KTtcbiAgfVxuXG59KTtcbiIsIiQoZnVuY3Rpb24gKCkge1xuXG4gIGNvbnN0IGl0ZW1TbGlkZXJMYXJnZSA9ICQoJy5pdGVtLWltYWdlLWxhcmdlJyk7XG4gIGNvbnN0IGl0ZW1TbGlkZXJTbWFsbCA9ICQoJy5pdGVtLWltYWdlLXNtYWxsJyk7XG4gIGNvbnN0IHBhcmFtcyA9ICQoJy5pdGVtLXBhcmFtcycpO1xuICBjb25zdCBjb2xvclNsaWRlciA9ICQoJy5jaG9vc2VyLmNob29zZXItY29sb3IgdWwnKTtcbiAgY29uc3QgaXRlbUxpc3QgPSAkKCcuaXRlbSAuaXRlbS1saXN0Jyk7XG4gIGNvbnN0IGl0ZW1JbWFnZSA9ICQoJy5pdGVtLWltYWdlJyk7XG4gIGNvbnN0IGl0ZW1Gb3JtSGVhZGVyID0gJCgnLml0ZW0tZm9ybS1oZWFkZXInKTtcbiAgY29uc3QgaXRlbURlbGl2ZXJ5ID0gJCgnLml0ZW0tZGVsaXZlcnknKTtcbiAgY29uc3QgaXRlbUZvcm0gPSAkKCcuaXRlbS1mb3JtJyk7XG5cbiAgaXRlbVJlcGFpbnQoKTtcblxuICByZXBhaW50Q29sb3JTbGlkZXIoY29sb3JTbGlkZXIpO1xuXG4gIGlmIChwYXJhbXMubGVuZ3RoKSB7XG4gICAgcGFyYW1zLnNsaWNrKHtcbiAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAge1xuICAgICAgICAgIGJyZWFrcG9pbnQ6IDEyMDAsXG4gICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogNFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcbiAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXRlbVNsaWRlckxhcmdlLmxlbmd0aCAmJiBpdGVtU2xpZGVyU21hbGwubGVuZ3RoKSB7XG5cbiAgICBpdGVtU2xpZGVyTGFyZ2Uuc2xpY2soe1xuICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgIGZhZGU6IHRydWUsXG4gICAgICBhc05hdkZvcjogJy5pdGVtLWltYWdlLXNtYWxsJ1xuICAgIH0pO1xuXG4gICAgaXRlbVNsaWRlclNtYWxsLnNsaWNrKHtcbiAgICAgIHNsaWRlc1RvU2hvdzogNCxcbiAgICAgIGZvY3VzT25TZWxlY3Q6IHRydWUsXG4gICAgICBhc05hdkZvcjogJy5pdGVtLWltYWdlLWxhcmdlJyxcbiAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAge1xuICAgICAgICAgIGJyZWFrcG9pbnQ6IDEyMDAsXG4gICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuXG4gIH1cblxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICByZXBhaW50Q29sb3JTbGlkZXIoY29sb3JTbGlkZXIpO1xuICAgIGl0ZW1SZXBhaW50KCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHJlcGFpbnRDb2xvclNsaWRlcihjb2xvclNsaWRlcikge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xuICAgICAgJChjb2xvclNsaWRlcikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xuICAgICAgICAgICQodGhpcykuc2xpY2soJ3Vuc2xpY2snKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoY29sb3JTbGlkZXIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ3NsaWNrLXNsaWRlcicpKSB7XG4gICAgICAgICAgJCh0aGlzKS5zbGljayh7XG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXG4gICAgICAgICAgICBpbmZpbml0ZTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXRlbVJlcGFpbnQoKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgICByZW5kZXJNb2JpbGVJdGVtKCk7XG4gICAgfSBlbHNlIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgIHJlbmRlclRhYmxldEl0ZW0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVuZGVyRGVza3RvcEl0ZW0oKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJNb2JpbGVJdGVtICgpIHtcbiAgICBpdGVtTGlzdC5pbnNlcnRBZnRlcihpdGVtRm9ybUhlYWRlcik7XG4gICAgaXRlbURlbGl2ZXJ5Lmluc2VydEFmdGVyKGl0ZW1Gb3JtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlclRhYmxldEl0ZW0gKCkge1xuICAgIGl0ZW1MaXN0LmFwcGVuZFRvKGl0ZW1JbWFnZSk7XG4gICAgaXRlbURlbGl2ZXJ5Lmluc2VydEFmdGVyKGl0ZW1Gb3JtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckRlc2t0b3BJdGVtICgpIHtcbiAgICBpdGVtTGlzdC5hcHBlbmRUbyhpdGVtSW1hZ2UpO1xuICAgIGl0ZW1EZWxpdmVyeS5hcHBlbmRUbyhpdGVtRm9ybSk7XG4gIH1cblxuICAkKCcuaXRlbS10YWItaGVhZGVyIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgICAgICQodGhpcykucGFyZW50cygnLml0ZW0tdGFiLWhlYWRlcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY3VycmVudCA9ICQodGhpcykuYXR0cignZGF0YS10YWInKTtcbiAgICAgICQoJy5pdGVtLXRhYi1jb250ZW50ID4gbGknKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLml0ZW0tdGFiLWNvbnRlbnQnKS5maW5kKCdsaVtkYXRhLXRhYj1cIicgKyBjdXJyZW50ICsgJ1wiXScpLmZhZGVJbigpO1xuICAgICAgJCh0aGlzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgICAgICQodGhpcykucGFyZW50cygnLml0ZW0tdGFiLWhlYWRlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cblxuICAgIH1cbiAgfSk7XG5cbiAgJCgnLml0ZW0tbGlzdC1hbGwnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgc2Nyb2xsVG9wOiAkKCcuaXRlbS10YWItY29udGVudCcpLm9mZnNldCgpLnRvcCAtIDEyMFxuICAgIH0sIDQwMCwgZnVuY3Rpb24gKCkge1xuICAgICAgJCgnLml0ZW0tdGFiLWhlYWRlciBsaVtkYXRhLXRhYj1cInBhcmFtc1wiXScpXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcuaXRlbS10YWItY29udGVudCBsaVtkYXRhLXRhYj1cInBhcmFtc1wiXScpXG4gICAgICAgIC5mYWRlSW4oKS5zaWJsaW5ncygpLmZhZGVPdXQoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG59KTsiLCIkKGZ1bmN0aW9uICgpIHtcblxuICBjb25zdCBtb2JpbGVTbGlkZXIgPSAkKCcuYWR2YW50YWdlcyB1bCwgLnJldmlld3MtcmF0ZScpO1xuXG4gIHJlcGFpbnRNb2JpbGVTbGlkZXIobW9iaWxlU2xpZGVyKTtcblxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICByZXBhaW50TW9iaWxlU2xpZGVyKG1vYmlsZVNsaWRlcik7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHJlcGFpbnRNb2JpbGVTbGlkZXIobW9iaWxlU2xpZGVyKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgICAkKG1vYmlsZVNsaWRlcikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcbiAgICAgICAgICAkKHRoaXMpLnNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKG1vYmlsZVNsaWRlcikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xuICAgICAgICAgICQodGhpcykuc2xpY2soJ3Vuc2xpY2snKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbn0pO1xuIiwiJChmdW5jdGlvbiAoKSB7XG5cbiAgY29uc3QgcmV2aWV3c1Jlc3VsdFBlcmNlbnQgPSAkKCcucmV2aWV3cy1yZXN1bHQtcGVyY2VudCcpO1xuXG4gIHJldmlld3NSZXN1bHRQZXJjZW50LmVhY2goZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCdkYXRhLXJlc3VsdC1wZXJjZW50JykpO1xuICAgIGNvbnN0IHZhbHVlRE9NID0gJCh0aGlzKS5maW5kKCcucmV2aWV3cy1yZXN1bHQtcGVyY2VudC12YWx1ZScpO1xuICAgICQoJzxkaXYgY2xhc3M9XCJyZXZpZXdzLXJlc3VsdC1wZXJjZW50LWNvbG9yXCI+PC9kaXY+JylcbiAgICAgIC5hcHBlbmRUbyh2YWx1ZURPTSkuY3NzKCd3aWR0aCcsIHZhbHVlICsgJyUnKTtcbiAgfSk7XG5cbiAgJCgnLnJldmlld3MtbGlzdCAucmV2aWV3cy1jYXJkIHAgLnNob3ctYWxsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuc2libGluZ3MoJy5hbGwtdGV4dCcpLmNzcygnZGlzcGxheScsICdpbmxpbmUnKTtcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuZG90cycpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgJCh0aGlzKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICB9KTtcblxufSk7IiwiJChmdW5jdGlvbiAoKSB7XG5cbiAgY29uc3Qgc2xpZGVycyA9ICQoJy5jZXJ0aWZpY2F0ZXMtbGlzdCwgLnByb2R1Y3QtbGlzdCwgLmFydGljbGVzLWxpc3QsIC5yZXZpZXdzLXNsaWRlcicpO1xuXG4gIGlmIChzbGlkZXJzLmxlbmd0aCkge1xuXG4gICAgc2xpZGVycy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdwcm9kdWN0LWxpc3QnKSB8fCAkKHRoaXMpLmhhc0NsYXNzKCdjZXJ0aWZpY2F0ZXMtbGlzdCcpKSB7XG4gICAgICAgICQodGhpcykuc2xpY2soe1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogNCxcbiAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBicmVha3BvaW50OiAxMjAwLFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogOTMwLFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQodGhpcykuc2xpY2soe1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICB2ZXJ0aWNhbDpmYWxzZSxcbiAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBicmVha3BvaW50OiAxMjAwLFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmVydGljYWw6IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAkKHRoaXMpLmZpbmQoJy5zbGljay1wcmV2JykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfSk7XG5cbiAgICBzbGlkZXJzLm9uKCdiZWZvcmVDaGFuZ2UnLCBmdW5jdGlvbihldmVudCwgc2xpY2ssIGN1cnJlbnRTbGlkZSwgbmV4dFNsaWRlKSB7XG4gICAgICBzZXRTbGlkZXJBcnJvd3MoJCh0aGlzKSwgbmV4dFNsaWRlKTtcbiAgICB9KTtcblxuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2xpZGVyQXJyb3dzIChzbGlkZXIsIG5leHRTbGlkZSkge1xuICAgIGNvbnN0IHByZXYgPSAkKHNsaWRlcikuZmluZCgnLnNsaWNrLXByZXYnKTtcbiAgICBjb25zdCBuZXh0ID0gJChzbGlkZXIpLmZpbmQoJy5zbGljay1uZXh0Jyk7XG4gICAgY29uc3Qgc2l6ZSA9ICQoc2xpZGVyKS5maW5kKCcuc2xpY2stc2xpZGUnKS5sZW5ndGg7XG4gICAgY29uc3QgdmlzaWJsZSA9ICQoc2xpZGVyKS5maW5kKCcuc2xpY2stc2xpZGUuc2xpY2stYWN0aXZlJykubGVuZ3RoO1xuICAgIGNvbnN0IHNtYWxsQW1vdW50ID0gdmlzaWJsZSArIDEgPT09IHNpemU7XG4gICAgaWYgKG5leHRTbGlkZSA9PT0gMCkge1xuICAgICAgcHJldi5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIG5leHQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXYucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGlmIChzbWFsbEFtb3VudCkge1xuICAgICAgaWYgKG5leHRTbGlkZSArIHZpc2libGUgPj0gc2l6ZSkge1xuICAgICAgICBuZXh0LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICBwcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5leHRTbGlkZSArIHZpc2libGUgPiBzaXplIC0gMSkge1xuICAgICAgICBuZXh0LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICBwcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufSk7XG4iXX0=
