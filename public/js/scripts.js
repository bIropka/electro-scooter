"use strict";$(function(){var e=$(".wrapper"),i=$("body"),t=$(".header-bottom .wrapper-inner"),s=$(".header-nav"),a=$(".header-burger"),n=$(".header .contacts"),o=$(".header .address-hours"),l=$(".header-search"),c=$(".header-cart"),r=$(".footer-subscribe"),d=$(".footer-copyrights"),h=$(".footer-social"),u=$(".chooser"),f=$(".chooser.chooser-color"),m=$(".color-list li"),v=$(".btn-catalog"),p=$(".btn-category"),g=$(".categories");function b(){$(window).width()<768?(l.insertBefore(c),n.appendTo(s),o.appendTo(s),g.insertAfter(p),r.insertAfter(d)):($(window).width()<1200?(l.insertBefore(c),n.appendTo(t),o.appendTo(s),g.insertAfter(p)):(l.removeClass("active"),$(".header").removeClass("menu-opened"),l.appendTo(t),n.appendTo(t),o.appendTo(t),g.appendTo($(".wrapper-sidebar "))),r.insertBefore(h))}setTimeout(function(){e.animate({opacity:1},500)},500),b(),m.each(function(){$(this).attr("data-background",$(this).css("background-color"))}),$(window).on("resize",function(){b()}),$("[data-removable-close]").on("click",function(){$(this).parents("[data-removable]").fadeOut(400,function(){$(this).detach()})}),$('.header-search button[type="submit"]').on("click",function(e){e.preventDefault();var t=$(this).parents(".header-search");$(window).width()<1200?t.hasClass("active")?t.submit():t.addClass("active"):t.submit()}),$(".field-rate-list i").on("click",function(){var s=$(this).index()+1;$(this).parents(".field-rate").find('input[type="hidden"]').val(s),$(this).parents(".field-rate-list").find("i").each(function(e,t){s<=e?$(t).removeClass("fa-red").addClass("fa-grey"):$(t).removeClass("fa-grey").addClass("fa-red")})}),$('.field-file input[type="file"]').on("change",function(){var e=$(this).val().split("\\");$(this).siblings(".field-file-text").text(e[e.length-1])}),$('input[type="tel"]').mask("+7 (999) 999-999-99"),a.on("click",function(){$(this).parents(".header").toggleClass("menu-opened")}),$("[data-call-modal]").on("click",function(){var e=$(this).attr("data-call-modal"),t=$(window).scrollTop(),s=$('[data-modal="'.concat(e,'"]'));i.addClass("modal-opened"),s.fadeIn(300).css({display:"flex",top:"".concat(t,"px")}),$(document).on("touchmove",function(e){e.preventDefault()})}),$(".modal").on("click",function(e){var t=$(e.target);!t.hasClass("modal-close")&&t.closest(".modal-inner").length||($(this).fadeOut(300),i.removeClass("modal-opened"),$(document).off("touchmove"))}),$("[data-select-control]").on("click",function(){$(this).parents("[data-select]").hasClass("active")?$(this).parents("[data-select]").removeClass("active"):($("[data-select]").removeClass("active"),$(this).parents("[data-select]").addClass("active"))}),$("[data-select] ul li").on("click",function(){if(!$(this).hasClass("active")){var e=$(this).text();$(this).addClass("active"),$(this).siblings(".active").removeClass("active"),$(this).parents("ul").siblings("[data-select-control]").text(e),$(this).parents("ul").siblings("input").val(e),$(this).parents("[data-select]").removeClass("active")}}),$(".amount-chooser-control").on("click",function(){var e=$(this).siblings("input"),t=parseInt(e.val());$(this).hasClass("amount-chooser-minus")?1<t&&e.val(t-1):$(this).hasClass("amount-chooser-plus")&&e.val(t+1),e.trigger("change")}),$(".amount-chooser input").on("change",function(){var e=$(this).parents(".amount-chooser").siblings(".card-cost").children(".card-cost-value"),t=parseInt($(this).val()),s=parseInt($(this).parents(".amount-chooser").attr("data-cost"));e.text(t*s+" руб.")}),$(".categories-handle").on("click",function(){$(this).parents(".categories").toggleClass("dropped-down")}),m.on("click",function(){$(this).hasClass("active")||($(this).addClass("active"),$(this).siblings().removeClass("active"))}),u.find(".chooser-value").on("click",function(){if($(this).closest(".catalog-brands").length&&767<$(window).width()||$(this).closest(".chooser-color").length&&767<$(window).width())return console.log("hello"),!1;$(this).parents(".chooser").hasClass("active")?$(this).parents(".chooser").removeClass("active"):(u.removeClass("active"),$(this).parents(".chooser").addClass("active"))}),u.find("ul li").on("click",function(){if(!$(this).hasClass("active")&&0===$(this).closest(".catalog-brands").length){var e=$(this).html();$(this).siblings().removeClass("active"),$(this).addClass("active"),$(this).parents(".chooser").removeClass("active"),$(this).closest(".chooser-color").length?($(window).width()<768&&$(this).parents("ul").siblings(".chooser-value").html(e),$(this).parents("ul").siblings("input").val($(this).find(".chooser-color-text").text())):($(this).parents("ul").siblings(".chooser-value").html(e),$(this).parents("ul").siblings("input").val(e))}}),f.find("ul li").on("click",function(e){if(e.preventDefault(),!$(this).hasClass("active")){var t=$(this).find(".chooser-color-text").text();$(this).parents("ul").siblings("input").val(t)}}),$(document).on("click",function(e){var t=$(e.target);0===t.closest("[data-select]").length&&$(".active[data-select]").removeClass("active"),0===t.closest(".header-search").length&&$(".header-search").removeClass("active"),0===t.closest(".chooser").length&&u.removeClass("active"),1199<$(window).width()&&0===t.closest(".header-catalog").length&&0===t.closest(".btn-catalog").length&&(v.removeClass("active"),$(".header-catalog").fadeOut(300),$(".header-catalog-menu-item.active .header-catalog-submenu .first-item").detach(),$(".header-catalog-menu-item.active .header-catalog-submenu").fadeOut(300),$(".header-catalog-menu-item.active").removeClass("active"))}),v.on("click",function(){$(this).toggleClass("active"),$(".header-catalog").fadeToggle(300),$(".header-catalog-menu-item.active .header-catalog-submenu .first-item").detach(),$(".header-catalog-menu-item.active .header-catalog-submenu").fadeOut(300),$(".header-catalog-menu-item.active").removeClass("active")}),p.on("click",function(){$(window).width()<1200&&($(this).toggleClass("active"),$(".categories").fadeToggle(300),$(".categories .categories-submenu .first-item").detach(),$(".categories ul li.active .categories-submenu").fadeOut(300),$(".categories ul li.active").removeClass("active"))}),$(".header-catalog-menu-handle").on("click",function(){$(window).width()<1200&&($(this).parents(".header-catalog-menu-item").addClass("active"),$('<li class="header-catalog-submenu-item first-item"><i class="fa fa-angle-left"></i>Вернуться назад</li>').prependTo($(this).siblings(".header-catalog-submenu")),$(this).siblings(".header-catalog-submenu").fadeIn(300))}),$(".categories-menu-handle").on("click",function(){$(window).width()<1200&&($(this).parents(".categories ul li").addClass("active"),$('<li class="categories-submenu-item first-item"><i class="fa fa-angle-left"></i>Вернуться назад</li>').prependTo($(this).siblings(".categories-submenu")),$(this).siblings(".categories-submenu").fadeIn(300))}),$(".header-catalog").on("click",".header-catalog-submenu-item.first-item",function(){$(window).width()<1200&&($(this).parents(".header-catalog-menu-item").removeClass("active"),$(this).parents(".header-catalog-submenu").fadeOut(300),$(this).detach())}),g.on("click",".categories-submenu li.first-item",function(){$(window).width()<1200&&($(this).parents(".categories-submenu li").removeClass("active"),$(this).parents(".categories-submenu").fadeOut(300),$(this).detach())})}),$(function(){var e=$("body"),t=$(".catalog-filter"),s=$(".catalog-articles"),i=$(".catalog-banner"),a=$(".breadcrumbs"),n=$(".catalog-aside"),o=document.getElementById("filter-cost"),l=[document.getElementById("filter-cost-from"),document.getElementById("filter-cost-to")];function c(){$(window).width()<1200?function(){a.prependTo($(".header").next(".wrapper-inner")),0===t.find(".modal-close").length&&$('<div class="modal-close"></div>').prependTo(t);t.appendTo('.modal[data-modal="filter"]'),s.insertAfter(".pagination"),i.insertAfter(s)}():function(){a.prependTo($(".catalog-content")),e.removeClass("modal-opened"),$('.modal[data-modal="filter"]').css({display:"none",top:"auto"}),t.find(".modal-close").length&&$(t.find(".modal-close")).detach();t.prependTo(n),s.appendTo(n),i.appendTo(n)}()}c(),$(".chooser-color li").each(function(){$(this).attr("data-background",$(this).find("span").eq(0).css("background-color"))}),o&&(noUiSlider.create(o,{start:[1e3,5e3],step:100,margin:1e3,connect:!0,range:{min:0,max:8e3}}),l.forEach(function(e,t){e.addEventListener("change",function(){o.noUiSlider.setHandle(t,l[t].value)})}),o.noUiSlider.on("update",function(e,t){l[t].value=Math.trunc(e[t])})),$(window).on("resize",function(){c()})}),$(function(){var e=$(".hero");e.length&&e.slick({dots:!0,arrows:!1,fade:!0,autoplay:!0,autoplaySpeed:5e3})}),$(function(){var e=$(".item-image-large"),t=$(".item-image-small"),s=$(".item-params"),i=$(".chooser.chooser-color ul"),a=$(".item .item-list"),n=$(".item-image"),o=$(".item-form-header"),l=$(".item-delivery"),c=$(".item-form");function r(e){$(window).width()<768?$(e).each(function(){$(this).hasClass("slick-slider")&&$(this).slick("unslick")}):$(e).each(function(){$(this).hasClass("slick-slider")||$(this).slick({slidesToShow:3,infinite:!1})})}function d(){$(window).width()<768?(a.insertAfter(o),l.insertAfter(c)):$(window).width()<1200?(a.appendTo(n),l.insertAfter(c)):(a.appendTo(n),l.appendTo(c))}d(),r(i),s.length&&s.slick({slidesToShow:3,responsive:[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:2}}]}),e.length&&t.length&&(e.slick({arrows:!1,fade:!0,asNavFor:".item-image-small"}),t.slick({slidesToShow:4,focusOnSelect:!0,asNavFor:".item-image-large",responsive:[{breakpoint:1200,settings:{slidesToShow:2}}]})),$(window).on("resize",function(){r(i),d()}),$(".item-tab-header li").on("click",function(){if($(this).hasClass("active"))$(window).width()<768&&$(this).parents(".item-tab-header").toggleClass("active");else{var e=$(this).attr("data-tab");$(".item-tab-content > li").fadeOut(0),$(".item-tab-content").find('li[data-tab="'+e+'"]').fadeIn(),$(this).siblings().removeClass("active"),$(this).addClass("active"),$(window).width()<768&&$(this).parents(".item-tab-header").removeClass("active")}}),$(".item-list-all").on("click",function(){$("html, body").animate({scrollTop:$(".item-tab-content").offset().top-120},400,function(){$('.item-tab-header li[data-tab="params"]').addClass("active").siblings().removeClass("active"),$('.item-tab-content li[data-tab="params"]').fadeIn().siblings().fadeOut(0)})})}),$(function(){var e=$(".advantages ul, .reviews-rate");function t(e){$(window).width()<768?$(e).each(function(){$(this).hasClass("slick-slider")||$(this).slick()}):$(e).each(function(){$(this).hasClass("slick-slider")&&$(this).slick("unslick")})}t(e),$(window).on("resize",function(){t(e)})}),$(function(){$(".reviews-result-percent").each(function(){var e=parseInt($(this).attr("data-result-percent")),t=$(this).find(".reviews-result-percent-value");$('<div class="reviews-result-percent-color"></div>').appendTo(t).css("width",e+"%")}),$(".reviews-list .reviews-card p .show-all").on("click",function(){$(this).siblings(".all-text").css("display","inline"),$(this).siblings(".dots").css("display","none"),$(this).css("display","none")})}),$(function(){var e=$(".certificates-list, .product-list, .articles-list, .reviews-slider");e.length&&(e.each(function(){$(this).hasClass("product-list")||$(this).hasClass("certificates-list")?$(this).slick({slidesToShow:4,infinite:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:3,infinite:!1}},{breakpoint:930,settings:{slidesToShow:2,infinite:!1}},{breakpoint:768,settings:{infinite:!0,slidesToShow:1}}]}):$(this).slick({slidesToShow:2,vertical:!1,infinite:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2,infinite:!1,vertical:!0}},{breakpoint:768,settings:{slidesToShow:1,infinite:!0,vertical:!1}}]}),$(this).find(".slick-prev").addClass("disabled")}),e.on("beforeChange",function(e,t,s,i){!function(e,t){var s=$(e).find(".slick-prev"),i=$(e).find(".slick-next"),a=$(e).find(".slick-slide").length,n=$(e).find(".slick-slide.slick-active").length,o=n+1===a;0===t?(s.addClass("disabled"),i.removeClass("disabled")):s.removeClass("disabled");o?a<=t+n?(i.addClass("disabled"),s.removeClass("disabled")):i.removeClass("disabled"):a-1<t+n?(i.addClass("disabled"),s.removeClass("disabled")):i.removeClass("disabled")}($(this),i)}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJjYXRhbG9nLmpzIiwiaGVyby5qcyIsIml0ZW0uanMiLCJtb2JpbGVTbGlkZXIuanMiLCJyZXZpZXdzLmpzIiwic2xpZGVycy5qcyJdLCJuYW1lcyI6WyIkIiwid3JhcHBlciIsImJvZHkiLCJoZWFkZXJCb3R0b20iLCJoZWFkZXJOYXYiLCJidXJnZXIiLCJoZWFkZXJDb250YWN0cyIsImhlYWRlckFkZHJlc3MiLCJoZWFkZXJTZWFyY2giLCJoZWFkZXJDYXJ0IiwiZm9vdGVyU3Vic2NyaWJlIiwiZm9vdGVyQ29weXJpZ2h0cyIsImZvb3RlclNvY2lhbCIsImNob29zZXIiLCJjaG9vc2VyQ29sb3IiLCJjb2xvckl0ZW0iLCJidG5DYXRhbG9nIiwiYnRuQ2F0ZWdvcnkiLCJjYXRlZ29yaWVzIiwicGFnZVJlcGFpbnQiLCJ3aW5kb3ciLCJ3aWR0aCIsImluc2VydEJlZm9yZSIsImFwcGVuZFRvIiwiaW5zZXJ0QWZ0ZXIiLCJyZW1vdmVDbGFzcyIsInNldFRpbWVvdXQiLCJhbmltYXRlIiwib3BhY2l0eSIsImVhY2giLCJ0aGlzIiwiYXR0ciIsImNzcyIsIm9uIiwicGFyZW50cyIsImZhZGVPdXQiLCJkZXRhY2giLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsImhhc0NsYXNzIiwic3VibWl0IiwiYWRkQ2xhc3MiLCJ2YWx1ZSIsImluZGV4IiwiZmluZCIsInZhbCIsImVsZW1lbnQiLCJ2YWxBcnJheSIsInNwbGl0Iiwic2libGluZ3MiLCJ0ZXh0IiwibGVuZ3RoIiwibWFzayIsInRvZ2dsZUNsYXNzIiwidGFyZ2V0Iiwic2Nyb2xsVmFsdWUiLCJzY3JvbGxUb3AiLCJtb2RhbCIsImNvbmNhdCIsImZhZGVJbiIsImRpc3BsYXkiLCJ0b3AiLCJkb2N1bWVudCIsImNsb3Nlc3QiLCJvZmYiLCJhbW91bnRET00iLCJhbW91bnRWYWx1ZSIsInBhcnNlSW50IiwidHJpZ2dlciIsImNvc3RET00iLCJjaGlsZHJlbiIsImFtb3VudCIsIml0ZW1Db3N0IiwiY29uc29sZSIsImxvZyIsImh0bWwiLCJmYWRlVG9nZ2xlIiwicHJlcGVuZFRvIiwiY2F0YWxvZ0ZpbHRlciIsImNhdGFsb2dBcnRpY2xlcyIsImNhdGFsb2dCYW5uZXIiLCJicmVhZGNydW1icyIsImNhdGFsb2dBc2lkZSIsImZpbHRlckNvc3QiLCJnZXRFbGVtZW50QnlJZCIsImZpbHRlckNvc3RIYW5kbGVzIiwiY2F0YWxvZ1JlcGFpbnQiLCJuZXh0IiwicmVuZGVyTW9iaWxlQ2F0YWxvZyIsInJlbmRlckRlc2t0b3BDYXRhbG9nIiwiZXEiLCJub1VpU2xpZGVyIiwiY3JlYXRlIiwic3RhcnQiLCJzdGVwIiwibWFyZ2luIiwiY29ubmVjdCIsInJhbmdlIiwibWluIiwibWF4IiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRIYW5kbGUiLCJ2YWx1ZXMiLCJoYW5kbGUiLCJNYXRoIiwidHJ1bmMiLCJoZXJvIiwic2xpY2siLCJkb3RzIiwiYXJyb3dzIiwiZmFkZSIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCIsIml0ZW1TbGlkZXJMYXJnZSIsIml0ZW1TbGlkZXJTbWFsbCIsInBhcmFtcyIsImNvbG9yU2xpZGVyIiwiaXRlbUxpc3QiLCJpdGVtSW1hZ2UiLCJpdGVtRm9ybUhlYWRlciIsIml0ZW1EZWxpdmVyeSIsIml0ZW1Gb3JtIiwicmVwYWludENvbG9yU2xpZGVyIiwic2xpZGVzVG9TaG93IiwiaW5maW5pdGUiLCJpdGVtUmVwYWludCIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJhc05hdkZvciIsImZvY3VzT25TZWxlY3QiLCJjdXJyZW50Iiwib2Zmc2V0IiwibW9iaWxlU2xpZGVyIiwicmVwYWludE1vYmlsZVNsaWRlciIsInZhbHVlRE9NIiwic2xpZGVycyIsInZlcnRpY2FsIiwiY3VycmVudFNsaWRlIiwibmV4dFNsaWRlIiwic2xpZGVyIiwicHJldiIsInNpemUiLCJ2aXNpYmxlIiwic21hbGxBbW91bnQiLCJzZXRTbGlkZXJBcnJv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QkMsRUFBUUQsR0FDaEMsSUFBTUUsRUFBTy9JLEVBQUU4SSxHQUFRakcsS0FBSyxlQUN0QjJDLEVBQU94RixFQUFFOEksR0FBUWpHLEtBQUssZUFDdEJtRyxFQUFPaEosRUFBRThJLEdBQVFqRyxLQUFLLGdCQUFnQk8sT0FDdEM2RixFQUFVakosRUFBRThJLEdBQVFqRyxLQUFLLDZCQUE2Qk8sT0FDdEQ4RixFQUFjRCxFQUFVLElBQU1ELEVBQ2xCLElBQWRILEdBQ0ZFLEVBQUtyRyxTQUFTLFlBQ2Q4QyxFQUFLL0QsWUFBWSxhQUVqQnNILEVBQUt0SCxZQUFZLFlBRWZ5SCxFQUN5QkYsR0FBdkJILEVBQVlJLEdBQ2R6RCxFQUFLOUMsU0FBUyxZQUNkcUcsRUFBS3RILFlBQVksYUFFakIrRCxFQUFLL0QsWUFBWSxZQUdPdUgsRUFBTyxFQUE3QkgsRUFBWUksR0FDZHpELEVBQUs5QyxTQUFTLFlBQ2RxRyxFQUFLdEgsWUFBWSxhQUVqQitELEVBQUsvRCxZQUFZLFlBN0JuQjBILENBQWdCbkosRUFBRThCLE1BQU8rRyIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGNvbnN0IHdyYXBwZXIgPSAkKCcud3JhcHBlcicpO1xyXG4gIGNvbnN0IGJvZHkgPSAkKCdib2R5Jyk7XHJcbiAgY29uc3QgaGVhZGVyQm90dG9tID0gJCgnLmhlYWRlci1ib3R0b20gLndyYXBwZXItaW5uZXInKTtcclxuICBjb25zdCBoZWFkZXJOYXYgPSAkKCcuaGVhZGVyLW5hdicpO1xyXG4gIGNvbnN0IGJ1cmdlciA9ICQoJy5oZWFkZXItYnVyZ2VyJyk7XHJcbiAgY29uc3QgaGVhZGVyQ29udGFjdHMgPSAkKCcuaGVhZGVyIC5jb250YWN0cycpO1xyXG4gIGNvbnN0IGhlYWRlckFkZHJlc3MgPSAkKCcuaGVhZGVyIC5hZGRyZXNzLWhvdXJzJyk7XHJcbiAgY29uc3QgaGVhZGVyU2VhcmNoID0gJCgnLmhlYWRlci1zZWFyY2gnKTtcclxuICBjb25zdCBoZWFkZXJDYXJ0ID0gJCgnLmhlYWRlci1jYXJ0Jyk7XHJcbiAgY29uc3QgZm9vdGVyU3Vic2NyaWJlID0gJCgnLmZvb3Rlci1zdWJzY3JpYmUnKTtcclxuICBjb25zdCBmb290ZXJDb3B5cmlnaHRzID0gJCgnLmZvb3Rlci1jb3B5cmlnaHRzJyk7XHJcbiAgY29uc3QgZm9vdGVyU29jaWFsID0gJCgnLmZvb3Rlci1zb2NpYWwnKTtcclxuICBjb25zdCBjaG9vc2VyID0gJCgnLmNob29zZXInKTtcclxuICBjb25zdCBjaG9vc2VyQ29sb3IgPSAkKCcuY2hvb3Nlci5jaG9vc2VyLWNvbG9yJyk7XHJcbiAgY29uc3QgY29sb3JJdGVtID0gJCgnLmNvbG9yLWxpc3QgbGknKTtcclxuICBjb25zdCBidG5DYXRhbG9nID0gJCgnLmJ0bi1jYXRhbG9nJyk7XHJcbiAgY29uc3QgYnRuQ2F0ZWdvcnkgPSAkKCcuYnRuLWNhdGVnb3J5Jyk7XHJcbiAgY29uc3QgY2F0ZWdvcmllcyA9ICQoJy5jYXRlZ29yaWVzJyk7XHJcblxyXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgd3JhcHBlci5hbmltYXRlKHtvcGFjaXR5OiAxfSwgNTAwKTtcclxuICB9LCA1MDApO1xyXG5cclxuICBwYWdlUmVwYWludCgpO1xyXG5cclxuICBzZXRDb2xvcnMoKTtcclxuXHJcbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBwYWdlUmVwYWludCgpO1xyXG4gIH0pO1xyXG5cclxuICAkKCdbZGF0YS1yZW1vdmFibGUtY2xvc2VdJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1yZW1vdmFibGVdJylcclxuICAgICAgLmZhZGVPdXQoNDAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5kZXRhY2goKTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gICQoJy5oZWFkZXItc2VhcmNoIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgZm9ybSA9ICQodGhpcykucGFyZW50cygnLmhlYWRlci1zZWFyY2gnKTtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcclxuICAgICAgaWYgKGZvcm0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3JtLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCgnLmZpZWxkLXJhdGUtbGlzdCBpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLmluZGV4KCkgKyAxO1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuZmllbGQtcmF0ZScpLmZpbmQoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nKS52YWwodmFsdWUpO1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuZmllbGQtcmF0ZS1saXN0JykuZmluZCgnaScpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgIGlmIChpbmRleCA+PSB2YWx1ZSkge1xyXG4gICAgICAgICQoZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2ZhLXJlZCcpLmFkZENsYXNzKCdmYS1ncmV5Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChlbGVtZW50KS5yZW1vdmVDbGFzcygnZmEtZ3JleScpLmFkZENsYXNzKCdmYS1yZWQnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gICQoJy5maWVsZC1maWxlIGlucHV0W3R5cGU9XCJmaWxlXCJdJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHZhbEFycmF5ID0gJCh0aGlzKS52YWwoKS5zcGxpdCgnXFxcXCcpO1xyXG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLmZpZWxkLWZpbGUtdGV4dCcpLnRleHQodmFsQXJyYXlbdmFsQXJyYXkubGVuZ3RoIC0gMV0pO1xyXG4gIH0pO1xyXG5cclxuICAkKCdpbnB1dFt0eXBlPVwidGVsXCJdJykubWFzayhcIis3ICg5OTkpIDk5OS05OTktOTlcIik7XHJcblxyXG4gIGJ1cmdlci5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXInKS50b2dnbGVDbGFzcygnbWVudS1vcGVuZWQnKTtcclxuICB9KTtcclxuXHJcbiAgJCgnW2RhdGEtY2FsbC1tb2RhbF0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtY2FsbC1tb2RhbCcpO1xyXG4gICAgY29uc3Qgc2Nyb2xsVmFsdWUgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICBjb25zdCBtb2RhbCA9ICQoYFtkYXRhLW1vZGFsPVwiJHt0YXJnZXR9XCJdYCk7XHJcbiAgICBib2R5LmFkZENsYXNzKCdtb2RhbC1vcGVuZWQnKTtcclxuICAgIG1vZGFsLmZhZGVJbigzMDApLmNzcyh7XHJcbiAgICAgICdkaXNwbGF5JzogJ2ZsZXgnLFxyXG4gICAgICAndG9wJzogYCR7c2Nyb2xsVmFsdWV9cHhgXHJcbiAgICB9KTtcclxuICAgICQoZG9jdW1lbnQpLm9uKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAkKCcubW9kYWwnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcclxuICAgIGlmICh0YXJnZXQuaGFzQ2xhc3MoJ21vZGFsLWNsb3NlJykgfHwgIXRhcmdldC5jbG9zZXN0KCcubW9kYWwtaW5uZXInKS5sZW5ndGgpIHtcclxuICAgICAgJCh0aGlzKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgIGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW5lZCcpO1xyXG4gICAgICAkKGRvY3VtZW50KS5vZmYoJ3RvdWNobW92ZScpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCdbZGF0YS1zZWxlY3QtY29udHJvbF0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICQodGhpcykucGFyZW50cygnW2RhdGEtc2VsZWN0XScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQodGhpcykucGFyZW50cygnW2RhdGEtc2VsZWN0XScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCgnW2RhdGEtc2VsZWN0XSB1bCBsaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLnRleHQoKTtcclxuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQodGhpcykuc2libGluZ3MoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQodGhpcykucGFyZW50cygndWwnKS5zaWJsaW5ncygnW2RhdGEtc2VsZWN0LWNvbnRyb2xdJykudGV4dCh2YWx1ZSk7XHJcbiAgICAgICQodGhpcykucGFyZW50cygndWwnKS5zaWJsaW5ncygnaW5wdXQnKS52YWwodmFsdWUpO1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICQoJy5hbW91bnQtY2hvb3Nlci1jb250cm9sJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgYW1vdW50RE9NID0gJCh0aGlzKS5zaWJsaW5ncygnaW5wdXQnKTtcclxuICAgIGNvbnN0IGFtb3VudFZhbHVlID0gcGFyc2VJbnQoYW1vdW50RE9NLnZhbCgpKTtcclxuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhbW91bnQtY2hvb3Nlci1taW51cycpKSB7XHJcbiAgICAgIGlmIChhbW91bnRWYWx1ZSA+IDEpIHtcclxuICAgICAgICBhbW91bnRET00udmFsKGFtb3VudFZhbHVlIC0gMSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcygnYW1vdW50LWNob29zZXItcGx1cycpKSB7XHJcbiAgICAgIGFtb3VudERPTS52YWwoYW1vdW50VmFsdWUgKyAxKTtcclxuICAgIH1cclxuICAgIGFtb3VudERPTS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICB9KTtcclxuXHJcbiAgJCgnLmFtb3VudC1jaG9vc2VyIGlucHV0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGNvc3RET00gPSAkKHRoaXMpLnBhcmVudHMoJy5hbW91bnQtY2hvb3NlcicpLnNpYmxpbmdzKCcuY2FyZC1jb3N0JykuY2hpbGRyZW4oJy5jYXJkLWNvc3QtdmFsdWUnKTtcclxuICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlSW50KCQodGhpcykudmFsKCkpO1xyXG4gICAgY29uc3QgaXRlbUNvc3QgPSBwYXJzZUludCgkKHRoaXMpLnBhcmVudHMoJy5hbW91bnQtY2hvb3NlcicpLmF0dHIoJ2RhdGEtY29zdCcpKTtcclxuICAgIGNvc3RET00udGV4dChhbW91bnQgKiBpdGVtQ29zdCArICcg0YDRg9CxLicpO1xyXG4gIH0pO1xyXG5cclxuICAkKCcuY2F0ZWdvcmllcy1oYW5kbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5jYXRlZ29yaWVzJykudG9nZ2xlQ2xhc3MoJ2Ryb3BwZWQtZG93bicpO1xyXG4gIH0pO1xyXG5cclxuICBjb2xvckl0ZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCh0aGlzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgY2hvb3Nlci5maW5kKCcuY2hvb3Nlci12YWx1ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHRoaXMpLmNsb3Nlc3QoJy5jYXRhbG9nLWJyYW5kcycpLmxlbmd0aCAmJiAkKHdpbmRvdykud2lkdGgoKSA+IDc2N1xyXG4gICAgICB8fCAkKHRoaXMpLmNsb3Nlc3QoJy5jaG9vc2VyLWNvbG9yJykubGVuZ3RoICYmICQod2luZG93KS53aWR0aCgpID4gNzY3KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdoZWxsbycpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoJCh0aGlzKS5wYXJlbnRzKCcuY2hvb3NlcicpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICQodGhpcykucGFyZW50cygnLmNob29zZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hvb3Nlci5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuY2hvb3NlcicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjaG9vc2VyLmZpbmQoJ3VsIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSAmJiAkKHRoaXMpLmNsb3Nlc3QoJy5jYXRhbG9nLWJyYW5kcycpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9ICQodGhpcykuaHRtbCgpO1xyXG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuY2hvb3NlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgaWYgKCQodGhpcykuY2xvc2VzdCgnLmNob29zZXItY29sb3InKS5sZW5ndGgpIHtcclxuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcclxuICAgICAgICAgICQodGhpcykucGFyZW50cygndWwnKS5zaWJsaW5ncygnLmNob29zZXItdmFsdWUnKS5odG1sKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCd1bCcpLnNpYmxpbmdzKCdpbnB1dCcpLnZhbCgkKHRoaXMpLmZpbmQoJy5jaG9vc2VyLWNvbG9yLXRleHQnKS50ZXh0KCkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQodGhpcykucGFyZW50cygndWwnKS5zaWJsaW5ncygnLmNob29zZXItdmFsdWUnKS5odG1sKHZhbHVlKTtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuc2libGluZ3MoJ2lucHV0JykudmFsKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjaG9vc2VyQ29sb3IuZmluZCgndWwgbGknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gJCh0aGlzKS5maW5kKCcuY2hvb3Nlci1jb2xvci10ZXh0JykudGV4dCgpO1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuc2libGluZ3MoJ2lucHV0JykudmFsKHZhbHVlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XHJcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXNlbGVjdF0nKS5sZW5ndGggPT09IDApICQoJy5hY3RpdmVbZGF0YS1zZWxlY3RdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuaGVhZGVyLXNlYXJjaCcpLmxlbmd0aCA9PT0gMCkgJCgnLmhlYWRlci1zZWFyY2gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5jaG9vc2VyJykubGVuZ3RoID09PSAwKSBjaG9vc2VyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDExOTkpIHtcclxuICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuaGVhZGVyLWNhdGFsb2cnKS5sZW5ndGggPT09IDAgJiYgdGFyZ2V0LmNsb3Nlc3QoJy5idG4tY2F0YWxvZycpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGJ0bkNhdGFsb2cucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5oZWFkZXItY2F0YWxvZycpLmZhZGVPdXQoMzAwKTtcclxuICAgICAgICAkKCcuaGVhZGVyLWNhdGFsb2ctbWVudS1pdGVtLmFjdGl2ZSAuaGVhZGVyLWNhdGFsb2ctc3VibWVudSAuZmlyc3QtaXRlbScpLmRldGFjaCgpO1xyXG4gICAgICAgICQoJy5oZWFkZXItY2F0YWxvZy1tZW51LWl0ZW0uYWN0aXZlIC5oZWFkZXItY2F0YWxvZy1zdWJtZW51JykuZmFkZU91dCgzMDApO1xyXG4gICAgICAgICQoJy5oZWFkZXItY2F0YWxvZy1tZW51LWl0ZW0uYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGJ0bkNhdGFsb2cub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKCcuaGVhZGVyLWNhdGFsb2cnKS5mYWRlVG9nZ2xlKDMwMCk7XHJcbiAgICAkKCcuaGVhZGVyLWNhdGFsb2ctbWVudS1pdGVtLmFjdGl2ZSAuaGVhZGVyLWNhdGFsb2ctc3VibWVudSAuZmlyc3QtaXRlbScpLmRldGFjaCgpO1xyXG4gICAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5hY3RpdmUgLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAkKCcuaGVhZGVyLWNhdGFsb2ctbWVudS1pdGVtLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICB9KTtcclxuXHJcbiAgYnRuQ2F0ZWdvcnkub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xyXG4gICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCgnLmNhdGVnb3JpZXMnKS5mYWRlVG9nZ2xlKDMwMCk7XHJcbiAgICAgICQoJy5jYXRlZ29yaWVzIC5jYXRlZ29yaWVzLXN1Ym1lbnUgLmZpcnN0LWl0ZW0nKS5kZXRhY2goKTtcclxuICAgICAgJCgnLmNhdGVnb3JpZXMgdWwgbGkuYWN0aXZlIC5jYXRlZ29yaWVzLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICQoJy5jYXRlZ29yaWVzIHVsIGxpLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaGFuZGxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXItY2F0YWxvZy1tZW51LWl0ZW0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQoJzxsaSBjbGFzcz1cImhlYWRlci1jYXRhbG9nLXN1Ym1lbnUtaXRlbSBmaXJzdC1pdGVtXCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1sZWZ0XCI+PC9pPtCS0LXRgNC90YPRgtGM0YHRjyDQvdCw0LfQsNC0PC9saT4nKVxyXG4gICAgICAgIC5wcmVwZW5kVG8oJCh0aGlzKS5zaWJsaW5ncygnLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKSk7XHJcbiAgICAgICQodGhpcykuc2libGluZ3MoJy5oZWFkZXItY2F0YWxvZy1zdWJtZW51JykuZmFkZUluKDMwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICQoJy5jYXRlZ29yaWVzLW1lbnUtaGFuZGxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5jYXRlZ29yaWVzIHVsIGxpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKCc8bGkgY2xhc3M9XCJjYXRlZ29yaWVzLXN1Ym1lbnUtaXRlbSBmaXJzdC1pdGVtXCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1sZWZ0XCI+PC9pPtCS0LXRgNC90YPRgtGM0YHRjyDQvdCw0LfQsNC0PC9saT4nKVxyXG4gICAgICAgIC5wcmVwZW5kVG8oJCh0aGlzKS5zaWJsaW5ncygnLmNhdGVnb3JpZXMtc3VibWVudScpKTtcclxuICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmNhdGVnb3JpZXMtc3VibWVudScpLmZhZGVJbigzMDApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcuaGVhZGVyLWNhdGFsb2cnKS5vbignY2xpY2snLCAnLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUtaXRlbS5maXJzdC1pdGVtJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXItY2F0YWxvZy1tZW51LWl0ZW0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQodGhpcykucGFyZW50cygnLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICQodGhpcykuZGV0YWNoKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNhdGVnb3JpZXMub24oJ2NsaWNrJywgJy5jYXRlZ29yaWVzLXN1Ym1lbnUgbGkuZmlyc3QtaXRlbScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuY2F0ZWdvcmllcy1zdWJtZW51IGxpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5jYXRlZ29yaWVzLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICQodGhpcykuZGV0YWNoKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIHBhZ2VSZXBhaW50KCkge1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XHJcbiAgICAgIHJlbmRlck1vYmlsZUhlYWRlcigpO1xyXG4gICAgICByZW5kZXJNb2JpbGVGb290ZXIoKTtcclxuICAgIH0gZWxzZSBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCAxMjAwKSB7XHJcbiAgICAgIHJlbmRlclRhYmxldEhlYWRlcigpO1xyXG4gICAgICByZW5kZXJUYWJsZXRGb290ZXIoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhlYWRlclNlYXJjaC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQoJy5oZWFkZXInKS5yZW1vdmVDbGFzcygnbWVudS1vcGVuZWQnKTtcclxuICAgICAgcmVuZGVyRGVza3RvcEhlYWRlcigpO1xyXG4gICAgICByZW5kZXJEZXNrdG9wRm9vdGVyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJNb2JpbGVIZWFkZXIoKSB7XHJcbiAgICBoZWFkZXJTZWFyY2guaW5zZXJ0QmVmb3JlKGhlYWRlckNhcnQpO1xyXG4gICAgaGVhZGVyQ29udGFjdHMuYXBwZW5kVG8oaGVhZGVyTmF2KTtcclxuICAgIGhlYWRlckFkZHJlc3MuYXBwZW5kVG8oaGVhZGVyTmF2KTtcclxuICAgIGNhdGVnb3JpZXMuaW5zZXJ0QWZ0ZXIoYnRuQ2F0ZWdvcnkpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyVGFibGV0SGVhZGVyKCkge1xyXG4gICAgaGVhZGVyU2VhcmNoLmluc2VydEJlZm9yZShoZWFkZXJDYXJ0KTtcclxuICAgIGhlYWRlckNvbnRhY3RzLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XHJcbiAgICBoZWFkZXJBZGRyZXNzLmFwcGVuZFRvKGhlYWRlck5hdik7XHJcbiAgICBjYXRlZ29yaWVzLmluc2VydEFmdGVyKGJ0bkNhdGVnb3J5KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlckRlc2t0b3BIZWFkZXIoKSB7XHJcbiAgICBoZWFkZXJTZWFyY2guYXBwZW5kVG8oaGVhZGVyQm90dG9tKTtcclxuICAgIGhlYWRlckNvbnRhY3RzLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XHJcbiAgICBoZWFkZXJBZGRyZXNzLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XHJcbiAgICBjYXRlZ29yaWVzLmFwcGVuZFRvKCQoJy53cmFwcGVyLXNpZGViYXIgJykpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyTW9iaWxlRm9vdGVyKCkge1xyXG4gICAgZm9vdGVyU3Vic2NyaWJlLmluc2VydEFmdGVyKGZvb3RlckNvcHlyaWdodHMpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyVGFibGV0Rm9vdGVyKCkge1xyXG4gICAgZm9vdGVyU3Vic2NyaWJlLmluc2VydEJlZm9yZShmb290ZXJTb2NpYWwpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyRGVza3RvcEZvb3RlcigpIHtcclxuICAgICAgZm9vdGVyU3Vic2NyaWJlLmluc2VydEJlZm9yZShmb290ZXJTb2NpYWwpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2V0Q29sb3JzICgpIHtcclxuICAgIGNvbG9ySXRlbS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWJhY2tncm91bmQnLCAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1jb2xvcicpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG4iLCIkKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgY29uc3QgYm9keSA9ICQoJ2JvZHknKTtcclxuICBjb25zdCBjYXRhbG9nRmlsdGVyID0gJCgnLmNhdGFsb2ctZmlsdGVyJyk7XHJcbiAgY29uc3QgY2F0YWxvZ0FydGljbGVzID0gJCgnLmNhdGFsb2ctYXJ0aWNsZXMnKTtcclxuICBjb25zdCBjYXRhbG9nQmFubmVyID0gJCgnLmNhdGFsb2ctYmFubmVyJyk7XHJcbiAgY29uc3QgYnJlYWRjcnVtYnMgPSAkKCcuYnJlYWRjcnVtYnMnKTtcclxuICBjb25zdCBjYXRhbG9nQXNpZGUgPSAkKCcuY2F0YWxvZy1hc2lkZScpO1xyXG4gIGNvbnN0IGZpbHRlckNvc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyLWNvc3QnKTtcclxuICBjb25zdCBmaWx0ZXJDb3N0SGFuZGxlcyA9W1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci1jb3N0LWZyb20nKSxcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXItY29zdC10bycpXHJcbiAgXTtcclxuXHJcbiAgY2F0YWxvZ1JlcGFpbnQoKTtcclxuXHJcbiAgc2V0Q2hvb3NlckNvbG9ycygpO1xyXG5cclxuICBpZiAoZmlsdGVyQ29zdCkge1xyXG4gICAgbm9VaVNsaWRlci5jcmVhdGUoZmlsdGVyQ29zdCwge1xyXG4gICAgICBzdGFydDogWzEwMDAsIDUwMDBdLFxyXG4gICAgICBzdGVwOiAxMDAsXHJcbiAgICAgIG1hcmdpbjogMTAwMCxcclxuICAgICAgY29ubmVjdDogdHJ1ZSxcclxuICAgICAgcmFuZ2U6IHtcclxuICAgICAgICAnbWluJzogMCxcclxuICAgICAgICAnbWF4JzogODAwMFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGZpbHRlckNvc3RIYW5kbGVzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4KSB7XHJcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZpbHRlckNvc3Qubm9VaVNsaWRlci5zZXRIYW5kbGUoaW5kZXgsIGZpbHRlckNvc3RIYW5kbGVzW2luZGV4XS52YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBmaWx0ZXJDb3N0Lm5vVWlTbGlkZXIub24oJ3VwZGF0ZScsIGZ1bmN0aW9uICh2YWx1ZXMsIGhhbmRsZSkge1xyXG4gICAgICBmaWx0ZXJDb3N0SGFuZGxlc1toYW5kbGVdLnZhbHVlID0gTWF0aC50cnVuYyh2YWx1ZXNbaGFuZGxlXSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgY2F0YWxvZ1JlcGFpbnQoKTtcclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gY2F0YWxvZ1JlcGFpbnQgKCkge1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xyXG4gICAgICByZW5kZXJNb2JpbGVDYXRhbG9nKCk7XHJcbiAgICB9ICBlbHNlIHtcclxuICAgICAgcmVuZGVyRGVza3RvcENhdGFsb2coKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlck1vYmlsZUNhdGFsb2cgKCkge1xyXG4gICAgYnJlYWRjcnVtYnMucHJlcGVuZFRvKCQoJy5oZWFkZXInKS5uZXh0KCcud3JhcHBlci1pbm5lcicpKTtcclxuICAgIGlmIChjYXRhbG9nRmlsdGVyLmZpbmQoJy5tb2RhbC1jbG9zZScpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAkKCc8ZGl2IGNsYXNzPVwibW9kYWwtY2xvc2VcIj48L2Rpdj4nKS5wcmVwZW5kVG8oY2F0YWxvZ0ZpbHRlcik7XHJcbiAgICB9XHJcbiAgICBjYXRhbG9nRmlsdGVyLmFwcGVuZFRvKCcubW9kYWxbZGF0YS1tb2RhbD1cImZpbHRlclwiXScpO1xyXG4gICAgY2F0YWxvZ0FydGljbGVzLmluc2VydEFmdGVyKCcucGFnaW5hdGlvbicpO1xyXG4gICAgY2F0YWxvZ0Jhbm5lci5pbnNlcnRBZnRlcihjYXRhbG9nQXJ0aWNsZXMpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyRGVza3RvcENhdGFsb2cgKCkge1xyXG4gICAgYnJlYWRjcnVtYnMucHJlcGVuZFRvKCQoJy5jYXRhbG9nLWNvbnRlbnQnKSk7XHJcbiAgICBib2R5LnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuZWQnKTtcclxuICAgICQoJy5tb2RhbFtkYXRhLW1vZGFsPVwiZmlsdGVyXCJdJykuY3NzKHtcclxuICAgICAgJ2Rpc3BsYXknOiAnbm9uZScsXHJcbiAgICAgICd0b3AnOiAnYXV0bydcclxuICAgIH0pO1xyXG4gICAgaWYgKGNhdGFsb2dGaWx0ZXIuZmluZCgnLm1vZGFsLWNsb3NlJykubGVuZ3RoKSB7XHJcbiAgICAgICQoY2F0YWxvZ0ZpbHRlci5maW5kKCcubW9kYWwtY2xvc2UnKSkuZGV0YWNoKCk7XHJcbiAgICB9XHJcbiAgICBjYXRhbG9nRmlsdGVyLnByZXBlbmRUbyhjYXRhbG9nQXNpZGUpO1xyXG4gICAgY2F0YWxvZ0FydGljbGVzLmFwcGVuZFRvKGNhdGFsb2dBc2lkZSk7XHJcbiAgICBjYXRhbG9nQmFubmVyLmFwcGVuZFRvKGNhdGFsb2dBc2lkZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXRDaG9vc2VyQ29sb3JzICgpIHtcclxuICAgICQoJy5jaG9vc2VyLWNvbG9yIGxpJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQodGhpcykuYXR0cignZGF0YS1iYWNrZ3JvdW5kJywgJCh0aGlzKS5maW5kKCdzcGFuJykuZXEoMCkuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJykpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSk7IiwiJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGNvbnN0IGhlcm8gPSAkKCcuaGVybycpO1xyXG5cclxuICBpZiAoaGVyby5sZW5ndGgpIHtcclxuICAgIGhlcm8uc2xpY2soe1xyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICBmYWRlOiB0cnVlLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXV0b3BsYXlTcGVlZDogNTAwMFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSk7XHJcbiIsIiQoZnVuY3Rpb24gKCkge1xyXG5cclxuICBjb25zdCBpdGVtU2xpZGVyTGFyZ2UgPSAkKCcuaXRlbS1pbWFnZS1sYXJnZScpO1xyXG4gIGNvbnN0IGl0ZW1TbGlkZXJTbWFsbCA9ICQoJy5pdGVtLWltYWdlLXNtYWxsJyk7XHJcbiAgY29uc3QgcGFyYW1zID0gJCgnLml0ZW0tcGFyYW1zJyk7XHJcbiAgY29uc3QgY29sb3JTbGlkZXIgPSAkKCcuY2hvb3Nlci5jaG9vc2VyLWNvbG9yIHVsJyk7XHJcbiAgY29uc3QgaXRlbUxpc3QgPSAkKCcuaXRlbSAuaXRlbS1saXN0Jyk7XHJcbiAgY29uc3QgaXRlbUltYWdlID0gJCgnLml0ZW0taW1hZ2UnKTtcclxuICBjb25zdCBpdGVtRm9ybUhlYWRlciA9ICQoJy5pdGVtLWZvcm0taGVhZGVyJyk7XHJcbiAgY29uc3QgaXRlbURlbGl2ZXJ5ID0gJCgnLml0ZW0tZGVsaXZlcnknKTtcclxuICBjb25zdCBpdGVtRm9ybSA9ICQoJy5pdGVtLWZvcm0nKTtcclxuXHJcbiAgaXRlbVJlcGFpbnQoKTtcclxuXHJcbiAgcmVwYWludENvbG9yU2xpZGVyKGNvbG9yU2xpZGVyKTtcclxuXHJcbiAgaWYgKHBhcmFtcy5sZW5ndGgpIHtcclxuICAgIHBhcmFtcy5zbGljayh7XHJcbiAgICAgIHNsaWRlc1RvU2hvdzogMyxcclxuICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJyZWFrcG9pbnQ6IDEyMDAsXHJcbiAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDRcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcclxuICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoaXRlbVNsaWRlckxhcmdlLmxlbmd0aCAmJiBpdGVtU2xpZGVyU21hbGwubGVuZ3RoKSB7XHJcblxyXG4gICAgaXRlbVNsaWRlckxhcmdlLnNsaWNrKHtcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgZmFkZTogdHJ1ZSxcclxuICAgICAgYXNOYXZGb3I6ICcuaXRlbS1pbWFnZS1zbWFsbCdcclxuICAgIH0pO1xyXG5cclxuICAgIGl0ZW1TbGlkZXJTbWFsbC5zbGljayh7XHJcbiAgICAgIHNsaWRlc1RvU2hvdzogNCxcclxuICAgICAgZm9jdXNPblNlbGVjdDogdHJ1ZSxcclxuICAgICAgYXNOYXZGb3I6ICcuaXRlbS1pbWFnZS1sYXJnZScsXHJcbiAgICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBicmVha3BvaW50OiAxMjAwLFxyXG4gICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdXHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIHJlcGFpbnRDb2xvclNsaWRlcihjb2xvclNsaWRlcik7XHJcbiAgICBpdGVtUmVwYWludCgpO1xyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiByZXBhaW50Q29sb3JTbGlkZXIoY29sb3JTbGlkZXIpIHtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xyXG4gICAgICAkKGNvbG9yU2xpZGVyKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcclxuICAgICAgICAgICQodGhpcykuc2xpY2soJ3Vuc2xpY2snKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJChjb2xvclNsaWRlcikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xyXG4gICAgICAgICAgJCh0aGlzKS5zbGljayh7XHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcclxuICAgICAgICAgICAgaW5maW5pdGU6IGZhbHNlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXRlbVJlcGFpbnQoKSB7XHJcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcclxuICAgICAgcmVuZGVyTW9iaWxlSXRlbSgpO1xyXG4gICAgfSBlbHNlIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcclxuICAgICAgcmVuZGVyVGFibGV0SXRlbSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVuZGVyRGVza3RvcEl0ZW0oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlck1vYmlsZUl0ZW0gKCkge1xyXG4gICAgaXRlbUxpc3QuaW5zZXJ0QWZ0ZXIoaXRlbUZvcm1IZWFkZXIpO1xyXG4gICAgaXRlbURlbGl2ZXJ5Lmluc2VydEFmdGVyKGl0ZW1Gb3JtKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlclRhYmxldEl0ZW0gKCkge1xyXG4gICAgaXRlbUxpc3QuYXBwZW5kVG8oaXRlbUltYWdlKTtcclxuICAgIGl0ZW1EZWxpdmVyeS5pbnNlcnRBZnRlcihpdGVtRm9ybSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJEZXNrdG9wSXRlbSAoKSB7XHJcbiAgICBpdGVtTGlzdC5hcHBlbmRUbyhpdGVtSW1hZ2UpO1xyXG4gICAgaXRlbURlbGl2ZXJ5LmFwcGVuZFRvKGl0ZW1Gb3JtKTtcclxuICB9XHJcblxyXG4gICQoJy5pdGVtLXRhYi1oZWFkZXIgbGknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuaXRlbS10YWItaGVhZGVyJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBjdXJyZW50ID0gJCh0aGlzKS5hdHRyKCdkYXRhLXRhYicpO1xyXG4gICAgICAkKCcuaXRlbS10YWItY29udGVudCA+IGxpJykuZmFkZU91dCgwKTtcclxuICAgICAgJCgnLml0ZW0tdGFiLWNvbnRlbnQnKS5maW5kKCdsaVtkYXRhLXRhYj1cIicgKyBjdXJyZW50ICsgJ1wiXScpLmZhZGVJbigpO1xyXG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuaXRlbS10YWItaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcuaXRlbS1saXN0LWFsbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgc2Nyb2xsVG9wOiAkKCcuaXRlbS10YWItY29udGVudCcpLm9mZnNldCgpLnRvcCAtIDEyMFxyXG4gICAgfSwgNDAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQoJy5pdGVtLXRhYi1oZWFkZXIgbGlbZGF0YS10YWI9XCJwYXJhbXNcIl0nKVxyXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQoJy5pdGVtLXRhYi1jb250ZW50IGxpW2RhdGEtdGFiPVwicGFyYW1zXCJdJylcclxuICAgICAgICAuZmFkZUluKCkuc2libGluZ3MoKS5mYWRlT3V0KDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG59KTsiLCIkKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgY29uc3QgbW9iaWxlU2xpZGVyID0gJCgnLmFkdmFudGFnZXMgdWwsIC5yZXZpZXdzLXJhdGUnKTtcclxuXHJcbiAgcmVwYWludE1vYmlsZVNsaWRlcihtb2JpbGVTbGlkZXIpO1xyXG5cclxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIHJlcGFpbnRNb2JpbGVTbGlkZXIobW9iaWxlU2xpZGVyKTtcclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gcmVwYWludE1vYmlsZVNsaWRlcihtb2JpbGVTbGlkZXIpIHtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xyXG4gICAgICAkKG1vYmlsZVNsaWRlcikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xyXG4gICAgICAgICAgJCh0aGlzKS5zbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkKG1vYmlsZVNsaWRlcikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3NsaWNrLXNsaWRlcicpKSB7XHJcbiAgICAgICAgICAkKHRoaXMpLnNsaWNrKCd1bnNsaWNrJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KTtcclxuIiwiJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGNvbnN0IHJldmlld3NSZXN1bHRQZXJjZW50ID0gJCgnLnJldmlld3MtcmVzdWx0LXBlcmNlbnQnKTtcclxuXHJcbiAgcmV2aWV3c1Jlc3VsdFBlcmNlbnQuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KCQodGhpcykuYXR0cignZGF0YS1yZXN1bHQtcGVyY2VudCcpKTtcclxuICAgIGNvbnN0IHZhbHVlRE9NID0gJCh0aGlzKS5maW5kKCcucmV2aWV3cy1yZXN1bHQtcGVyY2VudC12YWx1ZScpO1xyXG4gICAgJCgnPGRpdiBjbGFzcz1cInJldmlld3MtcmVzdWx0LXBlcmNlbnQtY29sb3JcIj48L2Rpdj4nKVxyXG4gICAgICAuYXBwZW5kVG8odmFsdWVET00pLmNzcygnd2lkdGgnLCB2YWx1ZSArICclJyk7XHJcbiAgfSk7XHJcblxyXG4gICQoJy5yZXZpZXdzLWxpc3QgLnJldmlld3MtY2FyZCBwIC5zaG93LWFsbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykuc2libGluZ3MoJy5hbGwtdGV4dCcpLmNzcygnZGlzcGxheScsICdpbmxpbmUnKTtcclxuICAgICQodGhpcykuc2libGluZ3MoJy5kb3RzJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICQodGhpcykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICB9KTtcclxuXHJcbn0pOyIsIiQoZnVuY3Rpb24gKCkge1xyXG5cclxuICBjb25zdCBzbGlkZXJzID0gJCgnLmNlcnRpZmljYXRlcy1saXN0LCAucHJvZHVjdC1saXN0LCAuYXJ0aWNsZXMtbGlzdCwgLnJldmlld3Mtc2xpZGVyJyk7XHJcblxyXG4gIGlmIChzbGlkZXJzLmxlbmd0aCkge1xyXG5cclxuICAgIHNsaWRlcnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdwcm9kdWN0LWxpc3QnKSB8fCAkKHRoaXMpLmhhc0NsYXNzKCdjZXJ0aWZpY2F0ZXMtbGlzdCcpKSB7XHJcbiAgICAgICAgJCh0aGlzKS5zbGljayh7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXHJcbiAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXHJcbiAgICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBicmVha3BvaW50OiAxMjAwLFxyXG4gICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2VcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBicmVha3BvaW50OiA5MzAsXHJcbiAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcclxuICAgICAgICAgICAgICAgIGluZmluaXRlOiBmYWxzZVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcclxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDFcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKHRoaXMpLnNsaWNrKHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcclxuICAgICAgICAgIHZlcnRpY2FsOmZhbHNlLFxyXG4gICAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogMTIwMCxcclxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdmVydGljYWw6IHRydWVcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBicmVha3BvaW50OiA3NjgsXHJcbiAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmVydGljYWw6IGZhbHNlXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgJCh0aGlzKS5maW5kKCcuc2xpY2stcHJldicpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2xpZGVycy5vbignYmVmb3JlQ2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIHNsaWNrLCBjdXJyZW50U2xpZGUsIG5leHRTbGlkZSkge1xyXG4gICAgICBzZXRTbGlkZXJBcnJvd3MoJCh0aGlzKSwgbmV4dFNsaWRlKTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldFNsaWRlckFycm93cyAoc2xpZGVyLCBuZXh0U2xpZGUpIHtcclxuICAgIGNvbnN0IHByZXYgPSAkKHNsaWRlcikuZmluZCgnLnNsaWNrLXByZXYnKTtcclxuICAgIGNvbnN0IG5leHQgPSAkKHNsaWRlcikuZmluZCgnLnNsaWNrLW5leHQnKTtcclxuICAgIGNvbnN0IHNpemUgPSAkKHNsaWRlcikuZmluZCgnLnNsaWNrLXNsaWRlJykubGVuZ3RoO1xyXG4gICAgY29uc3QgdmlzaWJsZSA9ICQoc2xpZGVyKS5maW5kKCcuc2xpY2stc2xpZGUuc2xpY2stYWN0aXZlJykubGVuZ3RoO1xyXG4gICAgY29uc3Qgc21hbGxBbW91bnQgPSB2aXNpYmxlICsgMSA9PT0gc2l6ZTtcclxuICAgIGlmIChuZXh0U2xpZGUgPT09IDApIHtcclxuICAgICAgcHJldi5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgbmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHByZXYucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoc21hbGxBbW91bnQpIHtcclxuICAgICAgaWYgKG5leHRTbGlkZSArIHZpc2libGUgPj0gc2l6ZSkge1xyXG4gICAgICAgIG5leHQuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgcHJldi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuZXh0LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAobmV4dFNsaWRlICsgdmlzaWJsZSA+IHNpemUgLSAxKSB7XHJcbiAgICAgICAgbmV4dC5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICBwcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5leHQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG59KTtcclxuIl19
