"use strict";$(function(){var e=$(".wrapper"),s=$("body"),t=$(".header-bottom .wrapper-inner"),a=$(".header-nav"),i=$(".header-burger"),n=$(".header .contacts"),o=$(".header .address-hours"),l=$(".header-search"),c=$(".header-cart"),r=$(".footer-subscribe"),d=$(".footer-copyrights"),h=$(".footer-social"),u=$(".chooser"),f=$(".chooser.chooser-color"),v=$(".color-list li"),p=$(".btn-catalog"),m=$(".btn-category"),g=$(".categories");function b(e){var t=$(e),s=t.hasClass("field-rate")?0:parseInt($(e).val());0===s&&(t=t.find("input").first()),t.parent().find("input[type=radio]").each(function(e,t){var a=$(t).next("label").find("i");e<s?a.removeClass("fa-star-o").addClass("fa-star"):a.removeClass("fa-star").addClass("fa-star-o")})}function w(){$(".header-catalog-menu-item.active .header-catalog-submenu .first-item").detach(),$(".header-catalog-menu-item.active .header-catalog-submenu").fadeOut(300),$(".header-catalog-menu-item.active").removeClass("active")}function C(e){var t=$(".header-catalog > .header-catalog-submenu.desktop-active");$(e).removeClass("hovered"),$(e).removeClass("with-submenu"),t.removeClass("desktop-active"),t.appendTo($(e)),t.css("top","auto")}function k(){$(window).width()<768?(l.insertBefore(c),n.appendTo(a),o.appendTo(a),g.insertAfter(m),r.insertAfter(d)):($(window).width()<1200?(l.insertBefore(c),n.appendTo(t),o.appendTo(a),g.insertAfter(m)):(l.removeClass("active"),$(".header").removeClass("menu-opened"),l.appendTo(t),n.appendTo(t),o.appendTo(t),g.appendTo($(".wrapper-sidebar ")),w()),r.insertBefore(h))}setTimeout(function(){e.animate({opacity:1},500)},500),k(),v.each(function(){$(this).attr("data-background",$(this).css("background-color"))}),$(window).on("resize",function(){k()}),$("[data-removable-close]").on("click",function(){$(this).parents("[data-removable]").fadeOut(400,function(){$(this).detach()})}),$('.header-search button[type="submit"]').on("click",function(e){e.preventDefault();var t=$(this).parents(".header-search");$(window).width()<1200?t.hasClass("active")?t.submit():t.addClass("active"):t.submit()}),$(".field-rate-list i").on("click",function(){var a=$(this).index()+1;$(this).parents(".field-rate").find('input[type="hidden"]').val(a),$(this).parents(".field-rate-list").find("i").each(function(e,t){a<=e?$(t).removeClass("fa-red").addClass("fa-grey"):$(t).removeClass("fa-grey").addClass("fa-red")})}),$('.field-file input[type="file"]').on("change",function(){var e=$(this).val().split("\\");$(this).siblings(".field-file-text").text(e[e.length-1])}),$('input[type="tel"]').mask("+7 (999) 999-999-99"),i.on("click",function(){$(this).parents(".header").toggleClass("menu-opened")}),$("[data-call-modal]").on("click",function(){var e=$(this).attr("data-call-modal"),t=$(window).scrollTop(),a=$('[data-modal="'.concat(e,'"]'));s.addClass("modal-opened"),a.fadeIn(300).css({display:"flex",top:"".concat(t,"px")}),$(document).on("touchmove",function(e){e.preventDefault()})}),$(".modal").on("click",function(e){var t=$(e.target);!t.hasClass("modal-close")&&t.closest(".modal-inner").length||($(this).fadeOut(300),s.removeClass("modal-opened"),$(document).off("touchmove"))}),$("[data-select-control]").on("click",function(){$(this).parents("[data-select]").hasClass("active")?$(this).parents("[data-select]").removeClass("active"):($("[data-select]").removeClass("active"),$(this).parents("[data-select]").addClass("active"))}),$("[data-select] ul li").on("click",function(){if(!$(this).hasClass("active")){var e=$(this).text();$(this).addClass("active"),$(this).siblings(".active").removeClass("active"),$(this).parents("ul").siblings("[data-select-control]").text(e),$(this).parents("ul").siblings("input").val(e),$(this).parents("[data-select]").removeClass("active")}}),$(".amount-chooser-control").on("click",function(){var e=$(this).siblings("input"),t=parseInt(e.val());$(this).hasClass("amount-chooser-minus")?1<t&&e.val(t-1):$(this).hasClass("amount-chooser-plus")&&e.val(t+1),e.trigger("change")}),$(".amount-chooser input").on("change",function(){var e=$(this).parents(".amount-chooser").siblings(".card-cost").children(".card-cost-value"),t=parseInt($(this).val()),a=parseInt($(this).parents(".amount-chooser").attr("data-cost"));e.text(t*a+" руб.")}),$(".categories-handle").on("click",function(){$(this).parents(".categories").toggleClass("dropped-down")}),v.on("click",function(){$(this).hasClass("active")||($(this).addClass("active"),$(this).siblings().removeClass("active"))}),u.find(".chooser-value").on("click",function(){if($(this).closest(".catalog-brands").length&&767<$(window).width()||$(this).closest(".chooser-color").length&&767<$(window).width())return console.log("hello"),!1;$(this).parents(".chooser").hasClass("active")?$(this).parents(".chooser").removeClass("active"):(u.removeClass("active"),$(this).parents(".chooser").addClass("active"))}),u.find("ul li").on("click",function(){if(!$(this).hasClass("active")&&0===$(this).closest(".catalog-brands").length){var e=$(this).html();$(this).siblings().removeClass("active"),$(this).addClass("active"),$(this).parents(".chooser").removeClass("active"),$(this).closest(".chooser-color").length?($(window).width()<768&&$(this).parents("ul").siblings(".chooser-value").html(e),$(this).parents("ul").siblings("input").val($(this).find(".chooser-color-text").text())):($(this).parents("ul").siblings(".chooser-value").html(e),$(this).parents("ul").siblings("input").val(e))}}),f.find("ul li").on("click",function(e){if(e.preventDefault(),!$(this).hasClass("active")){var t=$(this).find(".chooser-color-text").text();$(this).parents("ul").siblings("input").val(t)}}),$(document).on("click",function(e){var t=$(e.target);0===t.closest("[data-select]").length&&$(".active[data-select]").removeClass("active"),0===t.closest(".header-search").length&&$(".header-search").removeClass("active"),0===t.closest(".chooser").length&&u.removeClass("active"),1199<$(window).width()&&0===t.closest(".header-catalog").length&&0===t.closest(".btn-catalog").length&&(p.removeClass("active"),$(".header-catalog").fadeOut(300),$(".header-catalog-menu-item.active .header-catalog-submenu .first-item").detach(),$(".header-catalog-menu-item.active .header-catalog-submenu").fadeOut(300),$(".header-catalog-menu-item.active").removeClass("active"))}),p.on("click",function(){$(this).toggleClass("active"),$(".header-catalog").fadeToggle(300),w($(this))}),m.on("click",function(){$(window).width()<1200&&($(this).toggleClass("active"),$(".categories").fadeToggle(300),$(".categories .categories-submenu .first-item").detach(),$(".categories ul li.active .categories-submenu").fadeOut(300),$(".categories ul li.active").removeClass("active"))}),$(".header-catalog-menu-handle").on("click",function(){$(window).width()<1200&&function(e){$(e).parents(".header-catalog-menu-item").addClass("active"),$('<li class="header-catalog-submenu-item first-item"><i class="fa fa-angle-left"></i>Вернуться назад</li>').prependTo($(e).siblings(".header-catalog-submenu")),$(e).siblings(".header-catalog-submenu").fadeIn(300)}($(this))}),$(".categories-menu-handle").on("click",function(){$(window).width()<1200&&($(this).parents(".categories ul li").addClass("active"),$('<li class="categories-submenu-item first-item"><i class="fa fa-angle-left"></i>Вернуться назад</li>').prependTo($(this).siblings(".categories-submenu")),$(this).siblings(".categories-submenu").fadeIn(300))}),$(".header-catalog").on("click",".header-catalog-submenu-item.first-item",function(){$(window).width()<1200&&($(this).parents(".header-catalog-menu-item").removeClass("active"),$(this).parents(".header-catalog-submenu").fadeOut(300),$(this).detach())}),$(".header-catalog-menu-item").hover(function(){if(1199<$(window).width()){$(this).addClass("hovered");var e=$(this).find(".header-catalog-submenu");e.length&&!$(".header-catalog > .header-catalog-submenu.desktop-active").length&&(e.appendTo($(".header-catalog")),$(this).addClass("with-submenu"),e.addClass("desktop-active"),e.css("top",$(this).position().top+"px"),console.log($(this).position().top,e.css("top")))}},function(){1199<$(window).width()&&($(this).hasClass("with-submenu")?$(".header-catalog > .header-catalog-submenu.desktop-active").is(":hover")||C($(this)):$(this).removeClass("hovered"))}),$(".header-catalog-submenu").hover(function(){},function(){var e=$(".header-catalog-menu-item.hovered.with-submenu");e.is(":hover")||C(e)}),g.on("click",".categories-submenu li.first-item",function(){$(window).width()<1200&&($(this).parents(".categories-submenu li").removeClass("active"),$(this).parents(".categories-submenu").fadeOut(300),$(this).detach())}),$(".field-file input").on("change",function(){var e=$(this).val().split("\\");$(this).siblings(".field-file-text").text(e[e.length-1])}),$(".field-rate input").on("change",function(){$(this).is(":checked")&&b($(this))}),$(".field-rate label").hover(function(){b($(this).prev("input"))},function(){var e=$(this).siblings("input:checked");e.length?b(e):b($(".field-rate"))})}),$(function(){var e=$("body"),t=$(".catalog-filter"),a=$(".catalog-articles"),s=$(".catalog-banner"),i=$(".breadcrumbs"),n=$(".catalog-aside"),o=$(".catalog-filter-cost");function l(){$(window).width()<1200?function(){i.prependTo($(".header").next(".wrapper-inner")),0===t.find(".modal-close").length&&$('<div class="modal-close"></div>').prependTo(t);t.appendTo('.modal[data-modal="filter"]'),a.insertAfter(".pagination"),s.insertAfter(a)}():function(){i.prependTo($(".catalog-content")),e.removeClass("modal-opened"),$('.modal[data-modal="filter"]').css({display:"none",top:"auto"}),t.find(".modal-close").length&&$(t.find(".modal-close")).detach();t.prependTo(n),a.appendTo(n),s.appendTo(n)}()}l(),$(".chooser-color li").each(function(){$(this).attr("data-background",$(this).find("span").eq(0).css("background-color"))}),o.each(function(e,a){noUiSlider.create(a,{start:[1e3,5e3],step:100,margin:1e3,connect:!0,range:{min:0,max:8e3}});var s=[$(a).parent().find("input.filter-cost-from").get(0),$(a).parent().find("input.filter-cost-to").get(0)];s.forEach(function(e,t){e.addEventListener("change",function(){a.noUiSlider.setHandle(t,s[t].value)})}),a.noUiSlider.on("update",function(e,t){s[t].value=Math.trunc(e[t])})}),$(window).on("resize",function(){l()})}),$(function(){var e=$(".hero");e.length&&e.slick({dots:!0,arrows:!1,fade:!0,autoplay:!0,autoplaySpeed:5e3})}),$(function(){var e=$(".item-image-large"),t=$(".item-image-small"),a=$(".item-params"),s=$(".chooser.chooser-color ul"),i=$(".item .item-list"),n=$(".item-image"),o=$(".item-form-header"),l=$(".item-delivery"),c=$(".item-form");function r(e){$(window).width()<768?$(e).each(function(){$(this).hasClass("slick-slider")&&$(this).slick("unslick")}):$(e).each(function(){$(this).hasClass("slick-slider")||$(this).slick({slidesToShow:3,infinite:!1})})}function d(){$(window).width()<768?(i.insertAfter(o),l.insertAfter(c)):$(window).width()<1200?(i.appendTo(n),l.insertAfter(c)):(i.appendTo(n),l.appendTo(c))}d(),r(s),a.length&&a.slick({slidesToShow:3,responsive:[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:2}}]}),e.length&&t.length&&(e.slick({arrows:!1,fade:!0,asNavFor:".item-image-small"}),t.slick({slidesToShow:4,focusOnSelect:!0,asNavFor:".item-image-large",responsive:[{breakpoint:1200,settings:{slidesToShow:2}}]})),$(window).on("resize",function(){r(s),d()}),$(".item-tab-header li").on("click",function(){if($(this).hasClass("active"))$(window).width()<768&&$(this).parents(".item-tab-header").toggleClass("active");else{var e=$(this).attr("data-tab");$(".item-tab-content > li").fadeOut(0),$(".item-tab-content").find('li[data-tab="'+e+'"]').fadeIn(),$(this).siblings().removeClass("active"),$(this).addClass("active"),$(window).width()<768&&$(this).parents(".item-tab-header").removeClass("active")}}),$(".item-list-all").on("click",function(){$("html, body").animate({scrollTop:$(".item-tab-content").offset().top-120},400,function(){$('.item-tab-header li[data-tab="params"]').addClass("active").siblings().removeClass("active"),$('.item-tab-content li[data-tab="params"]').fadeIn().siblings().fadeOut(0)})})}),$(function(){var e=$(".advantages ul, .reviews-rate");function t(e){$(window).width()<768?$(e).each(function(){$(this).hasClass("slick-slider")||$(this).slick()}):$(e).each(function(){$(this).hasClass("slick-slider")&&$(this).slick("unslick")})}t(e),$(window).on("resize",function(){t(e)})}),$(function(){$(".reviews-result-percent").each(function(){var e=parseInt($(this).attr("data-result-percent")),t=$(this).find(".reviews-result-percent-value");$('<div class="reviews-result-percent-color"></div>').appendTo(t).css("width",e+"%")}),$(".reviews-list .reviews-card p .show-all").on("click",function(){$(this).siblings(".all-text").css("display","inline"),$(this).siblings(".dots").css("display","none"),$(this).css("display","none")})}),$(function(){var e=$(".certificates-list, .product-list, .articles-list, .reviews-slider");e.length&&(e.each(function(){$(this).hasClass("product-list")||$(this).hasClass("certificates-list")?$(this).slick({slidesToShow:4,infinite:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:3,infinite:!1}},{breakpoint:930,settings:{slidesToShow:2,infinite:!1}},{breakpoint:768,settings:{infinite:!0,slidesToShow:1}}]}):$(this).slick({slidesToShow:2,vertical:!1,infinite:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2,infinite:!1,vertical:!0}},{breakpoint:768,settings:{slidesToShow:1,infinite:!0,vertical:!1}}]}),$(this).find(".slick-prev").addClass("disabled")}),e.on("beforeChange",function(e,t,a,s){!function(e,t){var a=$(e).find(".slick-prev"),s=$(e).find(".slick-next"),i=$(e).find(".slick-slide").length,n=$(e).find(".slick-slide.slick-active").length,o=n+1===i;0===t?(a.addClass("disabled"),s.removeClass("disabled")):a.removeClass("disabled");o?i<=t+n?(s.addClass("disabled"),a.removeClass("disabled")):s.removeClass("disabled"):i-1<t+n?(s.addClass("disabled"),a.removeClass("disabled")):s.removeClass("disabled")}($(this),s)}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJjYXRhbG9nLmpzIiwiaGVyby5qcyIsIml0ZW0uanMiLCJtb2JpbGVTbGlkZXIuanMiLCJyZXZpZXdzLmpzIiwic2xpZGVycy5qcyJdLCJuYW1lcyI6WyIkIiwid3JhcHBlciIsImJvZHkiLCJoZWFkZXJCb3R0b20iLCJoZWFkZXJOYXYiLCJidXJnZXIiLCJoZWFkZXJDb250YWN0cyIsImhlYWRlckFkZHJlc3MiLCJoZWFkZXJTZWFyY2giLCJoZWFkZXJDYXJ0IiwiZm9vdGVyU3Vic2NyaWJlIiwiZm9vdGVyQ29weXJpZ2h0cyIsImZvb3RlclNvY2lhbCIsImNob29zZXIiLCJjaG9vc2VyQ29sb3IiLCJjb2xvckl0ZW0iLCJidG5DYXRhbG9nIiwiYnRuQ2F0ZWdvcnkiLCJjYXRlZ29yaWVzIiwiZmllbGRSYXRlUmVuZGVyIiwiaW5wdXQiLCJmaWVsZCIsInZhbHVlIiwiaGFzQ2xhc3MiLCJwYXJzZUludCIsInZhbCIsImZpbmQiLCJmaXJzdCIsInBhcmVudCIsImVhY2giLCJpbmRleCIsIml0ZW0iLCJzdGFyIiwibmV4dCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJidG5DYXRhbG9nQ2xpY2tlZCIsImRldGFjaCIsImZhZGVPdXQiLCJtZW51SXRlbVVuaG92ZXJlZCIsIm1lbnVJdGVtIiwic3VibWVudSIsImFwcGVuZFRvIiwiY3NzIiwicGFnZVJlcGFpbnQiLCJ3aW5kb3ciLCJ3aWR0aCIsImluc2VydEJlZm9yZSIsImluc2VydEFmdGVyIiwic2V0VGltZW91dCIsImFuaW1hdGUiLCJvcGFjaXR5IiwidGhpcyIsImF0dHIiLCJvbiIsInBhcmVudHMiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsInN1Ym1pdCIsImVsZW1lbnQiLCJ2YWxBcnJheSIsInNwbGl0Iiwic2libGluZ3MiLCJ0ZXh0IiwibGVuZ3RoIiwibWFzayIsInRvZ2dsZUNsYXNzIiwidGFyZ2V0Iiwic2Nyb2xsVmFsdWUiLCJzY3JvbGxUb3AiLCJtb2RhbCIsImNvbmNhdCIsImZhZGVJbiIsImRpc3BsYXkiLCJ0b3AiLCJkb2N1bWVudCIsImNsb3Nlc3QiLCJvZmYiLCJhbW91bnRET00iLCJhbW91bnRWYWx1ZSIsInRyaWdnZXIiLCJjb3N0RE9NIiwiY2hpbGRyZW4iLCJhbW91bnQiLCJpdGVtQ29zdCIsImNvbnNvbGUiLCJsb2ciLCJodG1sIiwiZmFkZVRvZ2dsZSIsImhhbmRsZSIsInByZXBlbmRUbyIsImNhdGFsb2dNZW51SGFuZGxlQ2xpY2tlZCIsImhvdmVyIiwicG9zaXRpb24iLCJpcyIsInBhcmVudE1lbnVJdGVtIiwicHJldiIsImNoZWNrZWQiLCJjYXRhbG9nRmlsdGVyIiwiY2F0YWxvZ0FydGljbGVzIiwiY2F0YWxvZ0Jhbm5lciIsImJyZWFkY3J1bWJzIiwiY2F0YWxvZ0FzaWRlIiwiZmlsdGVyQ29zdCIsImNhdGFsb2dSZXBhaW50IiwicmVuZGVyTW9iaWxlQ2F0YWxvZyIsInJlbmRlckRlc2t0b3BDYXRhbG9nIiwiZXEiLCJub1VpU2xpZGVyIiwiY3JlYXRlIiwic3RhcnQiLCJzdGVwIiwibWFyZ2luIiwiY29ubmVjdCIsInJhbmdlIiwibWluIiwibWF4IiwiZmlsdGVyQ29zdEhhbmRsZXMiLCJnZXQiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldEhhbmRsZSIsInZhbHVlcyIsIk1hdGgiLCJ0cnVuYyIsImhlcm8iLCJzbGljayIsImRvdHMiLCJhcnJvd3MiLCJmYWRlIiwiYXV0b3BsYXkiLCJhdXRvcGxheVNwZWVkIiwiaXRlbVNsaWRlckxhcmdlIiwiaXRlbVNsaWRlclNtYWxsIiwicGFyYW1zIiwiY29sb3JTbGlkZXIiLCJpdGVtTGlzdCIsIml0ZW1JbWFnZSIsIml0ZW1Gb3JtSGVhZGVyIiwiaXRlbURlbGl2ZXJ5IiwiaXRlbUZvcm0iLCJyZXBhaW50Q29sb3JTbGlkZXIiLCJzbGlkZXNUb1Nob3ciLCJpbmZpbml0ZSIsIml0ZW1SZXBhaW50IiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsImFzTmF2Rm9yIiwiZm9jdXNPblNlbGVjdCIsImN1cnJlbnQiLCJvZmZzZXQiLCJtb2JpbGVTbGlkZXIiLCJyZXBhaW50TW9iaWxlU2xpZGVyIiwidmFsdWVET00iLCJzbGlkZXJzIiwidmVydGljYWwiLCJjdXJyZW50U2xpZGUiLCJuZXh0U2xpZGUiLCJzbGlkZXIiLCJzaXplIiwidmlzaWJsZSIsInNtYWxsQW1vdW50Iiwic2V0U2xpZGVyQXJyb3dzIl0sIm1hcHBpbmdzIjoiYUFBQUEsRUFBRSxXQUVBLElBQU1DLEVBQVVELEVBQUUsWUFDWkUsRUFBT0YsRUFBRSxRQUNURyxFQUFlSCxFQUFFLGlDQUNqQkksRUFBWUosRUFBRSxlQUNkSyxFQUFTTCxFQUFFLGtCQUNYTSxFQUFpQk4sRUFBRSxxQkFDbkJPLEVBQWdCUCxFQUFFLDBCQUNsQlEsRUFBZVIsRUFBRSxrQkFDakJTLEVBQWFULEVBQUUsZ0JBQ2ZVLEVBQWtCVixFQUFFLHFCQUNwQlcsRUFBbUJYLEVBQUUsc0JBQ3JCWSxFQUFlWixFQUFFLGtCQUNqQmEsRUFBVWIsRUFBRSxZQUNaYyxFQUFlZCxFQUFFLDBCQUNqQmUsRUFBWWYsRUFBRSxrQkFDZGdCLEVBQWFoQixFQUFFLGdCQUNmaUIsRUFBY2pCLEVBQUUsaUJBQ2hCa0IsRUFBYWxCLEVBQUUsZUEwU3JCLFNBQVNtQixFQUFrQkMsR0FDekIsSUFBSUMsRUFBUXJCLEVBQUVvQixHQUNSRSxFQUFVRCxFQUFNRSxTQUFTLGNBQWtCLEVBQUlDLFNBQVN4QixFQUFFb0IsR0FBT0ssT0FDeEQsSUFBVkgsSUFDSEQsRUFBUUEsRUFBTUssS0FBSyxTQUFTQyxTQUU5Qk4sRUFBTU8sU0FBU0YsS0FBSyxxQkFBcUJHLEtBQUssU0FBVUMsRUFBT0MsR0FDN0QsSUFBTUMsRUFBT2hDLEVBQUUrQixHQUFNRSxLQUFLLFNBQVNQLEtBQUssS0FDcENJLEVBQVFSLEVBQ1ZVLEVBQUtFLFlBQVksYUFBYUMsU0FBUyxXQUV2Q0gsRUFBS0UsWUFBWSxXQUFXQyxTQUFTLGVBSzNDLFNBQVNDLElBQ1BwQyxFQUFFLHdF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ZUFBZ0IsU0FBU0UsRUFBT3VFLEVBQU8rQixFQUFjQyxJQU1sRSxTQUEwQkMsRUFBUUQsR0FDaEMsSUFBTTlELEVBQU9qRyxFQUFFZ0ssR0FBUXRJLEtBQUssZUFDdEJPLEVBQU9qQyxFQUFFZ0ssR0FBUXRJLEtBQUssZUFDdEJ1SSxFQUFPakssRUFBRWdLLEdBQVF0SSxLQUFLLGdCQUFnQnVDLE9BQ3RDaUcsRUFBVWxLLEVBQUVnSyxHQUFRdEksS0FBSyw2QkFBNkJ1QyxPQUN0RGtHLEVBQWNELEVBQVUsSUFBTUQsRUFDbEIsSUFBZEYsR0FDRjlELEVBQUs5RCxTQUFTLFlBQ2RGLEVBQUtDLFlBQVksYUFFakIrRCxFQUFLL0QsWUFBWSxZQUVmaUksRUFDeUJGLEdBQXZCRixFQUFZRyxHQUNkakksRUFBS0UsU0FBUyxZQUNkOEQsRUFBSy9ELFlBQVksYUFFakJELEVBQUtDLFlBQVksWUFHTytILEVBQU8sRUFBN0JGLEVBQVlHLEdBQ2RqSSxFQUFLRSxTQUFTLFlBQ2Q4RCxFQUFLL0QsWUFBWSxhQUVqQkQsRUFBS0MsWUFBWSxZQTdCbkJrSSxDQUFnQnBLLEVBQUVvRCxNQUFPMkciLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCkge1xuXG4gIGNvbnN0IHdyYXBwZXIgPSAkKCcud3JhcHBlcicpO1xuICBjb25zdCBib2R5ID0gJCgnYm9keScpO1xuICBjb25zdCBoZWFkZXJCb3R0b20gPSAkKCcuaGVhZGVyLWJvdHRvbSAud3JhcHBlci1pbm5lcicpO1xuICBjb25zdCBoZWFkZXJOYXYgPSAkKCcuaGVhZGVyLW5hdicpO1xuICBjb25zdCBidXJnZXIgPSAkKCcuaGVhZGVyLWJ1cmdlcicpO1xuICBjb25zdCBoZWFkZXJDb250YWN0cyA9ICQoJy5oZWFkZXIgLmNvbnRhY3RzJyk7XG4gIGNvbnN0IGhlYWRlckFkZHJlc3MgPSAkKCcuaGVhZGVyIC5hZGRyZXNzLWhvdXJzJyk7XG4gIGNvbnN0IGhlYWRlclNlYXJjaCA9ICQoJy5oZWFkZXItc2VhcmNoJyk7XG4gIGNvbnN0IGhlYWRlckNhcnQgPSAkKCcuaGVhZGVyLWNhcnQnKTtcbiAgY29uc3QgZm9vdGVyU3Vic2NyaWJlID0gJCgnLmZvb3Rlci1zdWJzY3JpYmUnKTtcbiAgY29uc3QgZm9vdGVyQ29weXJpZ2h0cyA9ICQoJy5mb290ZXItY29weXJpZ2h0cycpO1xuICBjb25zdCBmb290ZXJTb2NpYWwgPSAkKCcuZm9vdGVyLXNvY2lhbCcpO1xuICBjb25zdCBjaG9vc2VyID0gJCgnLmNob29zZXInKTtcbiAgY29uc3QgY2hvb3NlckNvbG9yID0gJCgnLmNob29zZXIuY2hvb3Nlci1jb2xvcicpO1xuICBjb25zdCBjb2xvckl0ZW0gPSAkKCcuY29sb3ItbGlzdCBsaScpO1xuICBjb25zdCBidG5DYXRhbG9nID0gJCgnLmJ0bi1jYXRhbG9nJyk7XG4gIGNvbnN0IGJ0bkNhdGVnb3J5ID0gJCgnLmJ0bi1jYXRlZ29yeScpO1xuICBjb25zdCBjYXRlZ29yaWVzID0gJCgnLmNhdGVnb3JpZXMnKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB3cmFwcGVyLmFuaW1hdGUoe29wYWNpdHk6IDF9LCA1MDApO1xuICB9LCA1MDApO1xuXG4gIHBhZ2VSZXBhaW50KCk7XG5cbiAgc2V0Q29sb3JzKCk7XG5cbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgcGFnZVJlcGFpbnQoKTtcbiAgfSk7XG5cbiAgJCgnW2RhdGEtcmVtb3ZhYmxlLWNsb3NlXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXJlbW92YWJsZV0nKVxuICAgICAgLmZhZGVPdXQoNDAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuZGV0YWNoKCk7XG4gICAgICB9KTtcbiAgfSk7XG5cbiAgJCgnLmhlYWRlci1zZWFyY2ggYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm0gPSAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXItc2VhcmNoJyk7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xuICAgICAgaWYgKGZvcm0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5maWVsZC1yYXRlLWxpc3QgaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB2YWx1ZSA9ICQodGhpcykuaW5kZXgoKSArIDE7XG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuZmllbGQtcmF0ZScpLmZpbmQoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nKS52YWwodmFsdWUpO1xuICAgICQodGhpcykucGFyZW50cygnLmZpZWxkLXJhdGUtbGlzdCcpLmZpbmQoJ2knKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xuICAgICAgaWYgKGluZGV4ID49IHZhbHVlKSB7XG4gICAgICAgICQoZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2ZhLXJlZCcpLmFkZENsYXNzKCdmYS1ncmV5Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKCdmYS1ncmV5JykuYWRkQ2xhc3MoJ2ZhLXJlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAkKCcuZmllbGQtZmlsZSBpbnB1dFt0eXBlPVwiZmlsZVwiXScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdmFsQXJyYXkgPSAkKHRoaXMpLnZhbCgpLnNwbGl0KCdcXFxcJyk7XG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLmZpZWxkLWZpbGUtdGV4dCcpLnRleHQodmFsQXJyYXlbdmFsQXJyYXkubGVuZ3RoIC0gMV0pO1xuICB9KTtcblxuICAkKCdpbnB1dFt0eXBlPVwidGVsXCJdJykubWFzayhcIis3ICg5OTkpIDk5OS05OTktOTlcIik7XG5cbiAgYnVyZ2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXInKS50b2dnbGVDbGFzcygnbWVudS1vcGVuZWQnKTtcbiAgfSk7XG5cbiAgJCgnW2RhdGEtY2FsbC1tb2RhbF0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gJCh0aGlzKS5hdHRyKCdkYXRhLWNhbGwtbW9kYWwnKTtcbiAgICBjb25zdCBzY3JvbGxWYWx1ZSA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICBjb25zdCBtb2RhbCA9ICQoYFtkYXRhLW1vZGFsPVwiJHt0YXJnZXR9XCJdYCk7XG4gICAgYm9keS5hZGRDbGFzcygnbW9kYWwtb3BlbmVkJyk7XG4gICAgbW9kYWwuZmFkZUluKDMwMCkuY3NzKHtcbiAgICAgICdkaXNwbGF5JzogJ2ZsZXgnLFxuICAgICAgJ3RvcCc6IGAke3Njcm9sbFZhbHVlfXB4YFxuICAgIH0pO1xuICAgICQoZG9jdW1lbnQpLm9uKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gICQoJy5tb2RhbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICBpZiAodGFyZ2V0Lmhhc0NsYXNzKCdtb2RhbC1jbG9zZScpIHx8ICF0YXJnZXQuY2xvc2VzdCgnLm1vZGFsLWlubmVyJykubGVuZ3RoKSB7XG4gICAgICAkKHRoaXMpLmZhZGVPdXQoMzAwKTtcbiAgICAgIGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW5lZCcpO1xuICAgICAgJChkb2N1bWVudCkub2ZmKCd0b3VjaG1vdmUnKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJ1tkYXRhLXNlbGVjdC1jb250cm9sXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcblxuICAkKCdbZGF0YS1zZWxlY3RdIHVsIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykuc2libGluZ3MoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuc2libGluZ3MoJ1tkYXRhLXNlbGVjdC1jb250cm9sXScpLnRleHQodmFsdWUpO1xuICAgICAgJCh0aGlzKS5wYXJlbnRzKCd1bCcpLnNpYmxpbmdzKCdpbnB1dCcpLnZhbCh2YWx1ZSk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcblxuICAkKCcuYW1vdW50LWNob29zZXItY29udHJvbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBhbW91bnRET00gPSAkKHRoaXMpLnNpYmxpbmdzKCdpbnB1dCcpO1xuICAgIGNvbnN0IGFtb3VudFZhbHVlID0gcGFyc2VJbnQoYW1vdW50RE9NLnZhbCgpKTtcbiAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnYW1vdW50LWNob29zZXItbWludXMnKSkge1xuICAgICAgaWYgKGFtb3VudFZhbHVlID4gMSkge1xuICAgICAgICBhbW91bnRET00udmFsKGFtb3VudFZhbHVlIC0gMSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhbW91bnQtY2hvb3Nlci1wbHVzJykpIHtcbiAgICAgIGFtb3VudERPTS52YWwoYW1vdW50VmFsdWUgKyAxKTtcbiAgICB9XG4gICAgYW1vdW50RE9NLnRyaWdnZXIoJ2NoYW5nZScpO1xuICB9KTtcblxuICAkKCcuYW1vdW50LWNob29zZXIgaW5wdXQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNvc3RET00gPSAkKHRoaXMpLnBhcmVudHMoJy5hbW91bnQtY2hvb3NlcicpLnNpYmxpbmdzKCcuY2FyZC1jb3N0JykuY2hpbGRyZW4oJy5jYXJkLWNvc3QtdmFsdWUnKTtcbiAgICBjb25zdCBhbW91bnQgPSBwYXJzZUludCgkKHRoaXMpLnZhbCgpKTtcbiAgICBjb25zdCBpdGVtQ29zdCA9IHBhcnNlSW50KCQodGhpcykucGFyZW50cygnLmFtb3VudC1jaG9vc2VyJykuYXR0cignZGF0YS1jb3N0JykpO1xuICAgIGNvc3RET00udGV4dChhbW91bnQgKiBpdGVtQ29zdCArICcg0YDRg9CxLicpO1xuICB9KTtcblxuICAkKCcuY2F0ZWdvcmllcy1oYW5kbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuY2F0ZWdvcmllcycpLnRvZ2dsZUNsYXNzKCdkcm9wcGVkLWRvd24nKTtcbiAgfSk7XG5cbiAgY29sb3JJdGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcblxuICBjaG9vc2VyLmZpbmQoJy5jaG9vc2VyLXZhbHVlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHRoaXMpLmNsb3Nlc3QoJy5jYXRhbG9nLWJyYW5kcycpLmxlbmd0aCAmJiAkKHdpbmRvdykud2lkdGgoKSA+IDc2N1xuICAgICAgfHwgJCh0aGlzKS5jbG9zZXN0KCcuY2hvb3Nlci1jb2xvcicpLmxlbmd0aCAmJiAkKHdpbmRvdykud2lkdGgoKSA+IDc2Nykge1xuICAgICAgY29uc29sZS5sb2coJ2hlbGxvJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkKHRoaXMpLnBhcmVudHMoJy5jaG9vc2VyJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICQodGhpcykucGFyZW50cygnLmNob29zZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaG9vc2VyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuY2hvb3NlcicpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGNob29zZXIuZmluZCgndWwgbGknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSAmJiAkKHRoaXMpLmNsb3Nlc3QoJy5jYXRhbG9nLWJyYW5kcycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLmh0bWwoKTtcbiAgICAgICQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykucGFyZW50cygnLmNob29zZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICBpZiAoJCh0aGlzKS5jbG9zZXN0KCcuY2hvb3Nlci1jb2xvcicpLmxlbmd0aCkge1xuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuc2libGluZ3MoJy5jaG9vc2VyLXZhbHVlJykuaHRtbCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCd1bCcpLnNpYmxpbmdzKCdpbnB1dCcpLnZhbCgkKHRoaXMpLmZpbmQoJy5jaG9vc2VyLWNvbG9yLXRleHQnKS50ZXh0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCd1bCcpLnNpYmxpbmdzKCcuY2hvb3Nlci12YWx1ZScpLmh0bWwodmFsdWUpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuc2libGluZ3MoJ2lucHV0JykudmFsKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGNob29zZXJDb2xvci5maW5kKCd1bCBsaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLmZpbmQoJy5jaG9vc2VyLWNvbG9yLXRleHQnKS50ZXh0KCk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuc2libGluZ3MoJ2lucHV0JykudmFsKHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXNlbGVjdF0nKS5sZW5ndGggPT09IDApICQoJy5hY3RpdmVbZGF0YS1zZWxlY3RdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmhlYWRlci1zZWFyY2gnKS5sZW5ndGggPT09IDApICQoJy5oZWFkZXItc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmNob29zZXInKS5sZW5ndGggPT09IDApIGNob29zZXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDExOTkpIHtcbiAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmhlYWRlci1jYXRhbG9nJykubGVuZ3RoID09PSAwICYmIHRhcmdldC5jbG9zZXN0KCcuYnRuLWNhdGFsb2cnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYnRuQ2F0YWxvZy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQoJy5oZWFkZXItY2F0YWxvZycpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5hY3RpdmUgLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUgLmZpcnN0LWl0ZW0nKS5kZXRhY2goKTtcbiAgICAgICAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5hY3RpdmUgLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgICQoJy5oZWFkZXItY2F0YWxvZy1tZW51LWl0ZW0uYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgYnRuQ2F0YWxvZy5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCgnLmhlYWRlci1jYXRhbG9nJykuZmFkZVRvZ2dsZSgzMDApO1xuICAgIGJ0bkNhdGFsb2dDbGlja2VkKCQodGhpcykpO1xuICB9KTtcblxuICBidG5DYXRlZ29yeS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xuICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcuY2F0ZWdvcmllcycpLmZhZGVUb2dnbGUoMzAwKTtcbiAgICAgICQoJy5jYXRlZ29yaWVzIC5jYXRlZ29yaWVzLXN1Ym1lbnUgLmZpcnN0LWl0ZW0nKS5kZXRhY2goKTtcbiAgICAgICQoJy5jYXRlZ29yaWVzIHVsIGxpLmFjdGl2ZSAuY2F0ZWdvcmllcy1zdWJtZW51JykuZmFkZU91dCgzMDApO1xuICAgICAgJCgnLmNhdGVnb3JpZXMgdWwgbGkuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaGFuZGxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgIGNhdGFsb2dNZW51SGFuZGxlQ2xpY2tlZCgkKHRoaXMpKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5jYXRlZ29yaWVzLW1lbnUtaGFuZGxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgICQodGhpcykucGFyZW50cygnLmNhdGVnb3JpZXMgdWwgbGknKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCc8bGkgY2xhc3M9XCJjYXRlZ29yaWVzLXN1Ym1lbnUtaXRlbSBmaXJzdC1pdGVtXCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1sZWZ0XCI+PC9pPtCS0LXRgNC90YPRgtGM0YHRjyDQvdCw0LfQsNC0PC9saT4nKVxuICAgICAgICAucHJlcGVuZFRvKCQodGhpcykuc2libGluZ3MoJy5jYXRlZ29yaWVzLXN1Ym1lbnUnKSk7XG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuY2F0ZWdvcmllcy1zdWJtZW51JykuZmFkZUluKDMwMCk7XG4gICAgfVxuICB9KTtcblxuICAkKCcuaGVhZGVyLWNhdGFsb2cnKS5vbignY2xpY2snLCAnLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUtaXRlbS5maXJzdC1pdGVtJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgICQodGhpcykucGFyZW50cygnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykucGFyZW50cygnLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XG4gICAgICAkKHRoaXMpLmRldGFjaCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbScpLmhvdmVyKFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICggJCh3aW5kb3cpLndpZHRoKCkgPiAxMTk5ICkge1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdob3ZlcmVkJyk7XG4gICAgICAgIGNvbnN0IHN1Ym1lbnUgPSAkKHRoaXMpLmZpbmQoJy5oZWFkZXItY2F0YWxvZy1zdWJtZW51Jyk7XG4gICAgICAgIGlmICggc3VibWVudS5sZW5ndGggJiYhJCgnLmhlYWRlci1jYXRhbG9nID4gLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUuZGVza3RvcC1hY3RpdmUnKS5sZW5ndGggICkge1xuICAgICAgICAgIHN1Ym1lbnUuYXBwZW5kVG8oJCgnLmhlYWRlci1jYXRhbG9nJykpO1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3dpdGgtc3VibWVudScpO1xuICAgICAgICAgIHN1Ym1lbnUuYWRkQ2xhc3MoJ2Rlc2t0b3AtYWN0aXZlJyk7XG4gICAgICAgICAgc3VibWVudS5jc3MoJ3RvcCcsICQodGhpcykucG9zaXRpb24oKS50b3AgKyAncHgnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygkKHRoaXMpLnBvc2l0aW9uKCkudG9wLCBzdWJtZW51LmNzcygndG9wJykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoICQod2luZG93KS53aWR0aCgpID4gMTE5OSApIHtcbiAgICAgICAgaWYgKCAkKHRoaXMpLmhhc0NsYXNzKCd3aXRoLXN1Ym1lbnUnKSkge1xuICAgICAgICAgIGNvbnN0IHN1Ym1lbnUgPSAkKCcuaGVhZGVyLWNhdGFsb2cgPiAuaGVhZGVyLWNhdGFsb2ctc3VibWVudS5kZXNrdG9wLWFjdGl2ZScpO1xuICAgICAgICAgIGlmICggIXN1Ym1lbnUuaXMoJzpob3ZlcicpICkge1xuICAgICAgICAgICAgbWVudUl0ZW1VbmhvdmVyZWQoJCh0aGlzKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2hvdmVyZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcblxuICAkKCcuaGVhZGVyLWNhdGFsb2ctc3VibWVudScpLmhvdmVyKFxuICAgIGZ1bmN0aW9uICgpIHt9LFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHBhcmVudE1lbnVJdGVtID0gJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5ob3ZlcmVkLndpdGgtc3VibWVudScpO1xuICAgICAgaWYgKCAhcGFyZW50TWVudUl0ZW0uaXMoJzpob3ZlcicpICkge1xuICAgICAgICBtZW51SXRlbVVuaG92ZXJlZChwYXJlbnRNZW51SXRlbSk7XG4gICAgICB9XG4gICAgfVxuICApO1xuXG4gIGNhdGVnb3JpZXMub24oJ2NsaWNrJywgJy5jYXRlZ29yaWVzLXN1Ym1lbnUgbGkuZmlyc3QtaXRlbScsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCAxMjAwKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5jYXRlZ29yaWVzLXN1Ym1lbnUgbGknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5jYXRlZ29yaWVzLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XG4gICAgICAkKHRoaXMpLmRldGFjaCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnLmZpZWxkLWZpbGUgaW5wdXQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHZhbHVlID0gJCh0aGlzKS52YWwoKS5zcGxpdCgnXFxcXCcpO1xuICAgICQodGhpcykuc2libGluZ3MoJy5maWVsZC1maWxlLXRleHQnKS50ZXh0KHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdKTtcbiAgfSk7XG5cbiAgJCgnLmZpZWxkLXJhdGUgaW5wdXQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICggJCh0aGlzKS5pcygnOmNoZWNrZWQnKSApIHtcbiAgICAgIGZpZWxkUmF0ZVJlbmRlcigkKHRoaXMpKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5maWVsZC1yYXRlIGxhYmVsJykuaG92ZXIoXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgZmllbGRSYXRlUmVuZGVyKCQodGhpcykucHJldignaW5wdXQnKSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBjaGVja2VkID0gJCh0aGlzKS5zaWJsaW5ncygnaW5wdXQ6Y2hlY2tlZCcpO1xuICAgICAgaWYgKCBjaGVja2VkLmxlbmd0aCApIHtcbiAgICAgICAgZmllbGRSYXRlUmVuZGVyKGNoZWNrZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmllbGRSYXRlUmVuZGVyKCQoJy5maWVsZC1yYXRlJykpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGZ1bmN0aW9uIGZpZWxkUmF0ZVJlbmRlciAoIGlucHV0ICkge1xuICAgIGxldCBmaWVsZCA9ICQoaW5wdXQpO1xuICAgIGNvbnN0IHZhbHVlID0gKCBmaWVsZC5oYXNDbGFzcygnZmllbGQtcmF0ZScpICkgPyAwIDogcGFyc2VJbnQoJChpbnB1dCkudmFsKCkpO1xuICAgIGlmICggdmFsdWUgPT09IDApIHtcbiAgICAgIGZpZWxkID0gZmllbGQuZmluZCgnaW5wdXQnKS5maXJzdCgpO1xuICAgIH1cbiAgICBmaWVsZC5wYXJlbnQoKS5maW5kKCdpbnB1dFt0eXBlPXJhZGlvXScpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICBjb25zdCBzdGFyID0gJChpdGVtKS5uZXh0KCdsYWJlbCcpLmZpbmQoJ2knKTtcbiAgICAgIGlmIChpbmRleCA8IHZhbHVlKSB7XG4gICAgICAgIHN0YXIucmVtb3ZlQ2xhc3MoJ2ZhLXN0YXItbycpLmFkZENsYXNzKCdmYS1zdGFyJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFyLnJlbW92ZUNsYXNzKCdmYS1zdGFyJykuYWRkQ2xhc3MoJ2ZhLXN0YXItbycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYnRuQ2F0YWxvZ0NsaWNrZWQgKGJ0bikge1xuICAgICQoJy5oZWFkZXItY2F0YWxvZy1tZW51LWl0ZW0uYWN0aXZlIC5oZWFkZXItY2F0YWxvZy1zdWJtZW51IC5maXJzdC1pdGVtJykuZGV0YWNoKCk7XG4gICAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5hY3RpdmUgLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKS5mYWRlT3V0KDMwMCk7XG4gICAgJCgnLmhlYWRlci1jYXRhbG9nLW1lbnUtaXRlbS5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjYXRhbG9nTWVudUhhbmRsZUNsaWNrZWQgKGhhbmRsZSkge1xuICAgICQoaGFuZGxlKS5wYXJlbnRzKCcuaGVhZGVyLWNhdGFsb2ctbWVudS1pdGVtJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQoJzxsaSBjbGFzcz1cImhlYWRlci1jYXRhbG9nLXN1Ym1lbnUtaXRlbSBmaXJzdC1pdGVtXCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1sZWZ0XCI+PC9pPtCS0LXRgNC90YPRgtGM0YHRjyDQvdCw0LfQsNC0PC9saT4nKVxuICAgICAgLnByZXBlbmRUbygkKGhhbmRsZSkuc2libGluZ3MoJy5oZWFkZXItY2F0YWxvZy1zdWJtZW51JykpO1xuICAgICQoaGFuZGxlKS5zaWJsaW5ncygnLmhlYWRlci1jYXRhbG9nLXN1Ym1lbnUnKS5mYWRlSW4oMzAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lbnVJdGVtVW5ob3ZlcmVkIChtZW51SXRlbSkge1xuICAgIGNvbnN0IHN1Ym1lbnUgPSAkKCcuaGVhZGVyLWNhdGFsb2cgPiAuaGVhZGVyLWNhdGFsb2ctc3VibWVudS5kZXNrdG9wLWFjdGl2ZScpO1xuICAgICQobWVudUl0ZW0pLnJlbW92ZUNsYXNzKCdob3ZlcmVkJyk7XG4gICAgJChtZW51SXRlbSkucmVtb3ZlQ2xhc3MoJ3dpdGgtc3VibWVudScpO1xuICAgIHN1Ym1lbnUucmVtb3ZlQ2xhc3MoJ2Rlc2t0b3AtYWN0aXZlJyk7XG4gICAgc3VibWVudS5hcHBlbmRUbygkKG1lbnVJdGVtKSk7XG4gICAgc3VibWVudS5jc3MoJ3RvcCcsICdhdXRvJyk7XG4gIH1cblxuICBmdW5jdGlvbiBwYWdlUmVwYWludCgpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgIHJlbmRlck1vYmlsZUhlYWRlcigpO1xuICAgICAgcmVuZGVyTW9iaWxlRm9vdGVyKCk7XG4gICAgfSBlbHNlIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgIHJlbmRlclRhYmxldEhlYWRlcigpO1xuICAgICAgcmVuZGVyVGFibGV0Rm9vdGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlclNlYXJjaC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcuaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ21lbnUtb3BlbmVkJyk7XG4gICAgICByZW5kZXJEZXNrdG9wSGVhZGVyKCk7XG4gICAgICByZW5kZXJEZXNrdG9wRm9vdGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyTW9iaWxlSGVhZGVyKCkge1xuICAgIGhlYWRlclNlYXJjaC5pbnNlcnRCZWZvcmUoaGVhZGVyQ2FydCk7XG4gICAgaGVhZGVyQ29udGFjdHMuYXBwZW5kVG8oaGVhZGVyTmF2KTtcbiAgICBoZWFkZXJBZGRyZXNzLmFwcGVuZFRvKGhlYWRlck5hdik7XG4gICAgY2F0ZWdvcmllcy5pbnNlcnRBZnRlcihidG5DYXRlZ29yeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJUYWJsZXRIZWFkZXIoKSB7XG4gICAgaGVhZGVyU2VhcmNoLmluc2VydEJlZm9yZShoZWFkZXJDYXJ0KTtcbiAgICBoZWFkZXJDb250YWN0cy5hcHBlbmRUbyhoZWFkZXJCb3R0b20pO1xuICAgIGhlYWRlckFkZHJlc3MuYXBwZW5kVG8oaGVhZGVyTmF2KTtcbiAgICBjYXRlZ29yaWVzLmluc2VydEFmdGVyKGJ0bkNhdGVnb3J5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckRlc2t0b3BIZWFkZXIoKSB7XG4gICAgaGVhZGVyU2VhcmNoLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XG4gICAgaGVhZGVyQ29udGFjdHMuYXBwZW5kVG8oaGVhZGVyQm90dG9tKTtcbiAgICBoZWFkZXJBZGRyZXNzLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XG4gICAgY2F0ZWdvcmllcy5hcHBlbmRUbygkKCcud3JhcHBlci1zaWRlYmFyICcpKTtcbiAgICBidG5DYXRhbG9nQ2xpY2tlZChidG5DYXRhbG9nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlck1vYmlsZUZvb3RlcigpIHtcbiAgICBmb290ZXJTdWJzY3JpYmUuaW5zZXJ0QWZ0ZXIoZm9vdGVyQ29weXJpZ2h0cyk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJUYWJsZXRGb290ZXIoKSB7XG4gICAgZm9vdGVyU3Vic2NyaWJlLmluc2VydEJlZm9yZShmb290ZXJTb2NpYWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyRGVza3RvcEZvb3RlcigpIHtcbiAgICAgIGZvb3RlclN1YnNjcmliZS5pbnNlcnRCZWZvcmUoZm9vdGVyU29jaWFsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldENvbG9ycyAoKSB7XG4gICAgY29sb3JJdGVtLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWJhY2tncm91bmQnLCAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1jb2xvcicpKTtcbiAgICB9KTtcbiAgfVxuXG59KTtcbiIsIiQoZnVuY3Rpb24gKCkge1xuXG4gIGNvbnN0IGJvZHkgPSAkKCdib2R5Jyk7XG4gIGNvbnN0IGNhdGFsb2dGaWx0ZXIgPSAkKCcuY2F0YWxvZy1maWx0ZXInKTtcbiAgY29uc3QgY2F0YWxvZ0FydGljbGVzID0gJCgnLmNhdGFsb2ctYXJ0aWNsZXMnKTtcbiAgY29uc3QgY2F0YWxvZ0Jhbm5lciA9ICQoJy5jYXRhbG9nLWJhbm5lcicpO1xuICBjb25zdCBicmVhZGNydW1icyA9ICQoJy5icmVhZGNydW1icycpO1xuICBjb25zdCBjYXRhbG9nQXNpZGUgPSAkKCcuY2F0YWxvZy1hc2lkZScpO1xuICBjb25zdCBmaWx0ZXJDb3N0ID0gJCgnLmNhdGFsb2ctZmlsdGVyLWNvc3QnKTtcblxuICBjYXRhbG9nUmVwYWludCgpO1xuXG4gIHNldENob29zZXJDb2xvcnMoKTtcblxuICBmaWx0ZXJDb3N0LmVhY2goZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgbm9VaVNsaWRlci5jcmVhdGUoaXRlbSwge1xuICAgICAgc3RhcnQ6IFsxMDAwLCA1MDAwXSxcbiAgICAgIHN0ZXA6IDEwMCxcbiAgICAgIG1hcmdpbjogMTAwMCxcbiAgICAgIGNvbm5lY3Q6IHRydWUsXG4gICAgICByYW5nZToge1xuICAgICAgICAnbWluJzogMCxcbiAgICAgICAgJ21heCc6IDgwMDBcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBmaWx0ZXJDb3N0SGFuZGxlcyA9W1xuICAgICAgJChpdGVtKS5wYXJlbnQoKS5maW5kKCdpbnB1dC5maWx0ZXItY29zdC1mcm9tJykuZ2V0KDApLFxuICAgICAgJChpdGVtKS5wYXJlbnQoKS5maW5kKCdpbnB1dC5maWx0ZXItY29zdC10bycpLmdldCgwKVxuICAgIF07XG4gICAgZmlsdGVyQ29zdEhhbmRsZXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgpIHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpdGVtLm5vVWlTbGlkZXIuc2V0SGFuZGxlKGluZGV4LCBmaWx0ZXJDb3N0SGFuZGxlc1tpbmRleF0udmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXRlbS5ub1VpU2xpZGVyLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGUpIHtcbiAgICAgIGZpbHRlckNvc3RIYW5kbGVzW2hhbmRsZV0udmFsdWUgPSBNYXRoLnRydW5jKHZhbHVlc1toYW5kbGVdKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgY2F0YWxvZ1JlcGFpbnQoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY2F0YWxvZ1JlcGFpbnQgKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgIHJlbmRlck1vYmlsZUNhdGFsb2coKTtcbiAgICB9ICBlbHNlIHtcbiAgICAgIHJlbmRlckRlc2t0b3BDYXRhbG9nKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyTW9iaWxlQ2F0YWxvZyAoKSB7XG4gICAgYnJlYWRjcnVtYnMucHJlcGVuZFRvKCQoJy5oZWFkZXInKS5uZXh0KCcud3JhcHBlci1pbm5lcicpKTtcbiAgICBpZiAoY2F0YWxvZ0ZpbHRlci5maW5kKCcubW9kYWwtY2xvc2UnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1jbG9zZVwiPjwvZGl2PicpLnByZXBlbmRUbyhjYXRhbG9nRmlsdGVyKTtcbiAgICB9XG4gICAgY2F0YWxvZ0ZpbHRlci5hcHBlbmRUbygnLm1vZGFsW2RhdGEtbW9kYWw9XCJmaWx0ZXJcIl0nKTtcbiAgICBjYXRhbG9nQXJ0aWNsZXMuaW5zZXJ0QWZ0ZXIoJy5wYWdpbmF0aW9uJyk7XG4gICAgY2F0YWxvZ0Jhbm5lci5pbnNlcnRBZnRlcihjYXRhbG9nQXJ0aWNsZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyRGVza3RvcENhdGFsb2cgKCkge1xuICAgIGJyZWFkY3J1bWJzLnByZXBlbmRUbygkKCcuY2F0YWxvZy1jb250ZW50JykpO1xuICAgIGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW5lZCcpO1xuICAgICQoJy5tb2RhbFtkYXRhLW1vZGFsPVwiZmlsdGVyXCJdJykuY3NzKHtcbiAgICAgICdkaXNwbGF5JzogJ25vbmUnLFxuICAgICAgJ3RvcCc6ICdhdXRvJ1xuICAgIH0pO1xuICAgIGlmIChjYXRhbG9nRmlsdGVyLmZpbmQoJy5tb2RhbC1jbG9zZScpLmxlbmd0aCkge1xuICAgICAgJChjYXRhbG9nRmlsdGVyLmZpbmQoJy5tb2RhbC1jbG9zZScpKS5kZXRhY2goKTtcbiAgICB9XG4gICAgY2F0YWxvZ0ZpbHRlci5wcmVwZW5kVG8oY2F0YWxvZ0FzaWRlKTtcbiAgICBjYXRhbG9nQXJ0aWNsZXMuYXBwZW5kVG8oY2F0YWxvZ0FzaWRlKTtcbiAgICBjYXRhbG9nQmFubmVyLmFwcGVuZFRvKGNhdGFsb2dBc2lkZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDaG9vc2VyQ29sb3JzICgpIHtcbiAgICAkKCcuY2hvb3Nlci1jb2xvciBsaScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWJhY2tncm91bmQnLCAkKHRoaXMpLmZpbmQoJ3NwYW4nKS5lcSgwKS5jc3MoJ2JhY2tncm91bmQtY29sb3InKSk7XG4gICAgfSk7XG4gIH1cblxufSk7IiwiJChmdW5jdGlvbiAoKSB7XG5cbiAgY29uc3QgaGVybyA9ICQoJy5oZXJvJyk7XG5cbiAgaWYgKGhlcm8ubGVuZ3RoKSB7XG4gICAgaGVyby5zbGljayh7XG4gICAgICBkb3RzOiB0cnVlLFxuICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgIGZhZGU6IHRydWUsXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDBcbiAgICB9KTtcbiAgfVxuXG59KTtcbiIsIiQoZnVuY3Rpb24gKCkge1xuXG4gIGNvbnN0IGl0ZW1TbGlkZXJMYXJnZSA9ICQoJy5pdGVtLWltYWdlLWxhcmdlJyk7XG4gIGNvbnN0IGl0ZW1TbGlkZXJTbWFsbCA9ICQoJy5pdGVtLWltYWdlLXNtYWxsJyk7XG4gIGNvbnN0IHBhcmFtcyA9ICQoJy5pdGVtLXBhcmFtcycpO1xuICBjb25zdCBjb2xvclNsaWRlciA9ICQoJy5jaG9vc2VyLmNob29zZXItY29sb3IgdWwnKTtcbiAgY29uc3QgaXRlbUxpc3QgPSAkKCcuaXRlbSAuaXRlbS1saXN0Jyk7XG4gIGNvbnN0IGl0ZW1JbWFnZSA9ICQoJy5pdGVtLWltYWdlJyk7XG4gIGNvbnN0IGl0ZW1Gb3JtSGVhZGVyID0gJCgnLml0ZW0tZm9ybS1oZWFkZXInKTtcbiAgY29uc3QgaXRlbURlbGl2ZXJ5ID0gJCgnLml0ZW0tZGVsaXZlcnknKTtcbiAgY29uc3QgaXRlbUZvcm0gPSAkKCcuaXRlbS1mb3JtJyk7XG5cbiAgaXRlbVJlcGFpbnQoKTtcblxuICByZXBhaW50Q29sb3JTbGlkZXIoY29sb3JTbGlkZXIpO1xuXG4gIGlmIChwYXJhbXMubGVuZ3RoKSB7XG4gICAgcGFyYW1zLnNsaWNrKHtcbiAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAge1xuICAgICAgICAgIGJyZWFrcG9pbnQ6IDEyMDAsXG4gICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogNFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcbiAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXRlbVNsaWRlckxhcmdlLmxlbmd0aCAmJiBpdGVtU2xpZGVyU21hbGwubGVuZ3RoKSB7XG5cbiAgICBpdGVtU2xpZGVyTGFyZ2Uuc2xpY2soe1xuICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgIGZhZGU6IHRydWUsXG4gICAgICBhc05hdkZvcjogJy5pdGVtLWltYWdlLXNtYWxsJ1xuICAgIH0pO1xuXG4gICAgaXRlbVNsaWRlclNtYWxsLnNsaWNrKHtcbiAgICAgIHNsaWRlc1RvU2hvdzogNCxcbiAgICAgIGZvY3VzT25TZWxlY3Q6IHRydWUsXG4gICAgICBhc05hdkZvcjogJy5pdGVtLWltYWdlLWxhcmdlJyxcbiAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAge1xuICAgICAgICAgIGJyZWFrcG9pbnQ6IDEyMDAsXG4gICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuXG4gIH1cblxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICByZXBhaW50Q29sb3JTbGlkZXIoY29sb3JTbGlkZXIpO1xuICAgIGl0ZW1SZXBhaW50KCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHJlcGFpbnRDb2xvclNsaWRlcihjb2xvclNsaWRlcikge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xuICAgICAgJChjb2xvclNsaWRlcikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xuICAgICAgICAgICQodGhpcykuc2xpY2soJ3Vuc2xpY2snKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoY29sb3JTbGlkZXIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ3NsaWNrLXNsaWRlcicpKSB7XG4gICAgICAgICAgJCh0aGlzKS5zbGljayh7XG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXG4gICAgICAgICAgICBpbmZpbml0ZTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXRlbVJlcGFpbnQoKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgICByZW5kZXJNb2JpbGVJdGVtKCk7XG4gICAgfSBlbHNlIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcbiAgICAgIHJlbmRlclRhYmxldEl0ZW0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVuZGVyRGVza3RvcEl0ZW0oKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJNb2JpbGVJdGVtICgpIHtcbiAgICBpdGVtTGlzdC5pbnNlcnRBZnRlcihpdGVtRm9ybUhlYWRlcik7XG4gICAgaXRlbURlbGl2ZXJ5Lmluc2VydEFmdGVyKGl0ZW1Gb3JtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlclRhYmxldEl0ZW0gKCkge1xuICAgIGl0ZW1MaXN0LmFwcGVuZFRvKGl0ZW1JbWFnZSk7XG4gICAgaXRlbURlbGl2ZXJ5Lmluc2VydEFmdGVyKGl0ZW1Gb3JtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckRlc2t0b3BJdGVtICgpIHtcbiAgICBpdGVtTGlzdC5hcHBlbmRUbyhpdGVtSW1hZ2UpO1xuICAgIGl0ZW1EZWxpdmVyeS5hcHBlbmRUbyhpdGVtRm9ybSk7XG4gIH1cblxuICAkKCcuaXRlbS10YWItaGVhZGVyIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgICAgICQodGhpcykucGFyZW50cygnLml0ZW0tdGFiLWhlYWRlcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY3VycmVudCA9ICQodGhpcykuYXR0cignZGF0YS10YWInKTtcbiAgICAgICQoJy5pdGVtLXRhYi1jb250ZW50ID4gbGknKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLml0ZW0tdGFiLWNvbnRlbnQnKS5maW5kKCdsaVtkYXRhLXRhYj1cIicgKyBjdXJyZW50ICsgJ1wiXScpLmZhZGVJbigpO1xuICAgICAgJCh0aGlzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgICAgICQodGhpcykucGFyZW50cygnLml0ZW0tdGFiLWhlYWRlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cblxuICAgIH1cbiAgfSk7XG5cbiAgJCgnLml0ZW0tbGlzdC1hbGwnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgc2Nyb2xsVG9wOiAkKCcuaXRlbS10YWItY29udGVudCcpLm9mZnNldCgpLnRvcCAtIDEyMFxuICAgIH0sIDQwMCwgZnVuY3Rpb24gKCkge1xuICAgICAgJCgnLml0ZW0tdGFiLWhlYWRlciBsaVtkYXRhLXRhYj1cInBhcmFtc1wiXScpXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcuaXRlbS10YWItY29udGVudCBsaVtkYXRhLXRhYj1cInBhcmFtc1wiXScpXG4gICAgICAgIC5mYWRlSW4oKS5zaWJsaW5ncygpLmZhZGVPdXQoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG59KTsiLCIkKGZ1bmN0aW9uICgpIHtcblxuICBjb25zdCBtb2JpbGVTbGlkZXIgPSAkKCcuYWR2YW50YWdlcyB1bCwgLnJldmlld3MtcmF0ZScpO1xuXG4gIHJlcGFpbnRNb2JpbGVTbGlkZXIobW9iaWxlU2xpZGVyKTtcblxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICByZXBhaW50TW9iaWxlU2xpZGVyKG1vYmlsZVNsaWRlcik7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHJlcGFpbnRNb2JpbGVTbGlkZXIobW9iaWxlU2xpZGVyKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgICAkKG1vYmlsZVNsaWRlcikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcbiAgICAgICAgICAkKHRoaXMpLnNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKG1vYmlsZVNsaWRlcikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xuICAgICAgICAgICQodGhpcykuc2xpY2soJ3Vuc2xpY2snKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbn0pO1xuIiwiJChmdW5jdGlvbiAoKSB7XG5cbiAgY29uc3QgcmV2aWV3c1Jlc3VsdFBlcmNlbnQgPSAkKCcucmV2aWV3cy1yZXN1bHQtcGVyY2VudCcpO1xuXG4gIHJldmlld3NSZXN1bHRQZXJjZW50LmVhY2goZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCdkYXRhLXJlc3VsdC1wZXJjZW50JykpO1xuICAgIGNvbnN0IHZhbHVlRE9NID0gJCh0aGlzKS5maW5kKCcucmV2aWV3cy1yZXN1bHQtcGVyY2VudC12YWx1ZScpO1xuICAgICQoJzxkaXYgY2xhc3M9XCJyZXZpZXdzLXJlc3VsdC1wZXJjZW50LWNvbG9yXCI+PC9kaXY+JylcbiAgICAgIC5hcHBlbmRUbyh2YWx1ZURPTSkuY3NzKCd3aWR0aCcsIHZhbHVlICsgJyUnKTtcbiAgfSk7XG5cbiAgJCgnLnJldmlld3MtbGlzdCAucmV2aWV3cy1jYXJkIHAgLnNob3ctYWxsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuc2libGluZ3MoJy5hbGwtdGV4dCcpLmNzcygnZGlzcGxheScsICdpbmxpbmUnKTtcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuZG90cycpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgJCh0aGlzKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICB9KTtcblxufSk7IiwiJChmdW5jdGlvbiAoKSB7XG5cbiAgY29uc3Qgc2xpZGVycyA9ICQoJy5jZXJ0aWZpY2F0ZXMtbGlzdCwgLnByb2R1Y3QtbGlzdCwgLmFydGljbGVzLWxpc3QsIC5yZXZpZXdzLXNsaWRlcicpO1xuXG4gIGlmIChzbGlkZXJzLmxlbmd0aCkge1xuXG4gICAgc2xpZGVycy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdwcm9kdWN0LWxpc3QnKSB8fCAkKHRoaXMpLmhhc0NsYXNzKCdjZXJ0aWZpY2F0ZXMtbGlzdCcpKSB7XG4gICAgICAgICQodGhpcykuc2xpY2soe1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogNCxcbiAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBicmVha3BvaW50OiAxMjAwLFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogOTMwLFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQodGhpcykuc2xpY2soe1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICB2ZXJ0aWNhbDpmYWxzZSxcbiAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBicmVha3BvaW50OiAxMjAwLFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmVydGljYWw6IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAkKHRoaXMpLmZpbmQoJy5zbGljay1wcmV2JykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfSk7XG5cbiAgICBzbGlkZXJzLm9uKCdiZWZvcmVDaGFuZ2UnLCBmdW5jdGlvbihldmVudCwgc2xpY2ssIGN1cnJlbnRTbGlkZSwgbmV4dFNsaWRlKSB7XG4gICAgICBzZXRTbGlkZXJBcnJvd3MoJCh0aGlzKSwgbmV4dFNsaWRlKTtcbiAgICB9KTtcblxuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2xpZGVyQXJyb3dzIChzbGlkZXIsIG5leHRTbGlkZSkge1xuICAgIGNvbnN0IHByZXYgPSAkKHNsaWRlcikuZmluZCgnLnNsaWNrLXByZXYnKTtcbiAgICBjb25zdCBuZXh0ID0gJChzbGlkZXIpLmZpbmQoJy5zbGljay1uZXh0Jyk7XG4gICAgY29uc3Qgc2l6ZSA9ICQoc2xpZGVyKS5maW5kKCcuc2xpY2stc2xpZGUnKS5sZW5ndGg7XG4gICAgY29uc3QgdmlzaWJsZSA9ICQoc2xpZGVyKS5maW5kKCcuc2xpY2stc2xpZGUuc2xpY2stYWN0aXZlJykubGVuZ3RoO1xuICAgIGNvbnN0IHNtYWxsQW1vdW50ID0gdmlzaWJsZSArIDEgPT09IHNpemU7XG4gICAgaWYgKG5leHRTbGlkZSA9PT0gMCkge1xuICAgICAgcHJldi5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIG5leHQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXYucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGlmIChzbWFsbEFtb3VudCkge1xuICAgICAgaWYgKG5leHRTbGlkZSArIHZpc2libGUgPj0gc2l6ZSkge1xuICAgICAgICBuZXh0LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICBwcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5leHRTbGlkZSArIHZpc2libGUgPiBzaXplIC0gMSkge1xuICAgICAgICBuZXh0LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICBwcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufSk7XG4iXX0=
