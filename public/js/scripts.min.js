"use strict";$(function(){var e=$(".wrapper"),t=$(".header-bottom .wrapper-inner"),a=$(".header-nav"),s=$(".header .contacts"),i=$(".header .address-hours"),n=$(".header-search"),o=$(".header-cart"),r=$(".footer-subscribe"),c=$(".footer-copyrights"),l=$(".footer-social");function d(){$(window).width()<768?(n.insertBefore(o),s.appendTo(a),i.appendTo(a),r.insertAfter(c)):($(window).width()<1200?(n.insertBefore(o),s.appendTo(t),i.appendTo(a)):(n.removeClass("active"),$(".header").removeClass("menu-opened"),n.appendTo(t),s.appendTo(t),i.appendTo(t)),r.insertBefore(l))}setTimeout(function(){e.animate({opacity:1},500)},500),d(),$(window).on("resize",function(){d()}),$('.header-search button[type="submit"]').on("click",function(e){e.preventDefault();var t=$(this).parents(".header-search");$(window).width()<1200?t.hasClass("active")?t.submit():t.addClass("active"):t.submit()}),$(".field-rate-list i").on("click",function(){var a=$(this).index()+1;$(this).parents(".field-rate").find('input[type="hidden"]').val(a),$(this).parents(".field-rate-list").find("i").each(function(e,t){a<=e?$(t).removeClass("fa-red").addClass("fa-grey"):$(t).removeClass("fa-grey").addClass("fa-red")})}),$('.field-file input[type="file"]').on("change",function(){var e=$(this).val().split("\\");$(this).siblings(".field-file-text").text(e[e.length-1])}),$('input[type="tel"]').mask("+7 (999) 999-999-99"),$(".header-burger").on("click",function(){$(this).parents(".header").toggleClass("menu-opened")}),$(".catalog-burger").on("click",function(){$(this).toggleClass("active"),$(this).siblings(".catalog-filter").toggleClass("active")}),$("[data-select-control]").on("click",function(){$(this).parents("[data-select]").hasClass("active")?$(this).parents("[data-select]").removeClass("active"):($("[data-select]").removeClass("active"),$(this).parents("[data-select]").addClass("active"))}),$("[data-select] ul li").on("click",function(){if(!$(this).hasClass("active")){var e=$(this).html(),t=$(this).find(".color-item").length?$(this).find(".color-item-name").text():$(this).text();$(this).addClass("active"),$(this).siblings(".active").removeClass("active"),$(this).parents("[data-select]").find("[data-select-control]").html(e),$(this).parents("[data-select]").find("input").val(t),$(this).parents("[data-select]").removeClass("active")}}),$(".amount-chooser .fa").on("click",function(){var e=$(this).parents(".amount-chooser").find("input"),t=parseInt(e.val());$(this).hasClass("fa-chevron-left")?1<t&&e.val(t-1):$(this).hasClass("fa-chevron-right")&&e.val(t+1),e.trigger("change")}),$(".amount-chooser input").on("change",function(){var e=$(this).parents(".amount-chooser").find("input"),t=$(this).parents(".amount-chooser").siblings(".card-cost"),a=!!t.length&&parseInt($(this).parents("[data-cost]").attr("data-cost"));t.html(e.val()*a+' <i class="fa fa-rub"></i>')}),$(document).on("click",function(e){var t=$(e.target);0===t.closest("[data-select]").length&&$(".active[data-select]").removeClass("active"),0===t.closest(".header-search").length&&$(".header-search").removeClass("active")})}),$(function(){var e=$(".advantages ul");function t(){$(window).width()<768?e.hasClass("slick-slider")||e.slick({infinite:!1}):e.hasClass("slick-slider")&&e.slick("unslick")}e.length&&t(),$(window).on("resize",function(){e.length&&t()})}),$(function(){var e=$(".hero");e.length&&e.slick({dots:!0,arrows:!1,fade:!0,autoplay:!0,autoplaySpeed:5e3})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJhZHZhbnRhZ2VzLmpzIiwiaGVyby5qcyJdLCJuYW1lcyI6WyIkIiwid3JhcHBlciIsImhlYWRlckJvdHRvbSIsImhlYWRlck5hdiIsImhlYWRlckNvbnRhY3RzIiwiaGVhZGVyQWRkcmVzcyIsImhlYWRlclNlYXJjaCIsImhlYWRlckNhcnQiLCJmb290ZXJTdWJzY3JpYmUiLCJmb290ZXJDb3B5cmlnaHRzIiwiZm9vdGVyU29jaWFsIiwicGFnZVJlcGFpbnQiLCJ3aW5kb3ciLCJ3aWR0aCIsImluc2VydEJlZm9yZSIsImFwcGVuZFRvIiwiaW5zZXJ0QWZ0ZXIiLCJyZW1vdmVDbGFzcyIsInNldFRpbWVvdXQiLCJhbmltYXRlIiwib3BhY2l0eSIsIm9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJ0aGlzIiwicGFyZW50cyIsImhhc0NsYXNzIiwic3VibWl0IiwiYWRkQ2xhc3MiLCJ2YWx1ZSIsImluZGV4IiwiZmluZCIsInZhbCIsImVhY2giLCJlbGVtZW50IiwidmFsQXJyYXkiLCJzcGxpdCIsInNpYmxpbmdzIiwidGV4dCIsImxlbmd0aCIsIm1hc2siLCJ0b2dnbGVDbGFzcyIsImh0bWwiLCJ2YWx1ZVRleHQiLCJhbW91bnRET00iLCJhbW91bnRWYWx1ZSIsInBhcnNlSW50IiwidHJpZ2dlciIsImNvc3RET00iLCJjb3N0VmFsdWUiLCJhdHRyIiwiZG9jdW1lbnQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiYWR2YW50YWdlcyIsInJlcGFpbnRBZHZhbnRhZ2VzIiwic2xpY2siLCJpbmZpbml0ZSIsImhlcm8iLCJkb3RzIiwiYXJyb3dzIiwiZmFkZSIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCJdLCJtYXBwaW5ncyI6ImFBQUFBLEVBQUUsV0FFQSxJQUFNQyxFQUFVRCxFQUFFLFlBQ1pFLEVBQWVGLEVBQUUsaUNBQ2pCRyxFQUFZSCxFQUFFLGVBQ2RJLEVBQWlCSixFQUFFLHFCQUNuQkssRUFBZ0JMLEVBQUUsMEJBQ2xC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RnhELEVBQUVZLFFBQVFTLEdBQUcsU0FBVSxXQUNqQmtDLEVBQVdmLFFBQ2JnQixRQ1ZOeEQsRUFBRSxXQUVBLElBQU0yRCxFQUFPM0QsRUFBRSxTQUVYMkQsRUFBS25CLFFBQ1BtQixFQUFLRixNQUFNLENBQ1RHLE1BQU0sRUFDTkMsUUFBUSxFQUNSQyxNQUFNLEVBQ05DLFVBQVUsRUFDVkMsY0FBZSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCkge1xyXG5cclxuICBjb25zdCB3cmFwcGVyID0gJCgnLndyYXBwZXInKTtcclxuICBjb25zdCBoZWFkZXJCb3R0b20gPSAkKCcuaGVhZGVyLWJvdHRvbSAud3JhcHBlci1pbm5lcicpO1xyXG4gIGNvbnN0IGhlYWRlck5hdiA9ICQoJy5oZWFkZXItbmF2Jyk7XHJcbiAgY29uc3QgaGVhZGVyQ29udGFjdHMgPSAkKCcuaGVhZGVyIC5jb250YWN0cycpO1xyXG4gIGNvbnN0IGhlYWRlckFkZHJlc3MgPSAkKCcuaGVhZGVyIC5hZGRyZXNzLWhvdXJzJyk7XHJcbiAgY29uc3QgaGVhZGVyU2VhcmNoID0gJCgnLmhlYWRlci1zZWFyY2gnKTtcclxuICBjb25zdCBoZWFkZXJDYXJ0ID0gJCgnLmhlYWRlci1jYXJ0Jyk7XHJcbiAgY29uc3QgZm9vdGVyU3Vic2NyaWJlID0gJCgnLmZvb3Rlci1zdWJzY3JpYmUnKTtcclxuICBjb25zdCBmb290ZXJDb3B5cmlnaHRzID0gJCgnLmZvb3Rlci1jb3B5cmlnaHRzJyk7XHJcbiAgY29uc3QgZm9vdGVyU29jaWFsID0gJCgnLmZvb3Rlci1zb2NpYWwnKTtcclxuXHJcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICB3cmFwcGVyLmFuaW1hdGUoe29wYWNpdHk6IDF9LCA1MDApO1xyXG4gIH0sIDUwMCk7XHJcblxyXG4gIHBhZ2VSZXBhaW50KCk7XHJcblxyXG4gICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgcGFnZVJlcGFpbnQoKTtcclxuICB9KTtcclxuXHJcbiAgJCgnLmhlYWRlci1zZWFyY2ggYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBmb3JtID0gJCh0aGlzKS5wYXJlbnRzKCcuaGVhZGVyLXNlYXJjaCcpO1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xyXG4gICAgICBpZiAoZm9ybS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgICBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvcm0uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcuZmllbGQtcmF0ZS1saXN0IGknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCB2YWx1ZSA9ICQodGhpcykuaW5kZXgoKSArIDE7XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5maWVsZC1yYXRlJykuZmluZCgnaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLnZhbCh2YWx1ZSk7XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5maWVsZC1yYXRlLWxpc3QnKS5maW5kKCdpJykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgaWYgKGluZGV4ID49IHZhbHVlKSB7XHJcbiAgICAgICAgJChlbGVtZW50KS5yZW1vdmVDbGFzcygnZmEtcmVkJykuYWRkQ2xhc3MoJ2ZhLWdyZXknKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKCdmYS1ncmV5JykuYWRkQ2xhc3MoJ2ZhLXJlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgJCgnLmZpZWxkLWZpbGUgaW5wdXRbdHlwZT1cImZpbGVcIl0nKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgdmFsQXJyYXkgPSAkKHRoaXMpLnZhbCgpLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuZmllbGQtZmlsZS10ZXh0JykudGV4dCh2YWxBcnJheVt2YWxBcnJheS5sZW5ndGggLSAxXSk7XHJcbiAgfSk7XHJcblxyXG4gICQoJ2lucHV0W3R5cGU9XCJ0ZWxcIl0nKS5tYXNrKFwiKzcgKDk5OSkgOTk5LTk5OS05OVwiKTtcclxuXHJcbiAgJCgnLmhlYWRlci1idXJnZXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXInKS50b2dnbGVDbGFzcygnbWVudS1vcGVuZWQnKTtcclxuICB9KTtcclxuXHJcbiAgJCgnLmNhdGFsb2ctYnVyZ2VyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuY2F0YWxvZy1maWx0ZXInKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgfSk7XHJcblxyXG4gICQoJ1tkYXRhLXNlbGVjdC1jb250cm9sXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJCgnW2RhdGEtc2VsZWN0XScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCdbZGF0YS1zZWxlY3RdIHVsIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9ICQodGhpcykuaHRtbCgpO1xyXG4gICAgICBjb25zdCB2YWx1ZVRleHQgPSAoJCh0aGlzKS5maW5kKCcuY29sb3ItaXRlbScpLmxlbmd0aClcclxuICAgICAgICA/ICQodGhpcykuZmluZCgnLmNvbG9yLWl0ZW0tbmFtZScpLnRleHQoKVxyXG4gICAgICAgIDogJCh0aGlzKS50ZXh0KCk7XHJcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5maW5kKCdbZGF0YS1zZWxlY3QtY29udHJvbF0nKS5odG1sKHZhbHVlKTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuZmluZCgnaW5wdXQnKS52YWwodmFsdWVUZXh0KTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcuYW1vdW50LWNob29zZXIgLmZhJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgYW1vdW50RE9NID0gJCh0aGlzKS5wYXJlbnRzKCcuYW1vdW50LWNob29zZXInKS5maW5kKCdpbnB1dCcpO1xyXG4gICAgY29uc3QgYW1vdW50VmFsdWUgPSBwYXJzZUludChhbW91bnRET00udmFsKCkpO1xyXG4gICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2ZhLWNoZXZyb24tbGVmdCcpKSB7XHJcbiAgICAgIGlmIChhbW91bnRWYWx1ZSA+IDEpIHtcclxuICAgICAgICBhbW91bnRET00udmFsKGFtb3VudFZhbHVlIC0gMSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZmEtY2hldnJvbi1yaWdodCcpKSB7XHJcbiAgICAgIGFtb3VudERPTS52YWwoYW1vdW50VmFsdWUgKyAxKTtcclxuICAgIH1cclxuICAgIGFtb3VudERPTS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICB9KTtcclxuXHJcbiAgJCgnLmFtb3VudC1jaG9vc2VyIGlucHV0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGFtb3VudERPTSA9ICQodGhpcykucGFyZW50cygnLmFtb3VudC1jaG9vc2VyJykuZmluZCgnaW5wdXQnKTtcclxuICAgIGNvbnN0IGNvc3RET00gPSAkKHRoaXMpLnBhcmVudHMoJy5hbW91bnQtY2hvb3NlcicpLnNpYmxpbmdzKCcuY2FyZC1jb3N0Jyk7XHJcbiAgICBjb25zdCBjb3N0VmFsdWUgPSBjb3N0RE9NLmxlbmd0aFxyXG4gICAgICA/IHBhcnNlSW50KCQodGhpcykucGFyZW50cygnW2RhdGEtY29zdF0nKS5hdHRyKCdkYXRhLWNvc3QnKSlcclxuICAgICAgOiBmYWxzZTtcclxuICAgIGNvc3RET00uaHRtbChhbW91bnRET00udmFsKCkgKiBjb3N0VmFsdWUgKyAnIDxpIGNsYXNzPVwiZmEgZmEtcnViXCI+PC9pPicpO1xyXG4gIH0pO1xyXG5cclxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcclxuXHJcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXNlbGVjdF0nKS5sZW5ndGggPT09IDApICQoJy5hY3RpdmVbZGF0YS1zZWxlY3RdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuaGVhZGVyLXNlYXJjaCcpLmxlbmd0aCA9PT0gMCkgJCgnLmhlYWRlci1zZWFyY2gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBwYWdlUmVwYWludCgpIHtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xyXG4gICAgICByZW5kZXJNb2JpbGVIZWFkZXIoKTtcclxuICAgICAgcmVuZGVyTW9iaWxlRm9vdGVyKCk7XHJcbiAgICB9IGVsc2UgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xyXG4gICAgICByZW5kZXJUYWJsZXRIZWFkZXIoKTtcclxuICAgICAgcmVuZGVyVGFibGV0Rm9vdGVyKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBoZWFkZXJTZWFyY2gucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKCcuaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ21lbnUtb3BlbmVkJyk7XHJcbiAgICAgIHJlbmRlckRlc2t0b3BIZWFkZXIoKTtcclxuICAgICAgcmVuZGVyRGVza3RvcEZvb3RlcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyTW9iaWxlSGVhZGVyKCkge1xyXG4gICAgaGVhZGVyU2VhcmNoLmluc2VydEJlZm9yZShoZWFkZXJDYXJ0KTtcclxuICAgIGhlYWRlckNvbnRhY3RzLmFwcGVuZFRvKGhlYWRlck5hdik7XHJcbiAgICBoZWFkZXJBZGRyZXNzLmFwcGVuZFRvKGhlYWRlck5hdik7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJUYWJsZXRIZWFkZXIoKSB7XHJcbiAgICBoZWFkZXJTZWFyY2guaW5zZXJ0QmVmb3JlKGhlYWRlckNhcnQpO1xyXG4gICAgaGVhZGVyQ29udGFjdHMuYXBwZW5kVG8oaGVhZGVyQm90dG9tKTtcclxuICAgIGhlYWRlckFkZHJlc3MuYXBwZW5kVG8oaGVhZGVyTmF2KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlckRlc2t0b3BIZWFkZXIoKSB7XHJcbiAgICBoZWFkZXJTZWFyY2guYXBwZW5kVG8oaGVhZGVyQm90dG9tKTtcclxuICAgIGhlYWRlckNvbnRhY3RzLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XHJcbiAgICBoZWFkZXJBZGRyZXNzLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJNb2JpbGVGb290ZXIoKSB7XHJcbiAgICBmb290ZXJTdWJzY3JpYmUuaW5zZXJ0QWZ0ZXIoZm9vdGVyQ29weXJpZ2h0cyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJUYWJsZXRGb290ZXIoKSB7XHJcbiAgICBmb290ZXJTdWJzY3JpYmUuaW5zZXJ0QmVmb3JlKGZvb3RlclNvY2lhbCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJEZXNrdG9wRm9vdGVyKCkge1xyXG4gICAgICBmb290ZXJTdWJzY3JpYmUuaW5zZXJ0QmVmb3JlKGZvb3RlclNvY2lhbCk7XHJcbiAgfVxyXG5cclxufSk7XHJcbiIsIiQoZnVuY3Rpb24gKCkge1xyXG5cclxuICBjb25zdCBhZHZhbnRhZ2VzID0gJCgnLmFkdmFudGFnZXMgdWwnKTtcclxuXHJcbiAgaWYgKGFkdmFudGFnZXMubGVuZ3RoKSB7XHJcbiAgICByZXBhaW50QWR2YW50YWdlcygpO1xyXG4gIH1cclxuXHJcbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoYWR2YW50YWdlcy5sZW5ndGgpIHtcclxuICAgICAgcmVwYWludEFkdmFudGFnZXMoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gcmVwYWludEFkdmFudGFnZXMgKCkge1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XHJcbiAgICAgIGlmICghYWR2YW50YWdlcy5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcclxuICAgICAgICBhZHZhbnRhZ2VzLnNsaWNrKHtcclxuICAgICAgICAgIGluZmluaXRlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoYWR2YW50YWdlcy5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcclxuICAgICAgICBhZHZhbnRhZ2VzLnNsaWNrKCd1bnNsaWNrJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG59KTtcclxuIiwiJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGNvbnN0IGhlcm8gPSAkKCcuaGVybycpO1xyXG5cclxuICBpZiAoaGVyby5sZW5ndGgpIHtcclxuICAgIGhlcm8uc2xpY2soe1xyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICBmYWRlOiB0cnVlLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXV0b3BsYXlTcGVlZDogNTAwMFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSk7XHJcbiJdfQ==
