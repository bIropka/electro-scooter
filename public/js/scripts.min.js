"use strict";$(function(){var e=$(".wrapper"),t=$(".header-bottom .wrapper-inner"),s=$(".header-nav"),a=$(".header .contacts"),i=$(".header .address-hours"),n=$(".header-search"),o=$(".header-cart"),l=$(".footer-subscribe"),c=$(".footer-copyrights"),r=$(".footer-social"),d=$(".chooser");function h(){$(window).width()<768?(n.insertBefore(o),a.appendTo(s),i.appendTo(s),l.insertAfter(c)):($(window).width()<1200?(n.insertBefore(o),a.appendTo(t),i.appendTo(s)):(n.removeClass("active"),$(".header").removeClass("menu-opened"),n.appendTo(t),a.appendTo(t),i.appendTo(t)),l.insertBefore(r))}setTimeout(function(){e.animate({opacity:1},500)},500),h(),$(window).on("resize",function(){h()}),$('.header-search button[type="submit"]').on("click",function(e){e.preventDefault();var t=$(this).parents(".header-search");$(window).width()<1200?t.hasClass("active")?t.submit():t.addClass("active"):t.submit()}),$(".field-rate-list i").on("click",function(){var s=$(this).index()+1;$(this).parents(".field-rate").find('input[type="hidden"]').val(s),$(this).parents(".field-rate-list").find("i").each(function(e,t){s<=e?$(t).removeClass("fa-red").addClass("fa-grey"):$(t).removeClass("fa-grey").addClass("fa-red")})}),$('.field-file input[type="file"]').on("change",function(){var e=$(this).val().split("\\");$(this).siblings(".field-file-text").text(e[e.length-1])}),$('input[type="tel"]').mask("+7 (999) 999-999-99"),$(".header-burger").on("click",function(){$(this).parents(".header").toggleClass("menu-opened")}),$(".catalog-burger").on("click",function(){$(this).toggleClass("active"),$(this).siblings(".catalog-filter").toggleClass("active")}),$("[data-select-control]").on("click",function(){$(this).parents("[data-select]").hasClass("active")?$(this).parents("[data-select]").removeClass("active"):($("[data-select]").removeClass("active"),$(this).parents("[data-select]").addClass("active"))}),$("[data-select] ul li").on("click",function(){if(!$(this).hasClass("active")){var e=$(this).html(),t=$(this).find(".color-item").length?$(this).find(".color-item-name").text():$(this).text();$(this).addClass("active"),$(this).siblings(".active").removeClass("active"),$(this).parents("[data-select]").find("[data-select-control]").html(e),$(this).parents("[data-select]").find("input").val(t),$(this).parents("[data-select]").removeClass("active")}}),$(".amount-chooser .fa").on("click",function(){var e=$(this).parents(".amount-chooser").find("input"),t=parseInt(e.val());$(this).hasClass("fa-chevron-left")?1<t&&e.val(t-1):$(this).hasClass("fa-chevron-right")&&e.val(t+1),e.trigger("change")}),$(".amount-chooser input").on("change",function(){var e=$(this).parents(".amount-chooser").find("input"),t=$(this).parents(".amount-chooser").siblings(".card-cost"),s=!!t.length&&parseInt($(this).parents("[data-cost]").attr("data-cost"));t.html(e.val()*s+' <i class="fa fa-rub"></i>')}),d.find(".chooser-value").on("click",function(){$(this).parents(".chooser").toggleClass("active")}),d.find("ul li").on("click",function(){if(!$(this).hasClass("active")){var e=$(this).text();$(this).siblings().removeClass("active"),$(this).addClass("active"),$(this).parents(".chooser").find(".chooser-value").text(e),$(this).parents(".chooser").removeClass("active")}}),$(document).on("click",function(e){var t=$(e.target);0===t.closest("[data-select]").length&&$(".active[data-select]").removeClass("active"),0===t.closest(".header-search").length&&$(".header-search").removeClass("active"),0===t.closest(".chooser").length&&d.removeClass("active")})}),$(function(){var e=$(".advantages ul");function t(){$(window).width()<768?e.hasClass("slick-slider")||e.slick({infinite:!1}):e.hasClass("slick-slider")&&e.slick("unslick")}e.length&&t(),$(window).on("resize",function(){e.length&&t()})}),$(function(){var e=$(".hero");e.length&&e.slick({dots:!0,arrows:!1,fade:!0,autoplay:!0,autoplaySpeed:5e3})}),$(function(){var e=$(".product-list");e.length&&(e.slick({slidesToShow:4,infinite:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:3,infinite:!1}},{breakpoint:930,settings:{slidesToShow:2,infinite:!1}},{breakpoint:768,settings:{infinite:!0,slidesToShow:1}}]}),e.each(function(){$(e).find(".slick-prev").addClass("disabled")}),e.on("beforeChange",function(e,t,s,a){!function(e,t){var s=$(e).find(".slick-prev"),a=$(e).find(".slick-next");0===t?s.addClass("disabled"):s.removeClass("disabled");$(e).find(".slick-slide.slick-active").last().index()===$(e).find(".slick-slide").length-2?a.addClass("disabled"):a.removeClass("disabled")}($(this),a)}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJhZHZhbnRhZ2VzLmpzIiwiaGVyby5qcyIsInByb2R1Y3QuanMiXSwibmFtZXMiOlsiJCIsIndyYXBwZXIiLCJoZWFkZXJCb3R0b20iLCJoZWFkZXJOYXYiLCJoZWFkZXJDb250YWN0cyIsImhlYWRlckFkZHJlc3MiLCJoZWFkZXJTZWFyY2giLCJoZWFkZXJDYXJ0IiwiZm9vdGVyU3Vic2NyaWJlIiwiZm9vdGVyQ29weXJpZ2h0cyIsImZvb3RlclNvY2lhbCIsImNob29zZXIiLCJwYWdlUmVwYWludCIsIndpbmRvdyIsIndpZHRoIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kVG8iLCJpbnNlcnRBZnRlciIsInJlbW92ZUNsYXNzIiwic2V0VGltZW91dCIsImFuaW1hdGUiLCJvcGFjaXR5Iiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsInRoaXMiLCJwYXJlbnRzIiwiaGFzQ2xhc3MiLCJzdWJtaXQiLCJhZGRDbGFzcyIsInZhbHVlIiwiaW5kZXgiLCJmaW5kIiwidmFsIiwiZWFjaCIsImVsZW1lbnQiLCJ2YWxBcnJheSIsInNwbGl0Iiwic2libGluZ3MiLCJ0ZXh0IiwibGVuZ3RoIiwibWFzayIsInRvZ2dsZUNsYXNzIiwiaHRtbCIsInZhbHVlVGV4dCIsImFtb3VudERPTSIsImFtb3VudFZhbHVlIiwicGFyc2VJbnQiLCJ0cmlnZ2VyIiwiY29zdERPTSIsImNvc3RWYWx1ZSIsImF0dHIiLCJkb2N1bWVudCIsInRhcmdldCIsImNsb3Nlc3QiLCJhZHZhbnRhZ2VzIiwicmVwYWludEFkdmFudGFnZXMiLCJzbGljayIsImluZmluaXRlIiwiaGVybyIsImRvdHMiLCJhcnJvd3MiLCJmYWRlIiwiYXV0b3BsYXkiLCJhdXRvcGxheVNwZWVkIiwicHJvZHVjdCIsInNsaWRlc1RvU2hvdyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJjdXJyZW50U2xpZGUiLCJuZXh0U2xpZGUiLCJwcmV2IiwibmV4dCIs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LGFBQWMsRUFDZFIsVUFBVSxJQUdkLENBQ0VVLFdBQVksSUFDWkMsU0FBVSxDQUNSWCxVQUFVLEVBQ1ZRLGFBQWMsT0FNdEJELEVBQVEvQixLQUFLLFdBQ1huQyxFQUFFa0UsR0FBU2pDLEtBQUssZUFBZUgsU0FBUyxjQUcxQ29DLEVBQVE1QyxHQUFHLGVBQWdCLFNBQVNDLEVBQU9tQyxFQUFPYSxFQUFjQyxJQU1sRSxTQUEyQk4sRUFBU00sR0FDbEMsSUFBTUMsRUFBT3pFLEVBQUVrRSxHQUFTakMsS0FBSyxlQUN2QnlDLEVBQU8xRSxFQUFFa0UsR0FBU2pDLEtBQUssZUFDWCxJQUFkdUMsRUFDRkMsRUFBSzNDLFNBQVMsWUFFZDJDLEVBQUt2RCxZQUFZLFlBRWZsQixFQUFFa0UsR0FBU2pDLEtBQUssNkJBQTZCMEMsT0FBTzNDLFVBQVloQyxFQUFFa0UsR0FBU2pDLEtBQUssZ0JBQWdCUSxPQUFTLEVBQzNHaUMsRUFBSzVDLFNBQVMsWUFFZDRDLEVBQUt4RCxZQUFZLFlBaEJqQjBELENBQWlCNUUsRUFBRTBCLE1BQU84QyIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCkge1xyXG5cclxuICBjb25zdCB3cmFwcGVyID0gJCgnLndyYXBwZXInKTtcclxuICBjb25zdCBoZWFkZXJCb3R0b20gPSAkKCcuaGVhZGVyLWJvdHRvbSAud3JhcHBlci1pbm5lcicpO1xyXG4gIGNvbnN0IGhlYWRlck5hdiA9ICQoJy5oZWFkZXItbmF2Jyk7XHJcbiAgY29uc3QgaGVhZGVyQ29udGFjdHMgPSAkKCcuaGVhZGVyIC5jb250YWN0cycpO1xyXG4gIGNvbnN0IGhlYWRlckFkZHJlc3MgPSAkKCcuaGVhZGVyIC5hZGRyZXNzLWhvdXJzJyk7XHJcbiAgY29uc3QgaGVhZGVyU2VhcmNoID0gJCgnLmhlYWRlci1zZWFyY2gnKTtcclxuICBjb25zdCBoZWFkZXJDYXJ0ID0gJCgnLmhlYWRlci1jYXJ0Jyk7XHJcbiAgY29uc3QgZm9vdGVyU3Vic2NyaWJlID0gJCgnLmZvb3Rlci1zdWJzY3JpYmUnKTtcclxuICBjb25zdCBmb290ZXJDb3B5cmlnaHRzID0gJCgnLmZvb3Rlci1jb3B5cmlnaHRzJyk7XHJcbiAgY29uc3QgZm9vdGVyU29jaWFsID0gJCgnLmZvb3Rlci1zb2NpYWwnKTtcclxuICBjb25zdCBjaG9vc2VyID0gJCgnLmNob29zZXInKTtcclxuXHJcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICB3cmFwcGVyLmFuaW1hdGUoe29wYWNpdHk6IDF9LCA1MDApO1xyXG4gIH0sIDUwMCk7XHJcblxyXG4gIHBhZ2VSZXBhaW50KCk7XHJcblxyXG4gICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgcGFnZVJlcGFpbnQoKTtcclxuICB9KTtcclxuXHJcbiAgJCgnLmhlYWRlci1zZWFyY2ggYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBmb3JtID0gJCh0aGlzKS5wYXJlbnRzKCcuaGVhZGVyLXNlYXJjaCcpO1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xyXG4gICAgICBpZiAoZm9ybS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgICBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvcm0uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcuZmllbGQtcmF0ZS1saXN0IGknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCB2YWx1ZSA9ICQodGhpcykuaW5kZXgoKSArIDE7XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5maWVsZC1yYXRlJykuZmluZCgnaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLnZhbCh2YWx1ZSk7XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5maWVsZC1yYXRlLWxpc3QnKS5maW5kKCdpJykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgaWYgKGluZGV4ID49IHZhbHVlKSB7XHJcbiAgICAgICAgJChlbGVtZW50KS5yZW1vdmVDbGFzcygnZmEtcmVkJykuYWRkQ2xhc3MoJ2ZhLWdyZXknKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKCdmYS1ncmV5JykuYWRkQ2xhc3MoJ2ZhLXJlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgJCgnLmZpZWxkLWZpbGUgaW5wdXRbdHlwZT1cImZpbGVcIl0nKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgdmFsQXJyYXkgPSAkKHRoaXMpLnZhbCgpLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuZmllbGQtZmlsZS10ZXh0JykudGV4dCh2YWxBcnJheVt2YWxBcnJheS5sZW5ndGggLSAxXSk7XHJcbiAgfSk7XHJcblxyXG4gICQoJ2lucHV0W3R5cGU9XCJ0ZWxcIl0nKS5tYXNrKFwiKzcgKDk5OSkgOTk5LTk5OS05OVwiKTtcclxuXHJcbiAgJCgnLmhlYWRlci1idXJnZXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXInKS50b2dnbGVDbGFzcygnbWVudS1vcGVuZWQnKTtcclxuICB9KTtcclxuXHJcbiAgJCgnLmNhdGFsb2ctYnVyZ2VyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuY2F0YWxvZy1maWx0ZXInKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgfSk7XHJcblxyXG4gICQoJ1tkYXRhLXNlbGVjdC1jb250cm9sXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJCgnW2RhdGEtc2VsZWN0XScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCdbZGF0YS1zZWxlY3RdIHVsIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9ICQodGhpcykuaHRtbCgpO1xyXG4gICAgICBjb25zdCB2YWx1ZVRleHQgPSAoJCh0aGlzKS5maW5kKCcuY29sb3ItaXRlbScpLmxlbmd0aClcclxuICAgICAgICA/ICQodGhpcykuZmluZCgnLmNvbG9yLWl0ZW0tbmFtZScpLnRleHQoKVxyXG4gICAgICAgIDogJCh0aGlzKS50ZXh0KCk7XHJcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5maW5kKCdbZGF0YS1zZWxlY3QtY29udHJvbF0nKS5odG1sKHZhbHVlKTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuZmluZCgnaW5wdXQnKS52YWwodmFsdWVUZXh0KTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcuYW1vdW50LWNob29zZXIgLmZhJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgYW1vdW50RE9NID0gJCh0aGlzKS5wYXJlbnRzKCcuYW1vdW50LWNob29zZXInKS5maW5kKCdpbnB1dCcpO1xyXG4gICAgY29uc3QgYW1vdW50VmFsdWUgPSBwYXJzZUludChhbW91bnRET00udmFsKCkpO1xyXG4gICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2ZhLWNoZXZyb24tbGVmdCcpKSB7XHJcbiAgICAgIGlmIChhbW91bnRWYWx1ZSA+IDEpIHtcclxuICAgICAgICBhbW91bnRET00udmFsKGFtb3VudFZhbHVlIC0gMSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZmEtY2hldnJvbi1yaWdodCcpKSB7XHJcbiAgICAgIGFtb3VudERPTS52YWwoYW1vdW50VmFsdWUgKyAxKTtcclxuICAgIH1cclxuICAgIGFtb3VudERPTS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICB9KTtcclxuXHJcbiAgJCgnLmFtb3VudC1jaG9vc2VyIGlucHV0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGFtb3VudERPTSA9ICQodGhpcykucGFyZW50cygnLmFtb3VudC1jaG9vc2VyJykuZmluZCgnaW5wdXQnKTtcclxuICAgIGNvbnN0IGNvc3RET00gPSAkKHRoaXMpLnBhcmVudHMoJy5hbW91bnQtY2hvb3NlcicpLnNpYmxpbmdzKCcuY2FyZC1jb3N0Jyk7XHJcbiAgICBjb25zdCBjb3N0VmFsdWUgPSBjb3N0RE9NLmxlbmd0aFxyXG4gICAgICA/IHBhcnNlSW50KCQodGhpcykucGFyZW50cygnW2RhdGEtY29zdF0nKS5hdHRyKCdkYXRhLWNvc3QnKSlcclxuICAgICAgOiBmYWxzZTtcclxuICAgIGNvc3RET00uaHRtbChhbW91bnRET00udmFsKCkgKiBjb3N0VmFsdWUgKyAnIDxpIGNsYXNzPVwiZmEgZmEtcnViXCI+PC9pPicpO1xyXG4gIH0pO1xyXG5cclxuICBjaG9vc2VyLmZpbmQoJy5jaG9vc2VyLXZhbHVlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuY2hvb3NlcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICB9KTtcclxuXHJcbiAgY2hvb3Nlci5maW5kKCd1bCBsaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLnRleHQoKTtcclxuICAgICAgJCh0aGlzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQodGhpcykucGFyZW50cygnLmNob29zZXInKS5maW5kKCcuY2hvb3Nlci12YWx1ZScpLnRleHQodmFsdWUpO1xyXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5jaG9vc2VyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcclxuXHJcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXNlbGVjdF0nKS5sZW5ndGggPT09IDApICQoJy5hY3RpdmVbZGF0YS1zZWxlY3RdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuaGVhZGVyLXNlYXJjaCcpLmxlbmd0aCA9PT0gMCkgJCgnLmhlYWRlci1zZWFyY2gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5jaG9vc2VyJykubGVuZ3RoID09PSAwKSBjaG9vc2VyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIHBhZ2VSZXBhaW50KCkge1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XHJcbiAgICAgIHJlbmRlck1vYmlsZUhlYWRlcigpO1xyXG4gICAgICByZW5kZXJNb2JpbGVGb290ZXIoKTtcclxuICAgIH0gZWxzZSBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCAxMjAwKSB7XHJcbiAgICAgIHJlbmRlclRhYmxldEhlYWRlcigpO1xyXG4gICAgICByZW5kZXJUYWJsZXRGb290ZXIoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhlYWRlclNlYXJjaC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQoJy5oZWFkZXInKS5yZW1vdmVDbGFzcygnbWVudS1vcGVuZWQnKTtcclxuICAgICAgcmVuZGVyRGVza3RvcEhlYWRlcigpO1xyXG4gICAgICByZW5kZXJEZXNrdG9wRm9vdGVyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJNb2JpbGVIZWFkZXIoKSB7XHJcbiAgICBoZWFkZXJTZWFyY2guaW5zZXJ0QmVmb3JlKGhlYWRlckNhcnQpO1xyXG4gICAgaGVhZGVyQ29udGFjdHMuYXBwZW5kVG8oaGVhZGVyTmF2KTtcclxuICAgIGhlYWRlckFkZHJlc3MuYXBwZW5kVG8oaGVhZGVyTmF2KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlclRhYmxldEhlYWRlcigpIHtcclxuICAgIGhlYWRlclNlYXJjaC5pbnNlcnRCZWZvcmUoaGVhZGVyQ2FydCk7XHJcbiAgICBoZWFkZXJDb250YWN0cy5hcHBlbmRUbyhoZWFkZXJCb3R0b20pO1xyXG4gICAgaGVhZGVyQWRkcmVzcy5hcHBlbmRUbyhoZWFkZXJOYXYpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyRGVza3RvcEhlYWRlcigpIHtcclxuICAgIGhlYWRlclNlYXJjaC5hcHBlbmRUbyhoZWFkZXJCb3R0b20pO1xyXG4gICAgaGVhZGVyQ29udGFjdHMuYXBwZW5kVG8oaGVhZGVyQm90dG9tKTtcclxuICAgIGhlYWRlckFkZHJlc3MuYXBwZW5kVG8oaGVhZGVyQm90dG9tKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlck1vYmlsZUZvb3RlcigpIHtcclxuICAgIGZvb3RlclN1YnNjcmliZS5pbnNlcnRBZnRlcihmb290ZXJDb3B5cmlnaHRzKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlclRhYmxldEZvb3RlcigpIHtcclxuICAgIGZvb3RlclN1YnNjcmliZS5pbnNlcnRCZWZvcmUoZm9vdGVyU29jaWFsKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlckRlc2t0b3BGb290ZXIoKSB7XHJcbiAgICAgIGZvb3RlclN1YnNjcmliZS5pbnNlcnRCZWZvcmUoZm9vdGVyU29jaWFsKTtcclxuICB9XHJcblxyXG59KTtcclxuIiwiJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGNvbnN0IGFkdmFudGFnZXMgPSAkKCcuYWR2YW50YWdlcyB1bCcpO1xyXG5cclxuICBpZiAoYWR2YW50YWdlcy5sZW5ndGgpIHtcclxuICAgIHJlcGFpbnRBZHZhbnRhZ2VzKCk7XHJcbiAgfVxyXG5cclxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChhZHZhbnRhZ2VzLmxlbmd0aCkge1xyXG4gICAgICByZXBhaW50QWR2YW50YWdlcygpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiByZXBhaW50QWR2YW50YWdlcyAoKSB7XHJcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcclxuICAgICAgaWYgKCFhZHZhbnRhZ2VzLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xyXG4gICAgICAgIGFkdmFudGFnZXMuc2xpY2soe1xyXG4gICAgICAgICAgaW5maW5pdGU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChhZHZhbnRhZ2VzLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xyXG4gICAgICAgIGFkdmFudGFnZXMuc2xpY2soJ3Vuc2xpY2snKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pO1xyXG4iLCIkKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgY29uc3QgaGVybyA9ICQoJy5oZXJvJyk7XHJcblxyXG4gIGlmIChoZXJvLmxlbmd0aCkge1xyXG4gICAgaGVyby5zbGljayh7XHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgIGZhZGU6IHRydWUsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBhdXRvcGxheVNwZWVkOiA1MDAwXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KTtcclxuIiwiJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGNvbnN0IHByb2R1Y3QgPSAkKCcucHJvZHVjdC1saXN0Jyk7XHJcblxyXG4gIGlmIChwcm9kdWN0Lmxlbmd0aCkge1xyXG5cclxuICAgIHByb2R1Y3Quc2xpY2soe1xyXG4gICAgICBzbGlkZXNUb1Nob3c6IDQsXHJcbiAgICAgIGluZmluaXRlOiBmYWxzZSxcclxuICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJyZWFrcG9pbnQ6IDEyMDAsXHJcbiAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgICAgIGluZmluaXRlOiBmYWxzZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYnJlYWtwb2ludDogOTMwLFxyXG4gICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgICBpbmZpbml0ZTogZmFsc2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcclxuICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDFcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIF1cclxuICAgIH0pO1xyXG5cclxuICAgIHByb2R1Y3QuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQocHJvZHVjdCkuZmluZCgnLnNsaWNrLXByZXYnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHByb2R1Y3Qub24oJ2JlZm9yZUNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpe1xyXG4gICAgICBzZXRQcm9kdWN0QXJyb3dzKCQodGhpcyksIG5leHRTbGlkZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXRQcm9kdWN0QXJyb3dzIChwcm9kdWN0LCBuZXh0U2xpZGUpIHtcclxuICAgIGNvbnN0IHByZXYgPSAkKHByb2R1Y3QpLmZpbmQoJy5zbGljay1wcmV2Jyk7XHJcbiAgICBjb25zdCBuZXh0ID0gJChwcm9kdWN0KS5maW5kKCcuc2xpY2stbmV4dCcpO1xyXG4gICAgaWYgKG5leHRTbGlkZSA9PT0gMCkge1xyXG4gICAgICBwcmV2LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcHJldi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgIH1cclxuICAgIGlmICgkKHByb2R1Y3QpLmZpbmQoJy5zbGljay1zbGlkZS5zbGljay1hY3RpdmUnKS5sYXN0KCkuaW5kZXgoKSA9PT0gJChwcm9kdWN0KS5maW5kKCcuc2xpY2stc2xpZGUnKS5sZW5ndGggLSAyKSB7XHJcbiAgICAgIG5leHQuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXh0LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pO1xyXG4iXX0=
