"use strict";$(function(){var e=$(".wrapper"),t=$(".header-bottom .wrapper-inner"),a=$(".header-nav"),s=$(".header .contacts"),i=$(".header .address-hours"),n=$(".header-search"),r=$(".header-cart"),o=$(".footer-subscribe"),c=$(".footer-copyrights"),l=$(".footer-social");function h(){$(window).width()<768?(n.insertBefore(r),s.appendTo(a),i.appendTo(a),o.insertAfter(c)):($(window).width()<1200?(n.insertBefore(r),s.appendTo(t),i.appendTo(a)):(n.removeClass("active"),$(".header").removeClass("menu-opened"),n.appendTo(t),s.appendTo(t),i.appendTo(t)),o.insertBefore(l))}setTimeout(function(){e.animate({opacity:1},500)},500),h(),$(window).on("resize",function(){h()}),$('.header-search button[type="submit"]').on("click",function(e){e.preventDefault();var t=$(this).parents(".header-search");$(window).width()<1200?t.hasClass("active")?t.submit():t.addClass("active"):t.submit()}),$(".field-rate-list i").on("click",function(){var a=$(this).index()+1;$(this).parents(".field-rate").find('input[type="hidden"]').val(a),$(this).parents(".field-rate-list").find("i").each(function(e,t){a<=e?$(t).removeClass("fa-red").addClass("fa-grey"):$(t).removeClass("fa-grey").addClass("fa-red")})}),$('.field-file input[type="file"]').on("change",function(){var e=$(this).val().split("\\");$(this).siblings(".field-file-text").text(e[e.length-1])}),$('input[type="tel"]').mask("+7 (999) 999-999-99"),$(".header-burger").on("click",function(){$(this).parents(".header").toggleClass("menu-opened")}),$(".catalog-burger").on("click",function(){$(this).toggleClass("active"),$(this).siblings(".catalog-filter").toggleClass("active")}),$("[data-select-control]").on("click",function(){$(this).parents("[data-select]").hasClass("active")?$(this).parents("[data-select]").removeClass("active"):($("[data-select]").removeClass("active"),$(this).parents("[data-select]").addClass("active"))}),$("[data-select] ul li").on("click",function(){if(!$(this).hasClass("active")){var e=$(this).html(),t=$(this).find(".color-item").length?$(this).find(".color-item-name").text():$(this).text();$(this).addClass("active"),$(this).siblings(".active").removeClass("active"),$(this).parents("[data-select]").find("[data-select-control]").html(e),$(this).parents("[data-select]").find("input").val(t),$(this).parents("[data-select]").removeClass("active")}}),$(".amount-chooser .fa").on("click",function(){var e=$(this).parents(".amount-chooser").find("input"),t=parseInt(e.val());$(this).hasClass("fa-chevron-left")?1<t&&e.val(t-1):$(this).hasClass("fa-chevron-right")&&e.val(t+1),e.trigger("change")}),$(".amount-chooser input").on("change",function(){var e=$(this).parents(".amount-chooser").find("input"),t=$(this).parents(".amount-chooser").siblings(".card-cost"),a=!!t.length&&parseInt($(this).parents("[data-cost]").attr("data-cost"));t.html(e.val()*a+' <i class="fa fa-rub"></i>')}),$(document).on("click",function(e){var t=$(e.target);0===t.closest("[data-select]").length&&$(".active[data-select]").removeClass("active"),0===t.closest(".header-search").length&&$(".header-search").removeClass("active")})}),$(function(){var e=$(".hero");e.length&&e.slick({dots:!0,arrows:!1,fade:!0,autoplay:!0,autoplaySpeed:5e3})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJoZXJvLmpzIl0sIm5hbWVzIjpbIiQiLCJ3cmFwcGVyIiwiaGVhZGVyQm90dG9tIiwiaGVhZGVyTmF2IiwiaGVhZGVyQ29udGFjdHMiLCJoZWFkZXJBZGRyZXNzIiwiaGVhZGVyU2VhcmNoIiwiaGVhZGVyQ2FydCIsImZvb3RlclN1YnNjcmliZSIsImZvb3RlckNvcHlyaWdodHMiLCJmb290ZXJTb2NpYWwiLCJwYWdlUmVwYWludCIsIndpbmRvdyIsIndpZHRoIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kVG8iLCJpbnNlcnRBZnRlciIsInJlbW92ZUNsYXNzIiwic2V0VGltZW91dCIsImFuaW1hdGUiLCJvcGFjaXR5Iiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsInRoaXMiLCJwYXJlbnRzIiwiaGFzQ2xhc3MiLCJzdWJtaXQiLCJhZGRDbGFzcyIsInZhbHVlIiwiaW5kZXgiLCJmaW5kIiwidmFsIiwiZWFjaCIsImVsZW1lbnQiLCJ2YWxBcnJheSIsInNwbGl0Iiwic2libGluZ3MiLCJ0ZXh0IiwibGVuZ3RoIiwibWFzayIsInRvZ2dsZUNsYXNzIiwiaHRtbCIsInZhbHVlVGV4dCIsImFtb3VudERPTSIsImFtb3VudFZhbHVlIiwicGFyc2VJbnQiLCJ0cmlnZ2VyIiwiY29zdERPTSIsImNvc3RWYWx1ZSIsImF0dHIiLCJkb2N1bWVudCIsInRhcmdldCIsImNsb3Nlc3QiLCJoZXJvIiwic2xpY2siLCJkb3RzIiwiYXJyb3dzIiwiZmFkZSIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCJdLCJtYXBwaW5ncyI6ImFBQUFBLEVBQUUsV0FFQSxJQUFNQyxFQUFVRCxFQUFFLFlBQ1pFLEVBQWVGLEVBQUUsaUNBQ2pCRyxFQUFZSCxFQUFFLGVBQ2RJLEVBQWlCSixFQUFFLHFCQUNuQkssRUFBZ0JMLEVBQUUsMEJBQ2xCTSxFQUFlTixFQUFFLGtCQUNqQk8sRUFBYVAsRUFBRSxnQkFDZlEsRUFBa0JSLEVBQUUscUJBQ3BCUyxF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RUFBRSx1QkFBdUJxQixHQUFHLFFBQVMsV0FDbkMsSUFBTXdCLEVBQVk3QyxFQUFFeUIsTUFBTUMsUUFBUSxtQkFBbUJNLEtBQUssU0FDcERjLEVBQWNDLFNBQVNGLEVBQVVaLE9BQ25DakMsRUFBRXlCLE1BQU1FLFNBQVMsbUJBQ0QsRUFBZG1CLEdBQ0ZELEVBQVVaLElBQUlhLEVBQWMsR0FFckI5QyxFQUFFeUIsTUFBTUUsU0FBUyxxQkFDMUJrQixFQUFVWixJQUFJYSxFQUFjLEdBRTlCRCxFQUFVRyxRQUFRLFlBR3BCaEQsRUFBRSx5QkFBeUJxQixHQUFHLFNBQVUsV0FDdEMsSUFBTXdCLEVBQVk3QyxFQUFFeUIsTUFBTUMsUUFBUSxtQkFBbUJNLEtBQUssU0FDcERpQixFQUFVakQsRUFBRXlCLE1BQU1DLFFBQVEsbUJBQW1CWSxTQUFTLGNBQ3REWSxJQUFZRCxFQUFRVCxRQUN0Qk8sU0FBUy9DLEVBQUV5QixNQUFNQyxRQUFRLGVBQWV5QixLQUFLLGNBRWpERixFQUFRTixLQUFLRSxFQUFVWixNQUFRaUIsRUFBWSxnQ0FHN0NsRCxFQUFFb0QsVUFBVS9CLEdBQUcsUUFBUyxTQUFVQyxHQUNoQyxJQUFNK0IsRUFBU3JELEVBQUVzQixFQUFNK0IsUUFFd0IsSUFBM0NBLEVBQU9DLFFBQVEsaUJBQWlCZCxRQUFjeEMsRUFBRSx3QkFBd0JpQixZQUFZLFVBQ3hDLElBQTVDb0MsRUFBT0MsUUFBUSxrQkFBa0JkLFFBQWN4QyxFQUFFLGtCQUFrQmlCLFlBQVksY0NsSHZGakIsRUFBRSxXQUVBLElBQU11RCxFQUFPdkQsRUFBRSxTQUVYdUQsRUFBS2YsUUFDUGUsRUFBS0MsTUFBTSxDQUNUQyxNQUFNLEVBQ05DLFFBQVEsRUFDUkMsTUFBTSxFQUNOQyxVQUFVLEVBQ1ZDLGNBQWUiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgY29uc3Qgd3JhcHBlciA9ICQoJy53cmFwcGVyJyk7XHJcbiAgY29uc3QgaGVhZGVyQm90dG9tID0gJCgnLmhlYWRlci1ib3R0b20gLndyYXBwZXItaW5uZXInKTtcclxuICBjb25zdCBoZWFkZXJOYXYgPSAkKCcuaGVhZGVyLW5hdicpO1xyXG4gIGNvbnN0IGhlYWRlckNvbnRhY3RzID0gJCgnLmhlYWRlciAuY29udGFjdHMnKTtcclxuICBjb25zdCBoZWFkZXJBZGRyZXNzID0gJCgnLmhlYWRlciAuYWRkcmVzcy1ob3VycycpO1xyXG4gIGNvbnN0IGhlYWRlclNlYXJjaCA9ICQoJy5oZWFkZXItc2VhcmNoJyk7XHJcbiAgY29uc3QgaGVhZGVyQ2FydCA9ICQoJy5oZWFkZXItY2FydCcpO1xyXG4gIGNvbnN0IGZvb3RlclN1YnNjcmliZSA9ICQoJy5mb290ZXItc3Vic2NyaWJlJyk7XHJcbiAgY29uc3QgZm9vdGVyQ29weXJpZ2h0cyA9ICQoJy5mb290ZXItY29weXJpZ2h0cycpO1xyXG4gIGNvbnN0IGZvb3RlclNvY2lhbCA9ICQoJy5mb290ZXItc29jaWFsJyk7XHJcblxyXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgd3JhcHBlci5hbmltYXRlKHtvcGFjaXR5OiAxfSwgNTAwKTtcclxuICB9LCA1MDApO1xyXG5cclxuICBwYWdlUmVwYWludCgpO1xyXG5cclxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIHBhZ2VSZXBhaW50KCk7XHJcbiAgfSk7XHJcblxyXG4gICQoJy5oZWFkZXItc2VhcmNoIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgZm9ybSA9ICQodGhpcykucGFyZW50cygnLmhlYWRlci1zZWFyY2gnKTtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcclxuICAgICAgaWYgKGZvcm0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3JtLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCgnLmZpZWxkLXJhdGUtbGlzdCBpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLmluZGV4KCkgKyAxO1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuZmllbGQtcmF0ZScpLmZpbmQoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nKS52YWwodmFsdWUpO1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuZmllbGQtcmF0ZS1saXN0JykuZmluZCgnaScpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgIGlmIChpbmRleCA+PSB2YWx1ZSkge1xyXG4gICAgICAgICQoZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2ZhLXJlZCcpLmFkZENsYXNzKCdmYS1ncmV5Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChlbGVtZW50KS5yZW1vdmVDbGFzcygnZmEtZ3JleScpLmFkZENsYXNzKCdmYS1yZWQnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gICQoJy5maWVsZC1maWxlIGlucHV0W3R5cGU9XCJmaWxlXCJdJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHZhbEFycmF5ID0gJCh0aGlzKS52YWwoKS5zcGxpdCgnXFxcXCcpO1xyXG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLmZpZWxkLWZpbGUtdGV4dCcpLnRleHQodmFsQXJyYXlbdmFsQXJyYXkubGVuZ3RoIC0gMV0pO1xyXG4gIH0pO1xyXG5cclxuICAkKCdpbnB1dFt0eXBlPVwidGVsXCJdJykubWFzayhcIis3ICg5OTkpIDk5OS05OTktOTlcIik7XHJcblxyXG4gICQoJy5oZWFkZXItYnVyZ2VyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuaGVhZGVyJykudG9nZ2xlQ2xhc3MoJ21lbnUtb3BlbmVkJyk7XHJcbiAgfSk7XHJcblxyXG4gICQoJy5jYXRhbG9nLWJ1cmdlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLmNhdGFsb2ctZmlsdGVyJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gIH0pO1xyXG5cclxuICAkKCdbZGF0YS1zZWxlY3QtY29udHJvbF0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICQodGhpcykucGFyZW50cygnW2RhdGEtc2VsZWN0XScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQodGhpcykucGFyZW50cygnW2RhdGEtc2VsZWN0XScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCgnW2RhdGEtc2VsZWN0XSB1bCBsaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLmh0bWwoKTtcclxuICAgICAgY29uc3QgdmFsdWVUZXh0ID0gKCQodGhpcykuZmluZCgnLmNvbG9yLWl0ZW0nKS5sZW5ndGgpXHJcbiAgICAgICAgPyAkKHRoaXMpLmZpbmQoJy5jb2xvci1pdGVtLW5hbWUnKS50ZXh0KClcclxuICAgICAgICA6ICQodGhpcykudGV4dCgpO1xyXG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuZmluZCgnW2RhdGEtc2VsZWN0LWNvbnRyb2xdJykuaHRtbCh2YWx1ZSk7XHJcbiAgICAgICQodGhpcykucGFyZW50cygnW2RhdGEtc2VsZWN0XScpLmZpbmQoJ2lucHV0JykudmFsKHZhbHVlVGV4dCk7XHJcbiAgICAgICQodGhpcykucGFyZW50cygnW2RhdGEtc2VsZWN0XScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCgnLmFtb3VudC1jaG9vc2VyIC5mYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGFtb3VudERPTSA9ICQodGhpcykucGFyZW50cygnLmFtb3VudC1jaG9vc2VyJykuZmluZCgnaW5wdXQnKTtcclxuICAgIGNvbnN0IGFtb3VudFZhbHVlID0gcGFyc2VJbnQoYW1vdW50RE9NLnZhbCgpKTtcclxuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdmYS1jaGV2cm9uLWxlZnQnKSkge1xyXG4gICAgICBpZiAoYW1vdW50VmFsdWUgPiAxKSB7XHJcbiAgICAgICAgYW1vdW50RE9NLnZhbChhbW91bnRWYWx1ZSAtIDEpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2ZhLWNoZXZyb24tcmlnaHQnKSkge1xyXG4gICAgICBhbW91bnRET00udmFsKGFtb3VudFZhbHVlICsgMSk7XHJcbiAgICB9XHJcbiAgICBhbW91bnRET00udHJpZ2dlcignY2hhbmdlJyk7XHJcbiAgfSk7XHJcblxyXG4gICQoJy5hbW91bnQtY2hvb3NlciBpbnB1dCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBhbW91bnRET00gPSAkKHRoaXMpLnBhcmVudHMoJy5hbW91bnQtY2hvb3NlcicpLmZpbmQoJ2lucHV0Jyk7XHJcbiAgICBjb25zdCBjb3N0RE9NID0gJCh0aGlzKS5wYXJlbnRzKCcuYW1vdW50LWNob29zZXInKS5zaWJsaW5ncygnLmNhcmQtY29zdCcpO1xyXG4gICAgY29uc3QgY29zdFZhbHVlID0gY29zdERPTS5sZW5ndGhcclxuICAgICAgPyBwYXJzZUludCgkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLWNvc3RdJykuYXR0cignZGF0YS1jb3N0JykpXHJcbiAgICAgIDogZmFsc2U7XHJcbiAgICBjb3N0RE9NLmh0bWwoYW1vdW50RE9NLnZhbCgpICogY29zdFZhbHVlICsgJyA8aSBjbGFzcz1cImZhIGZhLXJ1YlwiPjwvaT4nKTtcclxuICB9KTtcclxuXHJcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XHJcblxyXG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCdbZGF0YS1zZWxlY3RdJykubGVuZ3RoID09PSAwKSAkKCcuYWN0aXZlW2RhdGEtc2VsZWN0XScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmhlYWRlci1zZWFyY2gnKS5sZW5ndGggPT09IDApICQoJy5oZWFkZXItc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gcGFnZVJlcGFpbnQoKSB7XHJcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcclxuICAgICAgcmVuZGVyTW9iaWxlSGVhZGVyKCk7XHJcbiAgICAgIHJlbmRlck1vYmlsZUZvb3RlcigpO1xyXG4gICAgfSBlbHNlIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHtcclxuICAgICAgcmVuZGVyVGFibGV0SGVhZGVyKCk7XHJcbiAgICAgIHJlbmRlclRhYmxldEZvb3RlcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaGVhZGVyU2VhcmNoLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCgnLmhlYWRlcicpLnJlbW92ZUNsYXNzKCdtZW51LW9wZW5lZCcpO1xyXG4gICAgICByZW5kZXJEZXNrdG9wSGVhZGVyKCk7XHJcbiAgICAgIHJlbmRlckRlc2t0b3BGb290ZXIoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlck1vYmlsZUhlYWRlcigpIHtcclxuICAgIGhlYWRlclNlYXJjaC5pbnNlcnRCZWZvcmUoaGVhZGVyQ2FydCk7XHJcbiAgICBoZWFkZXJDb250YWN0cy5hcHBlbmRUbyhoZWFkZXJOYXYpO1xyXG4gICAgaGVhZGVyQWRkcmVzcy5hcHBlbmRUbyhoZWFkZXJOYXYpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyVGFibGV0SGVhZGVyKCkge1xyXG4gICAgaGVhZGVyU2VhcmNoLmluc2VydEJlZm9yZShoZWFkZXJDYXJ0KTtcclxuICAgIGhlYWRlckNvbnRhY3RzLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XHJcbiAgICBoZWFkZXJBZGRyZXNzLmFwcGVuZFRvKGhlYWRlck5hdik7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJEZXNrdG9wSGVhZGVyKCkge1xyXG4gICAgaGVhZGVyU2VhcmNoLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XHJcbiAgICBoZWFkZXJDb250YWN0cy5hcHBlbmRUbyhoZWFkZXJCb3R0b20pO1xyXG4gICAgaGVhZGVyQWRkcmVzcy5hcHBlbmRUbyhoZWFkZXJCb3R0b20pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyTW9iaWxlRm9vdGVyKCkge1xyXG4gICAgZm9vdGVyU3Vic2NyaWJlLmluc2VydEFmdGVyKGZvb3RlckNvcHlyaWdodHMpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyVGFibGV0Rm9vdGVyKCkge1xyXG4gICAgZm9vdGVyU3Vic2NyaWJlLmluc2VydEJlZm9yZShmb290ZXJTb2NpYWwpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyRGVza3RvcEZvb3RlcigpIHtcclxuICAgICAgZm9vdGVyU3Vic2NyaWJlLmluc2VydEJlZm9yZShmb290ZXJTb2NpYWwpO1xyXG4gIH1cclxuXHJcbn0pO1xyXG4iLCIkKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgY29uc3QgaGVybyA9ICQoJy5oZXJvJyk7XHJcblxyXG4gIGlmIChoZXJvLmxlbmd0aCkge1xyXG4gICAgaGVyby5zbGljayh7XHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgIGZhZGU6IHRydWUsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBhdXRvcGxheVNwZWVkOiA1MDAwXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KTtcclxuIl19
