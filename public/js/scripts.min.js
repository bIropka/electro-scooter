"use strict";$(function(){var e=$(".wrapper"),s=$(".header-bottom .wrapper-inner"),t=$(".header-nav"),i=$(".header .contacts"),a=$(".header .address-hours"),n=$(".header-search"),l=$(".header-cart"),o=$(".footer-subscribe"),r=$(".footer-copyrights"),c=$(".footer-social"),d=$(".chooser");function h(){$(window).width()<768?(n.insertBefore(l),i.appendTo(t),a.appendTo(t),o.insertAfter(r)):($(window).width()<1200?(n.insertBefore(l),i.appendTo(s),a.appendTo(t)):(n.removeClass("active"),$(".header").removeClass("menu-opened"),n.appendTo(s),i.appendTo(s),a.appendTo(s)),o.insertBefore(c))}setTimeout(function(){e.animate({opacity:1},500)},500),h(),$(window).on("resize",function(){h()}),$('.header-search button[type="submit"]').on("click",function(e){e.preventDefault();var s=$(this).parents(".header-search");$(window).width()<1200?s.hasClass("active")?s.submit():s.addClass("active"):s.submit()}),$(".field-rate-list i").on("click",function(){var t=$(this).index()+1;$(this).parents(".field-rate").find('input[type="hidden"]').val(t),$(this).parents(".field-rate-list").find("i").each(function(e,s){t<=e?$(s).removeClass("fa-red").addClass("fa-grey"):$(s).removeClass("fa-grey").addClass("fa-red")})}),$('.field-file input[type="file"]').on("change",function(){var e=$(this).val().split("\\");$(this).siblings(".field-file-text").text(e[e.length-1])}),$('input[type="tel"]').mask("+7 (999) 999-999-99"),$(".header-burger").on("click",function(){$(this).parents(".header").toggleClass("menu-opened")}),$(".catalog-burger").on("click",function(){$(this).toggleClass("active"),$(this).siblings(".catalog-filter").toggleClass("active")}),$("[data-select-control]").on("click",function(){$(this).parents("[data-select]").hasClass("active")?$(this).parents("[data-select]").removeClass("active"):($("[data-select]").removeClass("active"),$(this).parents("[data-select]").addClass("active"))}),$("[data-select] ul li").on("click",function(){if(!$(this).hasClass("active")){var e=$(this).html(),s=$(this).find(".color-item").length?$(this).find(".color-item-name").text():$(this).text();$(this).addClass("active"),$(this).siblings(".active").removeClass("active"),$(this).parents("[data-select]").find("[data-select-control]").html(e),$(this).parents("[data-select]").find("input").val(s),$(this).parents("[data-select]").removeClass("active")}}),$(".amount-chooser .fa").on("click",function(){var e=$(this).parents(".amount-chooser").find("input"),s=parseInt(e.val());$(this).hasClass("fa-chevron-left")?1<s&&e.val(s-1):$(this).hasClass("fa-chevron-right")&&e.val(s+1),e.trigger("change")}),$(".amount-chooser input").on("change",function(){var e=$(this).parents(".amount-chooser").find("input"),s=$(this).parents(".amount-chooser").siblings(".card-cost"),t=!!s.length&&parseInt($(this).parents("[data-cost]").attr("data-cost"));s.html(e.val()*t+' <i class="fa fa-rub"></i>')}),d.find(".chooser-value").on("click",function(){$(this).parents(".chooser").toggleClass("active")}),d.find("ul li").on("click",function(){if(!$(this).hasClass("active")){var e=$(this).text();$(this).siblings().removeClass("active"),$(this).addClass("active"),$(this).parents(".chooser").find(".chooser-value").text(e),$(this).parents(".chooser").removeClass("active")}}),$(document).on("click",function(e){var s=$(e.target);0===s.closest("[data-select]").length&&$(".active[data-select]").removeClass("active"),0===s.closest(".header-search").length&&$(".header-search").removeClass("active"),0===s.closest(".chooser").length&&d.removeClass("active")})}),$(function(){var e=$(".advantages ul");function s(){$(window).width()<768?e.hasClass("slick-slider")||e.slick({infinite:!1}):e.hasClass("slick-slider")&&e.slick("unslick")}e.length&&s(),$(window).on("resize",function(){e.length&&s()})}),$(function(){var e=$(".hero");e.length&&e.slick({dots:!0,arrows:!1,fade:!0,autoplay:!0,autoplaySpeed:5e3})}),$(function(){var e=$(".certificates-list, .product-list, .articles-list, .reviews-list");e.length&&(e.each(function(){$(this).hasClass("product-list")||$(this).hasClass("certificates-list")?$(this).slick({slidesToShow:4,infinite:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:3,infinite:!1}},{breakpoint:930,settings:{slidesToShow:2,infinite:!1}},{breakpoint:768,settings:{infinite:!0,slidesToShow:1}}]}):$(this).slick({slidesToShow:2,vertical:!1,infinite:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2,infinite:!1,vertical:!0}},{breakpoint:768,settings:{slidesToShow:1,infinite:!0,vertical:!1}}]}),$(this).find(".slick-prev").addClass("disabled")}),e.on("beforeChange",function(e,s,t,i){!function(e,s){var t=$(e).find(".slick-prev"),i=$(e).find(".slick-next"),a=$(e).find(".slick-slide").length,n=$(e).find(".slick-slide.slick-active").length,l=n+1===a;0===s?(t.addClass("disabled"),i.removeClass("disabled")):t.removeClass("disabled");l?a<=s+n?(i.addClass("disabled"),t.removeClass("disabled")):i.removeClass("disabled"):a-1<s+n?(i.addClass("disabled"),t.removeClass("disabled")):i.removeClass("disabled")}($(this),i)}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJhZHZhbnRhZ2VzLmpzIiwiaGVyby5qcyIsInNsaWRlcnMuanMiXSwibmFtZXMiOlsiJCIsIndyYXBwZXIiLCJoZWFkZXJCb3R0b20iLCJoZWFkZXJOYXYiLCJoZWFkZXJDb250YWN0cyIsImhlYWRlckFkZHJlc3MiLCJoZWFkZXJTZWFyY2giLCJoZWFkZXJDYXJ0IiwiZm9vdGVyU3Vic2NyaWJlIiwiZm9vdGVyQ29weXJpZ2h0cyIsImZvb3RlclNvY2lhbCIsImNob29zZXIiLCJwYWdlUmVwYWludCIsIndpbmRvdyIsIndpZHRoIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kVG8iLCJpbnNlcnRBZnRlciIsInJlbW92ZUNsYXNzIiwic2V0VGltZW91dCIsImFuaW1hdGUiLCJvcGFjaXR5Iiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsInRoaXMiLCJwYXJlbnRzIiwiaGFzQ2xhc3MiLCJzdWJtaXQiLCJhZGRDbGFzcyIsInZhbHVlIiwiaW5kZXgiLCJmaW5kIiwidmFsIiwiZWFjaCIsImVsZW1lbnQiLCJ2YWxBcnJheSIsInNwbGl0Iiwic2libGluZ3MiLCJ0ZXh0IiwibGVuZ3RoIiwibWFzayIsInRvZ2dsZUNsYXNzIiwiaHRtbCIsInZhbHVlVGV4dCIsImFtb3VudERPTSIsImFtb3VudFZhbHVlIiwicGFyc2VJbnQiLCJ0cmlnZ2VyIiwiY29zdERPTSIsImNvc3RWYWx1ZSIsImF0dHIiLCJkb2N1bWVudCIsInRhcmdldCIsImNsb3Nlc3QiLCJhZHZhbnRhZ2VzIiwicmVwYWludEFkdmFudGFnZXMiLCJzbGljayIsImluZmluaXRlIiwiaGVybyIsImRvdHMiLCJhcnJvd3MiLCJmYWRlIiwiYXV0b3BsYXkiLCJhdXRvcGxheVNwZWVkIiwic2xpZGVycyIsInNsaWRlc1RvU2hvdyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJ2ZXJ0aWNhbCIsImN1cnJlbnRTbGlkZSIsIm5leHRTbGlkZSIsInNsaWRlciIsInByZXYiLCJuZXh0Iiwic2l6ZSIsInZpc2libGUiLCJzbWFsbEFtb3VudCIsInNldFNsaWRlckFycm93cyJdLCJtYXBwaW5ncyI6ImFBQUFBLEVBQUUsV0FFQSxJQUFNQyxFQUFVRCxFQUFFLFlBQ1pFLEVBQWVGLEVBQUUsaUNBQ2pCRyxFQUFZSCxFQUFFLGVBQ2RJLEVBQWlCSixFQUFFLHFCQUNuQkssRUFBZ0JMLEVBQUUsMEJBQ2xCTSxFQUFlTixFQUFFLGtCQUNqQk8sRUFBYVAsRUFBRSxnQkFDZlEsRUFBa0JSLEVBQUUscUJBQ3BCUyxFQUFtQlQsRUFBRSxzQkFDckJVLEVBQWVWLEVBQUUsa0JBQ2pCVyxFQUFVWCxFQUFFLFlBMEhsQixTQUFTWSxJQUNIWixFQUFFYSxRQUFRQyxRQUFVLEtBZXhCUixFQUFhUyxhQUFhUixHQUMxQkgsRUFBZVksU0FBU2IsR0FDeEJFLEVBQWNXLFNBQVNiLEdBZ0J2QkssRUFBZ0JTLFlBQVlSLEtBOUJqQlQsRUFBRWEsUUFBUUMsUUFBVSxNQWtCL0JSLEVBQWFTLGFBQWFSLEdBQzFCSCxFQUFlWSxTQUFTZCxHQUN4QkcsRUFBY1csU0FBU2IsS0FoQnJCRyxFQUFhWSxZQUFZLFVBQ3pCbEIsRUFBRSxXQUFXa0IsWUFBWSxlQW1CM0JaLEVBQWFVLFNBQVNkLEdBQ3RCRSxFQUFlWSxTQUFTZCxHQUN4QkcsRUFBY1csU0FBU2QsSUFRdkJNLEVBQWdCTyxhQUFhTCxJQTlKL0JTLFdBQVcsV0FDVGxCLEVBQVFtQixRQUFRLENBQUNDLFFBQVMsR0FBSSxNQUM3QixLQUVIVCxJQUVBWixFQUFFYSxRQUFRUyxHQUFHLFNBQVUsV0FDckJWLE1BR0ZaLEVBQUUsd0NBQXdDc0IsR0FBRyxRQUFTLFNBQVVDLEdBQzlEQSxFQUFNQyxpQkFDTixJQUFNQyxFQUFPekIsRUFBRTBCLE1BQU1DLFFBQVEsa0JBQ3pCM0IsRUFBRWEsUUFBUUMsUUFBVSxLQUNsQlcsRUFBS0csU0FBUyxVQUNoQkgsRUFBS0ksU0FFTEosRUFBS0ssU0FBUyxVQUdoQkwsRUFBS0ksV0FJVDdCLEVB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QUFZLFlBN0JuQjhELENBQWdCaEYsRUFBRTBCLE1BQU8rQyIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCkge1xuXG4gIGNvbnN0IHdyYXBwZXIgPSAkKCcud3JhcHBlcicpO1xuICBjb25zdCBoZWFkZXJCb3R0b20gPSAkKCcuaGVhZGVyLWJvdHRvbSAud3JhcHBlci1pbm5lcicpO1xuICBjb25zdCBoZWFkZXJOYXYgPSAkKCcuaGVhZGVyLW5hdicpO1xuICBjb25zdCBoZWFkZXJDb250YWN0cyA9ICQoJy5oZWFkZXIgLmNvbnRhY3RzJyk7XG4gIGNvbnN0IGhlYWRlckFkZHJlc3MgPSAkKCcuaGVhZGVyIC5hZGRyZXNzLWhvdXJzJyk7XG4gIGNvbnN0IGhlYWRlclNlYXJjaCA9ICQoJy5oZWFkZXItc2VhcmNoJyk7XG4gIGNvbnN0IGhlYWRlckNhcnQgPSAkKCcuaGVhZGVyLWNhcnQnKTtcbiAgY29uc3QgZm9vdGVyU3Vic2NyaWJlID0gJCgnLmZvb3Rlci1zdWJzY3JpYmUnKTtcbiAgY29uc3QgZm9vdGVyQ29weXJpZ2h0cyA9ICQoJy5mb290ZXItY29weXJpZ2h0cycpO1xuICBjb25zdCBmb290ZXJTb2NpYWwgPSAkKCcuZm9vdGVyLXNvY2lhbCcpO1xuICBjb25zdCBjaG9vc2VyID0gJCgnLmNob29zZXInKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB3cmFwcGVyLmFuaW1hdGUoe29wYWNpdHk6IDF9LCA1MDApO1xuICB9LCA1MDApO1xuXG4gIHBhZ2VSZXBhaW50KCk7XG5cbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgcGFnZVJlcGFpbnQoKTtcbiAgfSk7XG5cbiAgJCgnLmhlYWRlci1zZWFyY2ggYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm0gPSAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXItc2VhcmNoJyk7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkge1xuICAgICAgaWYgKGZvcm0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5maWVsZC1yYXRlLWxpc3QgaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB2YWx1ZSA9ICQodGhpcykuaW5kZXgoKSArIDE7XG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuZmllbGQtcmF0ZScpLmZpbmQoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nKS52YWwodmFsdWUpO1xuICAgICQodGhpcykucGFyZW50cygnLmZpZWxkLXJhdGUtbGlzdCcpLmZpbmQoJ2knKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xuICAgICAgaWYgKGluZGV4ID49IHZhbHVlKSB7XG4gICAgICAgICQoZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2ZhLXJlZCcpLmFkZENsYXNzKCdmYS1ncmV5Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKCdmYS1ncmV5JykuYWRkQ2xhc3MoJ2ZhLXJlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAkKCcuZmllbGQtZmlsZSBpbnB1dFt0eXBlPVwiZmlsZVwiXScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdmFsQXJyYXkgPSAkKHRoaXMpLnZhbCgpLnNwbGl0KCdcXFxcJyk7XG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLmZpZWxkLWZpbGUtdGV4dCcpLnRleHQodmFsQXJyYXlbdmFsQXJyYXkubGVuZ3RoIC0gMV0pO1xuICB9KTtcblxuICAkKCdpbnB1dFt0eXBlPVwidGVsXCJdJykubWFzayhcIis3ICg5OTkpIDk5OS05OTktOTlcIik7XG5cbiAgJCgnLmhlYWRlci1idXJnZXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuaGVhZGVyJykudG9nZ2xlQ2xhc3MoJ21lbnUtb3BlbmVkJyk7XG4gIH0pO1xuXG4gICQoJy5jYXRhbG9nLWJ1cmdlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuY2F0YWxvZy1maWx0ZXInKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xuXG4gICQoJ1tkYXRhLXNlbGVjdC1jb250cm9sXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJ1tkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLXNlbGVjdF0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcblxuICAkKCdbZGF0YS1zZWxlY3RdIHVsIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gJCh0aGlzKS5odG1sKCk7XG4gICAgICBjb25zdCB2YWx1ZVRleHQgPSAoJCh0aGlzKS5maW5kKCcuY29sb3ItaXRlbScpLmxlbmd0aClcbiAgICAgICAgPyAkKHRoaXMpLmZpbmQoJy5jb2xvci1pdGVtLW5hbWUnKS50ZXh0KClcbiAgICAgICAgOiAkKHRoaXMpLnRleHQoKTtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykucGFyZW50cygnW2RhdGEtc2VsZWN0XScpLmZpbmQoJ1tkYXRhLXNlbGVjdC1jb250cm9sXScpLmh0bWwodmFsdWUpO1xuICAgICAgJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1zZWxlY3RdJykuZmluZCgnaW5wdXQnKS52YWwodmFsdWVUZXh0KTtcbiAgICAgICQodGhpcykucGFyZW50cygnW2RhdGEtc2VsZWN0XScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5hbW91bnQtY2hvb3NlciAuZmEnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgYW1vdW50RE9NID0gJCh0aGlzKS5wYXJlbnRzKCcuYW1vdW50LWNob29zZXInKS5maW5kKCdpbnB1dCcpO1xuICAgIGNvbnN0IGFtb3VudFZhbHVlID0gcGFyc2VJbnQoYW1vdW50RE9NLnZhbCgpKTtcbiAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZmEtY2hldnJvbi1sZWZ0JykpIHtcbiAgICAgIGlmIChhbW91bnRWYWx1ZSA+IDEpIHtcbiAgICAgICAgYW1vdW50RE9NLnZhbChhbW91bnRWYWx1ZSAtIDEpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZmEtY2hldnJvbi1yaWdodCcpKSB7XG4gICAgICBhbW91bnRET00udmFsKGFtb3VudFZhbHVlICsgMSk7XG4gICAgfVxuICAgIGFtb3VudERPTS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgfSk7XG5cbiAgJCgnLmFtb3VudC1jaG9vc2VyIGlucHV0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBhbW91bnRET00gPSAkKHRoaXMpLnBhcmVudHMoJy5hbW91bnQtY2hvb3NlcicpLmZpbmQoJ2lucHV0Jyk7XG4gICAgY29uc3QgY29zdERPTSA9ICQodGhpcykucGFyZW50cygnLmFtb3VudC1jaG9vc2VyJykuc2libGluZ3MoJy5jYXJkLWNvc3QnKTtcbiAgICBjb25zdCBjb3N0VmFsdWUgPSBjb3N0RE9NLmxlbmd0aFxuICAgICAgPyBwYXJzZUludCgkKHRoaXMpLnBhcmVudHMoJ1tkYXRhLWNvc3RdJykuYXR0cignZGF0YS1jb3N0JykpXG4gICAgICA6IGZhbHNlO1xuICAgIGNvc3RET00uaHRtbChhbW91bnRET00udmFsKCkgKiBjb3N0VmFsdWUgKyAnIDxpIGNsYXNzPVwiZmEgZmEtcnViXCI+PC9pPicpO1xuICB9KTtcblxuICBjaG9vc2VyLmZpbmQoJy5jaG9vc2VyLXZhbHVlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucGFyZW50cygnLmNob29zZXInKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xuXG4gIGNob29zZXIuZmluZCgndWwgbGknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLnRleHQoKTtcbiAgICAgICQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykucGFyZW50cygnLmNob29zZXInKS5maW5kKCcuY2hvb3Nlci12YWx1ZScpLnRleHQodmFsdWUpO1xuICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuY2hvb3NlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcblxuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnW2RhdGEtc2VsZWN0XScpLmxlbmd0aCA9PT0gMCkgJCgnLmFjdGl2ZVtkYXRhLXNlbGVjdF0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuaGVhZGVyLXNlYXJjaCcpLmxlbmd0aCA9PT0gMCkgJCgnLmhlYWRlci1zZWFyY2gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuY2hvb3NlcicpLmxlbmd0aCA9PT0gMCkgY2hvb3Nlci5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgfSk7XG5cbiAgZnVuY3Rpb24gcGFnZVJlcGFpbnQoKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgICByZW5kZXJNb2JpbGVIZWFkZXIoKTtcbiAgICAgIHJlbmRlck1vYmlsZUZvb3RlcigpO1xuICAgIH0gZWxzZSBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCAxMjAwKSB7XG4gICAgICByZW5kZXJUYWJsZXRIZWFkZXIoKTtcbiAgICAgIHJlbmRlclRhYmxldEZvb3RlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkZXJTZWFyY2gucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCgnLmhlYWRlcicpLnJlbW92ZUNsYXNzKCdtZW51LW9wZW5lZCcpO1xuICAgICAgcmVuZGVyRGVza3RvcEhlYWRlcigpO1xuICAgICAgcmVuZGVyRGVza3RvcEZvb3RlcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlck1vYmlsZUhlYWRlcigpIHtcbiAgICBoZWFkZXJTZWFyY2guaW5zZXJ0QmVmb3JlKGhlYWRlckNhcnQpO1xuICAgIGhlYWRlckNvbnRhY3RzLmFwcGVuZFRvKGhlYWRlck5hdik7XG4gICAgaGVhZGVyQWRkcmVzcy5hcHBlbmRUbyhoZWFkZXJOYXYpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyVGFibGV0SGVhZGVyKCkge1xuICAgIGhlYWRlclNlYXJjaC5pbnNlcnRCZWZvcmUoaGVhZGVyQ2FydCk7XG4gICAgaGVhZGVyQ29udGFjdHMuYXBwZW5kVG8oaGVhZGVyQm90dG9tKTtcbiAgICBoZWFkZXJBZGRyZXNzLmFwcGVuZFRvKGhlYWRlck5hdik7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJEZXNrdG9wSGVhZGVyKCkge1xuICAgIGhlYWRlclNlYXJjaC5hcHBlbmRUbyhoZWFkZXJCb3R0b20pO1xuICAgIGhlYWRlckNvbnRhY3RzLmFwcGVuZFRvKGhlYWRlckJvdHRvbSk7XG4gICAgaGVhZGVyQWRkcmVzcy5hcHBlbmRUbyhoZWFkZXJCb3R0b20pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyTW9iaWxlRm9vdGVyKCkge1xuICAgIGZvb3RlclN1YnNjcmliZS5pbnNlcnRBZnRlcihmb290ZXJDb3B5cmlnaHRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlclRhYmxldEZvb3RlcigpIHtcbiAgICBmb290ZXJTdWJzY3JpYmUuaW5zZXJ0QmVmb3JlKGZvb3RlclNvY2lhbCk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJEZXNrdG9wRm9vdGVyKCkge1xuICAgICAgZm9vdGVyU3Vic2NyaWJlLmluc2VydEJlZm9yZShmb290ZXJTb2NpYWwpO1xuICB9XG5cbn0pO1xuIiwiJChmdW5jdGlvbiAoKSB7XG5cbiAgY29uc3QgYWR2YW50YWdlcyA9ICQoJy5hZHZhbnRhZ2VzIHVsJyk7XG5cbiAgaWYgKGFkdmFudGFnZXMubGVuZ3RoKSB7XG4gICAgcmVwYWludEFkdmFudGFnZXMoKTtcbiAgfVxuXG4gICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgIGlmIChhZHZhbnRhZ2VzLmxlbmd0aCkge1xuICAgICAgcmVwYWludEFkdmFudGFnZXMoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHJlcGFpbnRBZHZhbnRhZ2VzICgpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgIGlmICghYWR2YW50YWdlcy5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcbiAgICAgICAgYWR2YW50YWdlcy5zbGljayh7XG4gICAgICAgICAgaW5maW5pdGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYWR2YW50YWdlcy5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcbiAgICAgICAgYWR2YW50YWdlcy5zbGljaygndW5zbGljaycpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59KTtcbiIsIiQoZnVuY3Rpb24gKCkge1xuXG4gIGNvbnN0IGhlcm8gPSAkKCcuaGVybycpO1xuXG4gIGlmIChoZXJvLmxlbmd0aCkge1xuICAgIGhlcm8uc2xpY2soe1xuICAgICAgZG90czogdHJ1ZSxcbiAgICAgIGFycm93czogZmFsc2UsXG4gICAgICBmYWRlOiB0cnVlLFxuICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICBhdXRvcGxheVNwZWVkOiA1MDAwXG4gICAgfSk7XG4gIH1cblxufSk7XG4iLCIkKGZ1bmN0aW9uICgpIHtcblxuICBjb25zdCBzbGlkZXJzID0gJCgnLmNlcnRpZmljYXRlcy1saXN0LCAucHJvZHVjdC1saXN0LCAuYXJ0aWNsZXMtbGlzdCwgLnJldmlld3MtbGlzdCcpO1xuXG4gIGlmIChzbGlkZXJzLmxlbmd0aCkge1xuXG4gICAgc2xpZGVycy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdwcm9kdWN0LWxpc3QnKSB8fCAkKHRoaXMpLmhhc0NsYXNzKCdjZXJ0aWZpY2F0ZXMtbGlzdCcpKSB7XG4gICAgICAgICQodGhpcykuc2xpY2soe1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogNCxcbiAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBicmVha3BvaW50OiAxMjAwLFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogOTMwLFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQodGhpcykuc2xpY2soe1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICB2ZXJ0aWNhbDpmYWxzZSxcbiAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBicmVha3BvaW50OiAxMjAwLFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmVydGljYWw6IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAkKHRoaXMpLmZpbmQoJy5zbGljay1wcmV2JykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfSk7XG5cbiAgICBzbGlkZXJzLm9uKCdiZWZvcmVDaGFuZ2UnLCBmdW5jdGlvbihldmVudCwgc2xpY2ssIGN1cnJlbnRTbGlkZSwgbmV4dFNsaWRlKSB7XG4gICAgICBzZXRTbGlkZXJBcnJvd3MoJCh0aGlzKSwgbmV4dFNsaWRlKTtcbiAgICB9KTtcblxuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2xpZGVyQXJyb3dzIChzbGlkZXIsIG5leHRTbGlkZSkge1xuICAgIGNvbnN0IHByZXYgPSAkKHNsaWRlcikuZmluZCgnLnNsaWNrLXByZXYnKTtcbiAgICBjb25zdCBuZXh0ID0gJChzbGlkZXIpLmZpbmQoJy5zbGljay1uZXh0Jyk7XG4gICAgY29uc3Qgc2l6ZSA9ICQoc2xpZGVyKS5maW5kKCcuc2xpY2stc2xpZGUnKS5sZW5ndGg7XG4gICAgY29uc3QgdmlzaWJsZSA9ICQoc2xpZGVyKS5maW5kKCcuc2xpY2stc2xpZGUuc2xpY2stYWN0aXZlJykubGVuZ3RoO1xuICAgIGNvbnN0IHNtYWxsQW1vdW50ID0gdmlzaWJsZSArIDEgPT09IHNpemU7XG4gICAgaWYgKG5leHRTbGlkZSA9PT0gMCkge1xuICAgICAgcHJldi5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIG5leHQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXYucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGlmIChzbWFsbEFtb3VudCkge1xuICAgICAgaWYgKG5leHRTbGlkZSArIHZpc2libGUgPj0gc2l6ZSkge1xuICAgICAgICBuZXh0LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICBwcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5leHRTbGlkZSArIHZpc2libGUgPiBzaXplIC0gMSkge1xuICAgICAgICBuZXh0LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICBwcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufSk7XG4iXX0=
